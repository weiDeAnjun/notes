# æ•°æ®ç»“æ„ä¸ç®—æ³•

æœ¯æœ‰åƒæ³• é“æœ¬å½’ä¸€



ç†è®ºæŠŠå…·ä½“æå–ä¸ºæŠ½è±¡

å®è·µæ˜¯æŠŠæŠ½è±¡å®ç”¨ä¸ºå…·ä½“



çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ… ç»çŸ¥æ­¤äº‹è¦èº¬è¡Œ









![img](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\wps781D.tmp-1740015035071-1.jpg)

è¿™ä¸ªå›¾å°±æ˜¯å‘Šè¯‰æˆ‘è‡ªå·±ï¼Œä¸‹æ–‡å†…å®¹åªæ˜¯è®²è¿°æŠ½è±¡æ¨¡å‹ï¼Œè¦ä¼šå…·ä½“åº”ç”¨æ‰è¡Œã€‚

















## å¼€å§‹

------------------------------------------------------------------------------------------------------------------------------------------------------------



### æ•°ç»„ã€å•é“¾è¡¨

ä¸ºäº†åˆ†åˆ«ä½“ç°å­˜å‚¨ç»“æ„çš„é¡ºåºå­˜å‚¨å’Œé“¾å¼å­˜å‚¨ã€‚

 

****é¡ºåºå­˜å‚¨ç›¸å…³æ“ä½œåŠå®ç°-æ•°ç»„\****



```java
public class StaitcArray{
    
    int[] array = new int[10];
    
    int a = array[0];
    
}
```

é™æ€æ•°ç»„å› ä¸ºéšæœºè®¿é—®ï¼ŒæŸ¥æ‰¾å¤æ‚åº¦å§‹ç»ˆO(1)ï¼Œä½†å¢åˆ æ“ä½œæ­¥éª¤å¤šã€æ•ˆç‡ä½ï¼ŒåŠ¨æ€æ•°ç»„ç®—æ˜¯å¯¹é™æ€æ•°ç»„è¿›è¡Œäº†æ“ä½œå°è£…ï¼Œè§£å†³äº†æ­¥éª¤å¤šè¿™ä¸€é—®é¢˜

æ•ˆç‡ä½æ˜¯å› ä¸ºè¿ç»­ç©ºé—´è¿™ä¸€ç‰¹æ€§å¸¦æ¥çš„å½±å“ï¼Œæ²¡èƒ½é¿å…



```c++
// åˆ›å»ºåŠ¨æ€æ•°ç»„
// ä¸ç”¨æ˜¾å¼æŒ‡å®šæ•°ç»„å¤§å°ï¼Œå®ƒä¼šæ ¹æ®å®é™…å­˜å‚¨çš„å…ƒç´ æ•°é‡è‡ªåŠ¨æ‰©ç¼©å®¹
vector<int> arr;

for (int i = 0; i < 10; i++) {
    // åœ¨æœ«å°¾è¿½åŠ å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(1)
    arr.push_back(i);
}

// åœ¨ä¸­é—´æ’å…¥å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)
// åœ¨ç´¢å¼• 2 çš„ä½ç½®æ’å…¥å…ƒç´  666
arr.insert(arr.begin() + 2, 666);

// åœ¨å¤´éƒ¨æ’å…¥å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)
arr.insert(arr.begin(), -1);

// åˆ é™¤æœ«å°¾å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(1)
arr.pop_back();

// åˆ é™¤ä¸­é—´å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)
// åˆ é™¤ç´¢å¼• 2 çš„å…ƒç´ 
arr.erase(arr.begin() + 2);

// æ ¹æ®ç´¢å¼•æŸ¥è¯¢å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(1)
int a = arr[0];

// æ ¹æ®ç´¢å¼•ä¿®æ”¹å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(1)
arr[0] = 100;

// æ ¹æ®å…ƒç´ å€¼æŸ¥æ‰¾ç´¢å¼•ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)
int index = find(arr.begin(), arr.end(), 666) - arr.begin();
```

 



â€‹	**åŠ¨æ€æ•°ç»„å®ç°åŸç†**

è¦æ³¨æ„çš„ç‚¹ï¼šæ‰©ç¼©å®¹æœºåˆ¶ã€ç´¢å¼•è¶Šç•Œæ£€æŸ¥ã€å†…å­˜æ³„æ¼

â€‹	æ‰©ç¼©å®¹æœºåˆ¶

åœ¨åŸºç¡€ä¸Šæ‰©å¤§2å€ã€å½“å…ƒç´ æ˜¯æ•°ç»„å¤§å°çš„1/4ï¼Œç¼©å‡è‡³åŸå¤§å°1/2

â€‹	ç´¢å¼•è¶Šç•Œæ£€æŸ¥

æœ‰ä¸¤ä¸ªæ£€æŸ¥è¶Šç•Œçš„æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ `checkElementIndex` å’Œ `checkPositionIndex`ï¼Œä½ å¯ä»¥çœ‹åˆ°å®ƒä¿©çš„åŒºåˆ«ä»…ä»…åœ¨äº `index < size` å’Œ `index <= size`ã€‚

sizeæ˜¯æ•°ç»„å¤§å°ï¼Œå‡è®¾size=9ï¼Œé‚£åˆæ³•ç´¢å¼•å°±æ˜¯0-8ï¼Œä½†è¿™æ˜¯å¯¹ç´¢å¼•è€Œè¨€åˆæ³•ã€‚å¯¹äºå…ƒç´ æ’å…¥ï¼Œ9ä¹Ÿæ˜¯åˆæ³•ä½ç½®ï¼Œæ¯•ç«Ÿç¡®å®å¯ä»¥æ’å…¥ï¼ˆæ•°ç»„å› ä¸ºç´¢å¼•è¶Šç•Œåœ¨ä½ç½®9å¾—åˆ°çš„å€¼ä¸åˆæ³•ï¼Œé‚£æ˜¯ç´¢å¼•çš„äº‹å„¿ï¼Œå’Œæ’å…¥æ— å…³ï¼‰



â€‹	å†…å­˜æ³„æ¼

åˆ é™¤å…ƒç´ è®°å¾—ç½®ä¸ºnull











åœ¨ Java é‡Œï¼ŒE å±äºæ³›å‹ç±»å‹å‚æ•°ã€‚æ³›å‹çš„ä½œç”¨æ˜¯è®©ç±»ã€æ¥å£æˆ–è€…æ–¹æ³•èƒ½å¤Ÿå¤„ç†å¤šç§ä¸åŒç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶ä¿è¯ç±»å‹çš„å®‰å…¨æ€§ã€‚å½“ä½ åœ¨å®šä¹‰ä¸€ä¸ªæ³›å‹ç±»æ—¶ï¼Œèƒ½å¤Ÿä½¿ç”¨æ³›å‹ç±»å‹å‚æ•°æ¥ä»£è¡¨ä»»æ„ç±»å‹ã€‚

â€‹        // æ³¨æ„ï¼šä¸èƒ½ç›´æ¥ new E[capacity]ï¼Œéœ€è¦è¿›è¡Œç±»å‹è½¬æ¢

â€‹        data = (E[]) new Object[capacity];

this(INIT_CAP); æ˜¯ä»€ä¹ˆæ“ä½œï¼Œthis åˆ°åº•æ˜¯ç±»è¿˜æ˜¯æ–¹æ³•

this(INIT_CAP); å±äºæ„é€ æ–¹æ³•çš„è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªæ„é€ æ–¹æ³•é‡Œè°ƒç”¨åŒä¸€ä¸ªç±»çš„å¦ä¸€ä¸ªæ„é€ æ–¹æ³•ã€‚this åœ¨è¿™é‡Œå¹¶ä¸æ˜¯ç±»ä¹Ÿä¸æ˜¯æ–¹æ³•ï¼Œè€Œæ˜¯ä¸€ä¸ªå¼•ç”¨å˜é‡ï¼Œå®ƒæŒ‡å‘å½“å‰å¯¹è±¡ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ this è°ƒç”¨æ„é€ æ–¹æ³•çš„ç¤ºä¾‹ï¼š

java

public class MyClass {

â€‹    private int capacity;



â€‹    public MyClass() {

â€‹        // è°ƒç”¨å¦ä¸€ä¸ªæ„é€ æ–¹æ³•

â€‹        this(10); 

â€‹    }



â€‹    public MyClass(int capacity) {

â€‹        this.capacity = capacity;

â€‹    }

}









### äºŒå‰æ ‘



#### å„ç§å„æ ·çš„äºŒå‰æ ‘

éçº¿æ€§æ•°æ®ç»“æ„

```java
/* äºŒå‰æ ‘èŠ‚ç‚¹ç±» */
class TreeNode {
    int val;         // èŠ‚ç‚¹å€¼
    TreeNode left;   // å·¦å­èŠ‚ç‚¹å¼•ç”¨
    TreeNode right;  // å³å­èŠ‚ç‚¹å¼•ç”¨
    TreeNode(int x) { val = x; }
}
```



- æ ¹èŠ‚ç‚¹ï¼ˆroot nodeï¼‰ï¼šä½äºäºŒå‰æ ‘é¡¶å±‚çš„èŠ‚ç‚¹ï¼Œæ²¡æœ‰çˆ¶èŠ‚ç‚¹ã€‚
- å¶èŠ‚ç‚¹ï¼ˆleaf nodeï¼‰ï¼šæ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œå…¶ä¸¤ä¸ªæŒ‡é’ˆå‡æŒ‡å‘ `None` ã€‚
- è¾¹ï¼ˆedgeï¼‰ï¼šè¿æ¥ä¸¤ä¸ªèŠ‚ç‚¹çš„çº¿æ®µï¼Œå³èŠ‚ç‚¹å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰ã€‚
- èŠ‚ç‚¹æ‰€åœ¨çš„å±‚ï¼ˆlevelï¼‰ï¼šä»é¡¶è‡³åº•é€’å¢ï¼Œæ ¹èŠ‚ç‚¹æ‰€åœ¨å±‚ä¸º 1 ã€‚
- èŠ‚ç‚¹çš„åº¦ï¼ˆdegreeï¼‰ï¼šèŠ‚ç‚¹çš„å­èŠ‚ç‚¹çš„æ•°é‡ã€‚åœ¨äºŒå‰æ ‘ä¸­ï¼Œåº¦çš„å–å€¼èŒƒå›´æ˜¯ 0ã€1ã€2 ã€‚
- äºŒå‰æ ‘çš„é«˜åº¦ï¼ˆheightï¼‰ï¼šä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶èŠ‚ç‚¹æ‰€ç»è¿‡çš„è¾¹çš„æ•°é‡ã€‚
- èŠ‚ç‚¹çš„æ·±åº¦ï¼ˆdepthï¼‰ï¼šä»æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹æ‰€ç»è¿‡çš„è¾¹çš„æ•°é‡ã€‚
- èŠ‚ç‚¹çš„é«˜åº¦ï¼ˆheightï¼‰ï¼šä»è·ç¦»è¯¥èŠ‚ç‚¹æœ€è¿œçš„å¶èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹æ‰€ç»è¿‡çš„è¾¹çš„æ•°é‡ã€‚



**å®Œç¾äºŒå‰æ ‘**

![image-20250329145046044](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250329145046044.png)



**å®Œå…¨äºŒå‰æ ‘**

![image-20250329145125898](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250329145125898.png)







**äºŒå‰æœç´¢æ ‘	é•œåƒäºŒå‰æœç´¢æ ‘**

æœç´¢æ ‘æ˜¯	å·¦å­æ ‘èŠ‚ç‚¹å€¼<æ ¹<å³å­æ ‘èŠ‚ç‚¹å€¼

æ ¹èŠ‚ç‚¹æ˜¯ç›¸å¯¹è€Œè¨€çš„

äºŒå‰æœç´¢æ ‘ä¸å…è®¸å­˜åœ¨é‡å¤èŠ‚ç‚¹



æŸ¥æ‰¾

```java
/* æŸ¥æ‰¾èŠ‚ç‚¹ */
TreeNode search(int num) {
    TreeNode cur = root;
    // å¾ªç¯æŸ¥æ‰¾ï¼Œè¶Šè¿‡å¶èŠ‚ç‚¹åè·³å‡º
    while (cur != null) {
        // ç›®æ ‡èŠ‚ç‚¹åœ¨ cur çš„å³å­æ ‘ä¸­
        if (cur.val < num)
            cur = cur.right;
        // ç›®æ ‡èŠ‚ç‚¹åœ¨ cur çš„å·¦å­æ ‘ä¸­
        else if (cur.val > num)
            cur = cur.left;
        // æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œè·³å‡ºå¾ªç¯
        else
            break;
    }
    // è¿”å›ç›®æ ‡èŠ‚ç‚¹
    return cur;
}
```

æ’å…¥

- ä¸ºäº†å®ç°æ’å…¥èŠ‚ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©èŠ‚ç‚¹ `pre` ä¿å­˜ä¸Šä¸€è½®å¾ªç¯çš„èŠ‚ç‚¹ã€‚è¿™æ ·åœ¨éå†è‡³ `None` æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°å…¶çˆ¶èŠ‚ç‚¹ï¼Œä»è€Œå®ŒæˆèŠ‚ç‚¹æ’å…¥æ“ä½œã€‚

```java
/* æ’å…¥èŠ‚ç‚¹ */
void insert(int num) {
    // è‹¥æ ‘ä¸ºç©ºï¼Œåˆ™åˆå§‹åŒ–æ ¹èŠ‚ç‚¹
    if (root == null) {
        root = new TreeNode(num);
        return;
    }
    TreeNode cur = root, pre = null;
    // å¾ªç¯æŸ¥æ‰¾ï¼Œè¶Šè¿‡å¶èŠ‚ç‚¹åè·³å‡º
    while (cur != null) {
        // æ‰¾åˆ°é‡å¤èŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›
        if (cur.val == num)
            return;
        pre = cur;
        // æ’å…¥ä½ç½®åœ¨ cur çš„å³å­æ ‘ä¸­
        if (cur.val < num)
            cur = cur.right;
        // æ’å…¥ä½ç½®åœ¨ cur çš„å·¦å­æ ‘ä¸­
        else
            cur = cur.left;
    }
    // æ’å…¥èŠ‚ç‚¹
    TreeNode node = new TreeNode(num);
    if (pre.val < num)
        pre.right = node;
    else
        pre.left = node;
}
```



åˆ é™¤

- æ ¹æ®ç›®æ ‡èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°é‡ï¼Œåˆ† 0ã€1 å’Œ 2 ä¸‰ç§æƒ…å†µï¼Œæ‰§è¡Œå¯¹åº”çš„åˆ é™¤èŠ‚ç‚¹æ“ä½œã€‚

    å¦‚å›¾ 7-19 æ‰€ç¤ºï¼Œå½“å¾…åˆ é™¤èŠ‚ç‚¹çš„åº¦ä¸º 0 æ—¶ï¼Œè¡¨ç¤ºè¯¥èŠ‚ç‚¹æ˜¯å¶èŠ‚ç‚¹ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤ã€‚

```java
/* åˆ é™¤èŠ‚ç‚¹ */
void remove(int num) {
    // è‹¥æ ‘ä¸ºç©ºï¼Œç›´æ¥æå‰è¿”å›
    if (root == null)
        return;
    TreeNode cur = root, pre = null;
    // å¾ªç¯æŸ¥æ‰¾ï¼Œè¶Šè¿‡å¶èŠ‚ç‚¹åè·³å‡º
    while (cur != null) {
        // æ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œè·³å‡ºå¾ªç¯
        if (cur.val == num)
            break;
        pre = cur;
        // å¾…åˆ é™¤èŠ‚ç‚¹åœ¨ cur çš„å³å­æ ‘ä¸­
        if (cur.val < num)
            cur = cur.right;
        // å¾…åˆ é™¤èŠ‚ç‚¹åœ¨ cur çš„å·¦å­æ ‘ä¸­
        else
            cur = cur.left;
    }
    // è‹¥æ— å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥è¿”å›
    if (cur == null)
        return;
    // å­èŠ‚ç‚¹æ•°é‡ = 0 or 1
    if (cur.left == null || cur.right == null) {
        // å½“å­èŠ‚ç‚¹æ•°é‡ = 0 / 1 æ—¶ï¼Œ child = null / è¯¥å­èŠ‚ç‚¹
        TreeNode child = cur.left != null ? cur.left : cur.right;
        // åˆ é™¤èŠ‚ç‚¹ cur
        if (cur != root) {
            if (pre.left == cur)
                pre.left = child;
            else
                pre.right = child;
        } else {
            // è‹¥åˆ é™¤èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹ï¼Œåˆ™é‡æ–°æŒ‡å®šæ ¹èŠ‚ç‚¹
            root = child;
        }
    }
    // å­èŠ‚ç‚¹æ•°é‡ = 2
    else {
        // è·å–ä¸­åºéå†ä¸­ cur çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
        TreeNode tmp = cur.right;
        while (tmp.left != null) {
            tmp = tmp.left;
        }
        // é€’å½’åˆ é™¤èŠ‚ç‚¹ tmp
        remove(tmp.val);
        // ç”¨ tmp è¦†ç›– cur
        cur.val = tmp.val;
    }
}
```



äºŒå‰æ ‘çš„ä¸­åºéå†éµå¾ªâ€œå·¦ â†’ æ ¹ â†’ å³â€çš„éå†é¡ºåºï¼Œè€ŒäºŒå‰æœç´¢æ ‘æ»¡è¶³â€œå·¦å­èŠ‚ç‚¹ < æ ¹èŠ‚ç‚¹ < å³å­èŠ‚ç‚¹â€çš„å¤§å°å…³ç³»ã€‚

è¿™æ„å‘³ç€åœ¨äºŒå‰æœç´¢æ ‘ä¸­è¿›è¡Œä¸­åºéå†æ—¶ï¼Œæ€»æ˜¯ä¼šä¼˜å…ˆéå†ä¸‹ä¸€ä¸ªæœ€å°èŠ‚ç‚¹ï¼Œä»è€Œå¾—å‡ºä¸€ä¸ªé‡è¦æ€§è´¨ï¼š**äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†åºåˆ—æ˜¯å‡åºçš„**ã€‚

åˆ©ç”¨ä¸­åºéå†å‡åºçš„æ€§è´¨ï¼Œæˆ‘ä»¬åœ¨äºŒå‰æœç´¢æ ‘ä¸­è·å–æœ‰åºæ•°æ®ä»…éœ€ O(n) æ—¶é—´ï¼Œæ— é¡»è¿›è¡Œé¢å¤–çš„æ’åºæ“ä½œï¼Œéå¸¸é«˜æ•ˆã€‚

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250329150502705.png" alt="image-20250329150502705" style="zoom:50%;" />





**å¹³è¡¡æœç´¢äºŒå‰æ ‘	AVL**

![image-20250329145149939](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250329145149939.png)

AVL æ ‘æ—¢æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œä¹Ÿæ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼ŒåŒæ—¶æ»¡è¶³è¿™ä¸¤ç±»äºŒå‰æ ‘çš„æ‰€æœ‰æ€§è´¨ï¼Œå› æ­¤æ˜¯ä¸€ç§å¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚



å‡ºç°AVLæ ‘çš„åŸå› æ˜¯  äºŒå‰æ ‘å¦‚æœåªæœä¸€æ¡è·¯å¾„å¡«å……ï¼Œå°±ä¼šå˜ä¸ºé“¾è¡¨

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250329145233272.png" alt="image-20250329145233272" style="zoom:50%;" />

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250329145307269.png" alt="image-20250329145307269" />

é€šè¿‡å¹³è¡¡äºŒå‰æ ‘ï¼Œä¸æ–­è¿›è¡Œè°ƒæ•´ï¼Œå¯ä»¥é¿å…è¿™ç§æƒ…å†µ



AVL æ ‘çš„ç›¸å…³æ“ä½œéœ€è¦è·å–èŠ‚ç‚¹é«˜åº¦ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸ºèŠ‚ç‚¹ç±»æ·»åŠ  `height` å˜é‡

```java
/* AVL æ ‘èŠ‚ç‚¹ç±» */
class TreeNode {
    public int val;        // èŠ‚ç‚¹å€¼
    public int height;     // èŠ‚ç‚¹é«˜åº¦
    public TreeNode left;  // å·¦å­èŠ‚ç‚¹
    public TreeNode right; // å³å­èŠ‚ç‚¹
    public TreeNode(int x) { val = x; }
}
```

â€œèŠ‚ç‚¹é«˜åº¦â€æ˜¯æŒ‡ä»è¯¥èŠ‚ç‚¹åˆ°å®ƒçš„æœ€è¿œå¶èŠ‚ç‚¹çš„è·ç¦»ï¼Œå³æ‰€ç»è¿‡çš„â€œè¾¹â€çš„æ•°é‡ã€‚

éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå¶èŠ‚ç‚¹çš„é«˜åº¦ä¸º 0 ï¼Œè€Œç©ºèŠ‚ç‚¹çš„é«˜åº¦ä¸º âˆ’1 ã€‚æˆ‘ä»¬å°†åˆ›å»ºä¸¤ä¸ªå·¥å…·å‡½æ•°ï¼Œåˆ†åˆ«ç”¨äºè·å–å’Œæ›´æ–°èŠ‚ç‚¹çš„é«˜åº¦

```java
/* è·å–èŠ‚ç‚¹é«˜åº¦ */
int height(TreeNode node) {
    // ç©ºèŠ‚ç‚¹é«˜åº¦ä¸º -1 ï¼Œå¶èŠ‚ç‚¹é«˜åº¦ä¸º 0
    return node == null ? -1 : node.height;
}

/* æ›´æ–°èŠ‚ç‚¹é«˜åº¦ */
void updateHeight(TreeNode node) {
    // èŠ‚ç‚¹é«˜åº¦ç­‰äºæœ€é«˜å­æ ‘é«˜åº¦ + 1
    node.height = Math.max(height(node.left), height(node.right)) + 1;
}
```

èŠ‚ç‚¹çš„å¹³è¡¡å› å­ï¼ˆbalance factorï¼‰å®šä¹‰ä¸ºèŠ‚ç‚¹å·¦å­æ ‘çš„é«˜åº¦å‡å»å³å­æ ‘çš„é«˜åº¦ï¼ŒåŒæ—¶è§„å®šç©ºèŠ‚ç‚¹çš„å¹³è¡¡å› å­ä¸º 0 ã€‚å¹³è¡¡å› å­åº”åœ¨-1åˆ°1ä¹‹é—´

```java
/* è·å–å¹³è¡¡å› å­ */
int balanceFactor(TreeNode node) {
    // ç©ºèŠ‚ç‚¹å¹³è¡¡å› å­ä¸º 0
    if (node == null)
        return 0;
    // èŠ‚ç‚¹å¹³è¡¡å› å­ = å·¦å­æ ‘é«˜åº¦ - å³å­æ ‘é«˜åº¦
    return height(node.left) - height(node.right);
}
```



AVLæ ‘æ—‹è½¬

è‹¥å¤±è¡¡ï¼Œæ—‹è½¬

åœ¨ä¸å½±å“äºŒå‰æ ‘çš„ä¸­åºéå†åºåˆ—çš„å‰æä¸‹ï¼Œä½¿å¤±è¡¡èŠ‚ç‚¹é‡æ–°æ¢å¤å¹³è¡¡ã€‚



æ—‹è½¬ğŸ‘‰å³æ—‹ã€å·¦æ—‹ã€å³å·¦æ—‹ã€å·¦å³æ—‹



é€‰æ‹©æ—‹è½¬çš„æƒ…å†µï¼š

- å³æ—‹ï¼š   å·¦å­æ ‘çš„å·¦å­èŠ‚ç‚¹ï¼ˆLL æƒ…å†µï¼‰æ’å…¥å¯¼è‡´å¤±è¡¡

- å·¦æ—‹ï¼š   å³å­æ ‘çš„å³å­èŠ‚ç‚¹ï¼ˆRR æƒ…å†µï¼‰æ’å…¥å¯¼è‡´å¤±è¡¡

- å·¦å³æ—‹ï¼šå·¦å­æ ‘çš„å³å­èŠ‚ç‚¹ï¼ˆLR æƒ…å†µï¼‰æ’å…¥å¯¼è‡´å¤±è¡¡

- å³å·¦æ—‹ï¼šå³å­æ ‘çš„å·¦å­èŠ‚ç‚¹ï¼ˆRL æƒ…å†µï¼‰æ’å…¥å¯¼è‡´å¤±è¡¡

    

| å¤±è¡¡èŠ‚ç‚¹çš„å¹³è¡¡å› å­ | å­èŠ‚ç‚¹çš„å¹³è¡¡å› å­ | åº”é‡‡ç”¨çš„æ—‹è½¬æ–¹æ³• |
| :----------------- | :--------------- | :--------------- |
| >1 ï¼ˆå·¦åæ ‘ï¼‰      | â‰¥0               | å³æ—‹             |
| >1 ï¼ˆå·¦åæ ‘ï¼‰      | <0               | å…ˆå·¦æ—‹åå³æ—‹     |
| <âˆ’1 ï¼ˆå³åæ ‘ï¼‰     | â‰¤0               | å·¦æ—‹             |
| <âˆ’1 ï¼ˆå³åæ ‘ï¼‰     | >0               | å…ˆå³æ—‹åå·¦æ—‹     |







**å³æ—‹**

1. å°†å¤±è¡¡èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä½œä¸ºæ–°çš„æ ¹èŠ‚ç‚¹ã€‚
2. æ–°çš„æ ¹èŠ‚ç‚¹çš„å³å­æ ‘å˜ä¸ºå¤±è¡¡èŠ‚ç‚¹çš„å·¦å­æ ‘ã€‚
3. å¤±è¡¡èŠ‚ç‚¹å˜ä¸ºæ–°æ ¹èŠ‚ç‚¹çš„å³å­æ ‘ã€‚

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250329161237357.png" alt="image-20250329161237357" style="zoom:50%;" />

å·¦æ—‹åŒç†

1. å°†å¤±è¡¡èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä½œä¸ºæ–°çš„æ ¹èŠ‚ç‚¹ã€‚
2. æ–°çš„æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘å˜ä¸ºå¤±è¡¡èŠ‚ç‚¹çš„å³å­æ ‘ã€‚
3. å¤±è¡¡èŠ‚ç‚¹å˜ä¸ºæ–°æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘



å› ä¸ºåŸç†ç›¸åŒï¼Œä»£ç ç›¸å·®ä¸å¤§

```java
// æµç¨‹å°±æ˜¯ä¿å­˜è¦è¢«äº¤æ¢çš„èŠ‚ç‚¹
// äº¤æ¢èŠ‚ç‚¹
// æ›´æ–°é«˜åº¦
// è¿”å›è¿™æ£µå­æ ‘ æ–°çš„æ ¹èŠ‚ç‚¹

/* å³æ—‹æ“ä½œ */
// rotate  æ—‹è½¬
TreeNode rightRotate(TreeNode node) {
    TreeNode child = node.left;
    TreeNode grandChild = child.right;
    // ä»¥ child ä¸ºåŸç‚¹ï¼Œå°† node å‘å³æ—‹è½¬
    child.right = node;
    node.left = grandChild;
    // æ›´æ–°èŠ‚ç‚¹é«˜åº¦
    updateHeight(node);
    updateHeight(child);
    // è¿”å›æ—‹è½¬åå­æ ‘çš„æ ¹èŠ‚ç‚¹
    return child;
}


/* å·¦æ—‹æ“ä½œ */
//	right left äº’æ¢
TreeNode leftRotate(TreeNode node) {
    TreeNode child = node.right;
    TreeNode grandChild = child.left;
    // ä»¥ child ä¸ºåŸç‚¹ï¼Œå°† node å‘å·¦æ—‹è½¬
    child.left = node;
    node.right = grandChild;
    // æ›´æ–°èŠ‚ç‚¹é«˜åº¦
    updateHeight(node);
    updateHeight(child);
    // è¿”å›æ—‹è½¬åå­æ ‘çš„æ ¹èŠ‚ç‚¹
    return child;
}

```



å…ˆå·¦æ—‹å†å³æ—‹

1. å¯¹å·¦å­æ ‘è¿›è¡Œ RR æ—‹è½¬ï¼ˆå·¦æ—‹è½¬ï¼‰ã€‚
2. å¯¹å½“å‰èŠ‚ç‚¹è¿›è¡Œ LL æ—‹è½¬ï¼ˆå³æ—‹è½¬ï¼‰ã€‚

![image-20250329161711831](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250329161711831.png)



å…ˆå³æ—‹å†å·¦æ—‹

1. å¯¹å³å­æ ‘è¿›è¡Œ LL æ—‹è½¬ï¼ˆå³æ—‹è½¬ï¼‰ã€‚
2. å¯¹å½“å‰èŠ‚ç‚¹è¿›è¡Œ RR æ—‹è½¬ï¼ˆå·¦æ—‹è½¬ï¼‰ã€‚







æ‰€æœ‰æ“ä½œå°è£…ï¼ˆå‚è€ƒåˆšå¼€å§‹é‚£å¼ è¡¨æ ¼ï¼‰

```java
/* æ‰§è¡Œæ—‹è½¬æ“ä½œï¼Œä½¿è¯¥å­æ ‘é‡æ–°æ¢å¤å¹³è¡¡ */
TreeNode rotate(TreeNode node) {
    // è·å–èŠ‚ç‚¹ node çš„å¹³è¡¡å› å­
    int balanceFactor = balanceFactor(node);
    // å·¦åæ ‘
    if (balanceFactor > 1) {
        if (balanceFactor(node.left) >= 0) {
            // å³æ—‹
            return rightRotate(node);
        } else {
            // å…ˆå·¦æ—‹åå³æ—‹
            node.left = leftRotate(node.left);
            return rightRotate(node);
        }
    }
    // å³åæ ‘
    if (balanceFactor < -1) {
        if (balanceFactor(node.right) <= 0) {
            // å·¦æ—‹
            return leftRotate(node);
        } else {
            // å…ˆå³æ—‹åå·¦æ—‹
            node.right = rightRotate(node.right);
            return leftRotate(node);
        }
    }
    // å¹³è¡¡æ ‘ï¼Œæ— é¡»æ—‹è½¬ï¼Œç›´æ¥è¿”å›
    return node;
}
```









AVLæ ‘çš„æ’å…¥å’Œåˆ é™¤

æ— è®ºæ’å…¥è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½å¯èƒ½å¯¼è‡´è¯¥èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹è·¯å¾„ä¸Šä¸€ç³»åˆ—çš„å¤±è¡¡



æ’å…¥

ä»è¿™ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œ**è‡ªåº•å‘ä¸Š**æ‰§è¡Œæ—‹è½¬æ“ä½œï¼Œä½¿æ‰€æœ‰å¤±è¡¡èŠ‚ç‚¹æ¢å¤å¹³è¡¡



åˆ é™¤

åœ¨äºŒå‰æœç´¢æ ‘çš„åˆ é™¤èŠ‚ç‚¹æ–¹æ³•çš„åŸºç¡€ä¸Šï¼Œéœ€è¦ä»åº•è‡³é¡¶æ‰§è¡Œæ—‹è½¬æ“ä½œ





















#### **äºŒå‰æ ‘çš„éå†**

å…ˆåºã€ä¸­åºã€ååº

DFS

BFS

å±‚åºï¼ˆæ˜¯ä¸€ç§å¹¿åº¦ä¼˜å…ˆï¼‰







**æœ€è¿‘å…±åŒç¥–å…ˆ	LCA**

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250401205157155.png" alt="image-20250401205157155" style="zoom:50%;" />

LCAæŒ‡åœ¨æ ‘ç»“æ„ä¸­ï¼Œä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€æ·±å±‚å…±åŒç¥–å…ˆ

èŠ‚ç‚¹è‡ªèº«ä»¥åŠå®ƒæ‰€åœ¨è·¯å¾„çš„æ‰€æœ‰ä¸Šçº§èŠ‚ç‚¹ï¼Œéƒ½æ˜¯å®ƒçš„ç¥–å…ˆèŠ‚ç‚¹

- å¦‚ 6 ï¼Œ653éƒ½æ˜¯6çš„ç¥–å…ˆ

- 4çš„ç¥–å…ˆæ˜¯253ï¼Œ64å…±åŒç¥–å…ˆæ˜¯53ï¼Œæœ€è¿‘å…±åŒç¥–å…ˆæ˜¯5



| ç®—æ³•        | é¢„å¤„ç†æ—¶é—´ | æŸ¥è¯¢æ—¶é—´ | ç©ºé—´å¤æ‚åº¦ | é€‚ç”¨åœºæ™¯     |
| ----------- | ---------- | -------- | ---------- | ------------ |
| æš´åŠ›æ³•      | O(1)       | O(n)     | O(1)       | å°è§„æ¨¡æ•°æ®   |
| DFS/BFS     | O(1)       | O(n)     | O(n)       | å°è§„æ¨¡æ•°æ®   |
| å€å¢æ³•      | O(n log n) | O(log n) | O(n log n) | ä¸­ç­‰è§„æ¨¡æ•°æ® |
| Tarjan ç¦»çº¿ | O(n Î±(n))  | O(1)     | O(n)       | æ‰¹é‡æŸ¥è¯¢     |
| æ ‘é“¾å‰–åˆ†    | O(n log n) | O(log n) | O(n)       | åŠ¨æ€æ ‘ç»“æ„   |



é—®é¢˜

æ‰¾å‡ºäºŒå‰æ ‘ä¸­pã€qèŠ‚ç‚¹çš„æœ€è¿‘å…±åŒç¥–å…ˆ

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250401205900763.png" alt="image-20250401205900763" style="zoom:50%;" />

å·¦å³å­æ ‘éƒ½æ²¡æ‰¾åˆ°ï¼šé‡‡ç”¨é€’å½’ï¼Œå½“å‰é€’å½’Aå­æ ‘ï¼Œä½†pqéƒ½åœ¨Bå­æ ‘

è®¨è®ºç»“æœ

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250401210532332.png" alt="image-20250401210532332" style="zoom:50%;" />





| ç®—æ³•               | é¢„å¤„ç†æ—¶é—´ | æŸ¥è¯¢æ—¶é—´ | ç©ºé—´        | é€‚ç”¨åœºæ™¯                |
| ------------------ | ---------- | -------- | ----------- | ----------------------- |
| **DFS åº + ST è¡¨** | O(n log n) | O(1)     | O(n log n)  | é™æ€æ ‘ï¼Œé«˜é¢‘ LCA æŸ¥è¯¢   |
| **æ¬§æ‹‰åº + ST è¡¨** | O(n log n) | O(1)     | O(2n log n) | é™æ€æ ‘ï¼Œè·¯å¾„ç›¸å…³æŸ¥è¯¢    |
| **å€å¢æ³•**         | O(n log n) | O(log n) | O(n log n)  | é™æ€æ ‘ï¼Œç»¼åˆæ€§èƒ½å‡è¡¡    |
| **æ ‘é“¾å‰–åˆ†**       | O(n)       | O(log n) | O(n)        | é™æ€æ ‘ï¼Œéœ€å­æ ‘æ“ä½œ      |
| **Tarjan**         | O(n + q)   | O(1)     | O(n)        | ç¦»çº¿æŸ¥è¯¢ï¼Œå¤§é‡ LCA è¯·æ±‚ |



ä¸‹é¢å®ç°BFé€’å½’å®ç°+BFæ·»åŠ çˆ¶æŒ‡é’ˆå®ç°ã€DFS+STã€Tarjanã€å€å¢LCA



â€‹	**BFé€’å½’**

é€‚åˆæ ‘çš„ç»“æ„ç›¸å¯¹ç¨³å®šï¼Œä¸”åªéœ€è¦è¿›è¡Œå°‘é‡çš„ LCA æŸ¥è¯¢çš„æƒ…æ™¯

å¦‚æœæ˜¯äºŒå‰æ ‘

```java
//	çº¯é€’å½’ç‰ˆæœ¬ï¼Œä¸æ¨è

package TestField;

import java.util.*;

class Main {

	static class Node {
		int val;
		Node left;
		Node right;

		public Node(int val) {
			this.val = val;
		}
	}

	static Node getLCA(Node root, Node n1, Node n2) {
		if (root == null)
			return null;
		if (root == n1 || root == n2)
			return root;

		Node left = getLCA(root.left, n1, n2);
		Node right = getLCA(root.right, n1, n2);

		if (left != null && right != null)
			return root;
		if (left != null)
			return left;
		if (right != null)
			return right;

		// n1 n2 ä¸åœ¨æ ‘ä¸­çš„æƒ…å†µ
		return null;

	}


	public static void main(String[] args) {
		// æ„å»ºä¸€ä¸ªç®€å•çš„äºŒå‰æ ‘
		Node root = new Node(1);
		root.left = new Node(2);
		root.right = new Node(3);
		root.left.left = new Node(4);
		root.left.right = new Node(5);

		// æµ‹è¯•ç”¨ä¾‹ 1ï¼šn1 å’Œ n2 åˆ†åˆ«åœ¨å·¦å³å­æ ‘
		Node n1 = root.left.left;
		Node n2 = root.right;
		Node lca1 = getLCA(root, n1, n2);
		System.out.println("n1 å’Œ n2 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯: " + (lca1 != null ? lca1.val : "null"));

		// æµ‹è¯•ç”¨ä¾‹ 2ï¼šn1 å’Œ n2 éƒ½åœ¨å·¦å­æ ‘
		n1 = root.left.left;
		n2 = root.left.right;
		Node lca2 = getLCA(root, n1, n2);
		System.out.println("n1 å’Œ n2 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯: " + (lca2 != null ? lca2.val : "null"));

		// æµ‹è¯•ç”¨ä¾‹ 3ï¼šn1 æ˜¯ n2 çš„ç¥–å…ˆ
		n1 = root.left;
		n2 = root.left.right;
		Node lca3 = getLCA(root, n1, n2);
		System.out.println("n1 å’Œ n2 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯: " + (lca3 != null ? lca3.val : "null"));
	}

}

```



â€‹	**BFæ·»åŠ çˆ¶æŒ‡é’ˆå®ç°**

ç»™æ ‘èŠ‚ç‚¹æ·»åŠ æŒ‡å‘å®ƒçˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œé—®é¢˜è½¬åŒ–ä¸º å¯»æ‰¾ä¸¤ä¸ªå•å‘é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹

æ ‘è¿˜æ˜¯æ ‘ï¼Œå› ä¸ºæ ‘ç»“æ„æ‘†åœ¨é‚£ï¼Œå³ä½¿åŠ äº†æŒ‡é’ˆï¼Œæ•ˆç‡å—å½±å“ï¼Œä½†æ²¡é€€åŒ–ä¸ºå•é“¾è¡¨

ä¸” å¼•å…¥çˆ¶èŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦é™è‡³Oï¼ˆhï¼‰ï¼Œhä¸ºæ ‘é«˜

```java
package TestField;

import java.util.HashSet;
import java.util.Set;

class Main {
	static class Node {
		int val;
		Node left;
		Node right;
		Node parent;

		public Node(int val) {
			this.val = val;
		}
	}

	// è®¾ç½®çˆ¶èŠ‚ç‚¹
	private static void setParents(Node root) {
		if (root == null)
			return;
		if (root.left != null) {
			root.left.parent = root;
			setParents(root.left);
		}
		if (root.right != null) {
			root.right.parent = root;
			setParents(root.right);
		}
	}

    // è·å–æœ€è¿‘å…¬å…±ç¥–å…ˆ
	static Node getLCA(Node n1, Node n2) {
		Set<Node> visited = new HashSet<>();
		while (n1 != null) {
            // ä¸æ–­çš„å­˜å‚¨n1çš„ç¥–å…ˆ
			visited.add(n1);
			n1 = n1.parent;
		}
		while (n2 != null) {
            // å¦‚æœæ‰¾åˆ°äº†ï¼Œè¿™ä¸ªç¥–å…ˆå°±æ˜¯n1n2å…±åŒçš„ç¥–å…ˆ
			if (visited.contains(n2))
				return n2;
			n2 = n2.parent;
		}
        // å¦‚æœn2ç¥–å…ˆé‡Œæ²¡æœ‰n1çš„ï¼Œè¯´æ˜å®ƒä¿©æ²¡æœ‰å…¬å…±ç¥–å…ˆï¼Œè¿rootéƒ½æ²¡æœ‰ï¼Œå¯ä»¥è¯´n2ä¸å­˜åœ¨
		return null;
	}
    
	public static void main(String[] args) {
		// æ„å»ºæ ‘ç»“æ„
		Node root = new Node(1);
		root.left = new Node(2);
		root.right = new Node(3);
		root.left.left = new Node(4);
		root.left.right = new Node(5);

		// è‡ªåŠ¨è®¾ç½®çˆ¶èŠ‚ç‚¹
		setParents(root);

		// æµ‹è¯•ç”¨ä¾‹ 1ï¼šn1 å’Œ n2 åˆ†åˆ«åœ¨å·¦å³å­æ ‘
		Node n1 = root.left.left;
		Node n2 = root.right;
		Node lca1 = getLCA(n1, n2);
		System.out.println("n1 å’Œ n2 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯:" + (lca1 != null ? lca1.val : "null"));

		// æµ‹è¯•ç”¨ä¾‹ 2ï¼šn1 å’Œ n2 éƒ½åœ¨å·¦å­æ ‘
		n1 = root.left.left;
		n2 = root.left.right;
		Node lca2 = getLCA(n1, n2);
		System.out.println("n1 å’Œ n2 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯:" + (lca2 != null ? lca2.val : "null"));

		// æµ‹è¯•ç”¨ä¾‹ 3ï¼šn1 æ˜¯ n2 çš„ç¥–å…ˆ
		n1 = root.left;
		n2 = root.left.right;
		Node lca3 = getLCA(n1, n2);
		System.out.println("n1 å’Œ n2 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯:" + (lca3 != null ? lca3.val : "null"));
	}
}
```





äºŒå‰æœç´¢æ ‘ï¼Œåªæœ‰BFå†™äº†äºŒå‰æœç´¢æ ‘çš„LCA	

```java
package TestField;

import java.util.*;

class MainCopy {

	static class Node {
		int value;
		Node left;
		Node right;

		public Node(int value) {
			this.value = value;
		}
	}

	static Node getLCA(Node t, Node u, Node v) {
	    int left = Math.min(u.value, v.value);
	    int right = Math.max(u.value, v.value);
	    
	    while (true) {
	        if (t.value < left) t = t.right;
	        else if (t.value > right) t = t.left;
	        else return t;
	    }
	}

	public static void main(String[] args) {
		Node root = new Node(6);
		root.left = new Node(2);
		root.right = new Node(8);
		root.left.left = new Node(0);
		root.left.right = new Node(4);
		root.right.left = new Node(7);
		root.right.right = new Node(9);

		Node u = root.left;
		Node v = root.right;
		Node lcaNode = getLCA(root, u, v);
		System.out.println("èŠ‚ç‚¹ " + u.value + " å’ŒèŠ‚ç‚¹ " + v.value + " çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹ä¸º: " + lcaNode.value);

	}
}
```





â€‹	**DFS+ST**

DFSä½¿ç”¨äº†STè¡¨

æœ¬æ¥åªæœ‰DFSï¼Œä½†æ˜¯å¦‚æœæŠŠLCAé—®é¢˜è½¬æ¢æˆRMQé—®é¢˜ï¼Œå°±å¯ä»¥ä½¿ç”¨STè¡¨ä¼˜åŒ–æ•ˆç‡





**ä¸ºä»€ä¹ˆèƒ½è½¬æ¢**

äºŒå‰æ ‘æœ¬èº«æ˜¯æœ‰æ·±åº¦çš„

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250408111329645.png" alt="image-20250408111329645" style="zoom:50%;" /> 

æ ‘ç”¨æ•°ç»„è¡¨ç¤ºï¼Œæ‰¾å‡º2èŠ‚ç‚¹é—´åŒºé—´æ·±åº¦æœ€æµ…çš„ï¼Œé‚£å°±æ˜¯ç­”æ¡ˆ

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250408112137240.png" alt="image-20250408112137240" style="zoom:50%;" />

ä¸Šé¢è¿™å¼ è¡¨ä½¿ç”¨ä¸‰ä¸ªæ•°ç»„: **fir[]** èŠ‚ç‚¹åœ¨åºåˆ—ä¸­é¦–æ¬¡å‡ºç°çš„åºå·ã€ **d[]** èŠ‚ç‚¹æ·±åº¦è¡¨ ã€ **dfn[]** dfsåº ï¼Œ éœ€è¦æ³¨æ„çš„æ˜¯æ¬§æ‹‰åºä¼šé‡å¤åŠ å…¥èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ•°ç»„å¤§å°éœ€è¦æ‰©å¤§ä¸€å€ã€‚



```java
package TestField;

import java.util.*;

public class Main {

	static class Node {
		int val;
		Node parent;
		// è¯¥èŠ‚ç‚¹æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹ï¼Œåº”æ’é™¤çˆ¶èŠ‚ç‚¹
		List<Node> children;
		int nodeDFN; // dfsæ—¶é—´æˆ³ï¼Œè®°å½•nodeè¯¥nodeçš„dfsæ·±åº¦ï¼Œæˆ–ç€è¯´å®ƒåœ¨æ ‘é‡Œæ‰€åœ¨çš„å±‚æ¬¡

		public Node(int val) {
			this.val = val;
			children = new ArrayList<>();
		}
	}

	// è¿™ä¸ªdfsç”¨æ¥åˆå§‹åŒ–nodeçš„dfn
	private static int dfn = 0;
	private static int[][] st;
	// æœ€å¤§å€å¢å±‚æ•°ï¼ˆæ ¹æ®èŠ‚ç‚¹æ•°è°ƒæ•´ï¼Œæ­¤å¤„å‡è®¾èŠ‚ç‚¹æ•°â‰¤2^20ï¼‰
	private static int log = 20;

	// è¿™ä¸ªDFSç”¨æ¥æ ‡è®°treeçš„æ‰€æœ‰èŠ‚ç‚¹æ‰€åœ¨å±‚æ¬¡ä»¥åŠçˆ¶èŠ‚ç‚¹
	public static void DFS(Node node, Node parent) {
		node.parent = parent;
//		åˆ†é…dfsåºæ—¶é—´æˆ³ï¼Œä»1å¼€å§‹é€’å¢
		node.nodeDFN = ++dfn;
//		åˆå§‹åŒ–stç¬¬0å±‚ï¼šæ¯ä¸ªä½ç½®çˆ¶èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸º-1ï¼‰
		st[0][node.nodeDFN] = parent == null ? -1 : parent.val;
//		é€’å½’å¤„ç†å­èŠ‚ç‚¹ï¼šï¼ˆæ’é™¤çˆ¶èŠ‚ç‚¹ã€é¿å…å›ç¯ï¼‰
		for (Node child : node.children) {
			if (child != parent) {
				DFS(child, node);
			}
		}
	}

	public static void ST(int n) {

		for (int j = 1; j < log; ++j) {
			for (int i = 1; i + (1 << j) - 1 <= n; ++i) {
				int left = st[j - 1][i];
				int right = st[j - 1][i + (1 << (j - 1))];
// æ¯”è¾ƒå·¦ã€å³ç»“æœå¯¹åº”çš„èŠ‚ç‚¹çš„dfnï¼Œé€‰æ‹©dfnè¾ƒå°çš„ï¼ˆå³æ›´æ¥è¿‘ç¥–å…ˆçš„èŠ‚ç‚¹ï¼‰
				if (left == -1) {
					st[j][i] = right;
				} else if (right == -1) {
					st[j][i] = left;
				} else {
					st[j][i] = dfnMap.get(left) < dfnMap.get(right) ? left : right;
				}
			}
		}
	}

	public static int LCA(int u, int v) {
		// ç‰¹æ®Šåˆ¤æ–­ï¼šèŠ‚ç‚¹è‡ªèº«
		if (u == v)
			return u;
		// return v;

		// è·å–uå’Œvçš„dfn
		int dfnU = dfnMap.get(u);
		int dfnV = dfnMap.get(v);
		// è·å–é•¿åº¦
		int len = (int) (Math.log(Math.abs(dfnU - dfnV)) / Math.log(2));

		// æŸ¥è¯¢åŒºé—´[dfnU+1, dfnV]å†…çš„ä¸¤ä¸ªå­åŒºé—´
		int node1 = st[len][dfnU + 1];// å·¦å­åŒºé—´èµ·ç‚¹ï¼šdfnU+1ï¼Œé•¿åº¦2^k
		int node2 = st[len][dfnV - (1 << len) + 1];// å³å­åŒºé—´èµ·ç‚¹ï¼šdfnV - 2^k + 1
		// æ¯”è¾ƒä¸¤ä¸ªå­åŒºé—´çš„ç»“æœï¼Œé€‰æ‹©dfnè¾ƒå°çš„èŠ‚ç‚¹ï¼ˆæ›´æ¥è¿‘ç¥–å…ˆï¼‰
		int ancestor = (dfnMap.get(node1) < dfnMap.get(node2)) ? node1 : node2;
		// è¿”å›ç¥–å…ˆèŠ‚ç‚¹çš„å€¼ï¼ˆæ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸º-1ï¼Œä½†æ­¤å¤„å‡è®¾è¾“å…¥åˆæ³•ï¼‰
		return ancestor == -1 ? -1 : ancestor;

	}

	private static Map<Integer, Integer> dfnMap = new HashMap<>();

	public static void main(String[] args) {
		// æ„å»ºæ ‘ç»“æ„
		Node root = new Node(1);
		Node node2 = new Node(2);
		Node node3 = new Node(3);
		Node node4 = new Node(4);
		Node node5 = new Node(5);
		root.children.add(node2);
		root.children.add(node3);
		node2.children.add(node4);
		node2.children.add(node5);

		// åˆå§‹åŒ–STè¡¨
		dfn = 0;
		int n = 5; // èŠ‚ç‚¹æ•°
		st = new int[log][n + 1];
		DFS(root, null);// ä»æ ¹èŠ‚ç‚¹å¼€å§‹DFS

		// å¡«å……ï¼ˆèŠ‚ç‚¹å€¼â†’dfnï¼‰
		Queue<Node> queue = new LinkedList<>();
		queue.add(root);
		while (!queue.isEmpty()) {
			Node node = queue.poll();
			dfnMap.put(node.val, node.nodeDFN);
			// queue.addAll(node.children); // éå†æ‰€æœ‰èŠ‚ç‚¹
			for (Node child : node.children) {
				queue.add(child);
			}
		}
// æ„å»ºSTè¡¨
		ST(n);

		// æµ‹è¯•LCAæŸ¥è¯¢
		System.out.println(LCA(4, 3)); // è¾“å‡º1
		System.out.println(LCA(4, 5)); // è¾“å‡º2
		System.out.println(LCA(2, 5)); // è¾“å‡º2
	}
}
```



å¦‚æœ æ‰¹é‡æŸ¥è¯¢å…¬å…±ç¥–å…ˆï¼Œå¯ä»¥ å€Ÿé‰´**ç¦»çº¿å¤„ç†**çš„æ–¹å¼(å¤„ç†æ‰€æœ‰æŸ¥è¯¢å‰ï¼Œå…ˆæ”¶é›†æ‰€æœ‰æŸ¥è¯¢è¯·æ±‚ï¼Œç»Ÿä¸€å¤„ç†)ï¼Œç”±æ­¤å¼•å…¥Tarjanç®—æ³•

å†åŠ ä¸Šå¹¶æŸ¥é›†ï¼ˆUnion-Findï¼‰å’Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰æ¥ä¼˜åŒ–è®¡ç®—è¿‡ç¨‹



**Tarjanç®—æ³•**

æœ¬æ˜¯å›¾è®ºä¸­çš„ç®—æ³•(å›¾è®ºä¸­æˆ‘æ²¡æ”¶å½•2025å¹´4æœˆ5æ—¥)

Tarjanæ˜¯ç¦»çº¿ç®—æ³•ï¼Œå°±æ˜¯é¢„å¤„ç†ï¼Œç„¶å1æ¬¡éå†è§£å†³æ‰€æœ‰æŸ¥è¯¢

1. dfséå†ï¼Œå¹¶æŸ¥é›†ä¼˜åŒ–
2. ä»»é€‰ä¸€ä¸ªç‚¹ä¸ºæ ¹èŠ‚ç‚¹ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ã€‚
3. éå†è¯¥ç‚¹uæ‰€æœ‰å­èŠ‚ç‚¹vï¼Œå¹¶æ ‡è®°è¿™äº›å­èŠ‚ç‚¹vå·²è¢«è®¿é—®è¿‡ã€‚
4. è‹¥æ˜¯vè¿˜æœ‰å­èŠ‚ç‚¹ï¼Œå¯¹å­èŠ‚ç‚¹é‡å¤æ­¥éª¤2ï¼Œå¦åˆ™ä¸‹ä¸€æ­¥ã€‚
5. åˆå¹¶våˆ°uä¸Šï¼ˆåˆå¹¶å­èŠ‚ç‚¹åˆ°çˆ¶èŠ‚ç‚¹ï¼‰ã€‚
6. å¯»æ‰¾ä¸å½“å‰ç‚¹uæœ‰è¯¢é—®å…³ç³»çš„ç‚¹vã€‚
7. è‹¥æ˜¯vå·²ç»è¢«è®¿é—®è¿‡äº†ï¼Œåˆ™å¯ä»¥ç¡®è®¤uå’Œvçš„æœ€è¿‘å…¬å…±ç¥–å…ˆä¸ºvè¢«åˆå¹¶åˆ°çš„çˆ¶äº²èŠ‚ç‚¹ã€‚



è§£å†³æ™®é€šäºŒå‰æ ‘LCAé—®é¢˜ã€äºŒå‰æœç´¢æ ‘å°±ä¸å†™äº†

```java
//	ä½¿ç”¨é€’å½’ä¼šå¯¼è‡´æ ˆæº¢å‡º

package TestField;

import java.util.*;

public class Main {

	static class TreeNode {
		int val;
		TreeNode left;
		TreeNode right;

		TreeNode(int x) {
			val = x;
		}
	}

	static class BinaryTreeLCA {
		public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
			// å¦‚æœæ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œæˆ–è€…æ ¹èŠ‚ç‚¹å°±æ˜¯ p æˆ– qï¼Œç›´æ¥è¿”å›æ ¹èŠ‚ç‚¹
			if (root == null || root == p || root == q) {
				return root;
			}
			// é€’å½’æŸ¥æ‰¾å·¦å­æ ‘ä¸­ p å’Œ q çš„ LCA
			TreeNode left = lowestCommonAncestor(root.left, p, q);
			// é€’å½’æŸ¥æ‰¾å³å­æ ‘ä¸­ p å’Œ q çš„ LCA
			TreeNode right = lowestCommonAncestor(root.right, p, q);

			// å¦‚æœå·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ‰¾åˆ°äº† p æˆ– q çš„ç¥–å…ˆï¼Œè¯´æ˜æ ¹èŠ‚ç‚¹å°±æ˜¯ LCA
			if (left != null && right != null) {
				return root;
			}
			// å¦‚æœå·¦å­æ ‘æ‰¾åˆ°äº† p æˆ– q çš„ç¥–å…ˆï¼Œè¿”å›å·¦å­æ ‘çš„ç»“æœ
			if (left != null) {
				return left;
			}
			// å¦åˆ™è¿”å›å³å­æ ‘çš„ç»“æœ
			return right;
		}
	}

	public static void main(String[] args) {
		// æ„å»ºä¸€ä¸ªç®€å•çš„äºŒå‰æ ‘
		TreeNode root = new TreeNode(3);
		root.left = new TreeNode(5);
		root.right = new TreeNode(1);
		root.left.left = new TreeNode(6);
		root.left.right = new TreeNode(2);
		root.right.left = new TreeNode(0);
		root.right.right = new TreeNode(8);
		root.left.right.left = new TreeNode(7);
		root.left.right.right = new TreeNode(4);

		BinaryTreeLCA solution = new BinaryTreeLCA();
		TreeNode p = root.left; // èŠ‚ç‚¹ 5
		TreeNode q = root.right; // èŠ‚ç‚¹ 1
		TreeNode lca = solution.lowestCommonAncestor(root, p, q);
		System.out.println("èŠ‚ç‚¹ " + p.val + " å’ŒèŠ‚ç‚¹ " + q.val + " çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯: " + lca.val);
	}
}
```



â€‹	**è§£å†³å›¾çš„LCAé—®é¢˜**

Tarjanä¹Ÿèƒ½è§£å†³å¤šå‰æ ‘é—®é¢˜ï¼Œå¤šå‰æ ‘æœ¬è´¨ä¸Šä¹Ÿæ˜¯ç‰¹æ®Šç»“æ„çš„å›¾

- ä½¿ç”¨æ ˆ `stack` æ¨¡æ‹Ÿé€’å½’è°ƒç”¨ï¼Œ`nextChild` æ•°ç»„è®°å½•æ¯ä¸ªèŠ‚ç‚¹ä¸‹ä¸€ä¸ªè¦è®¿é—®çš„å­èŠ‚ç‚¹çš„ç´¢å¼•ã€‚
- ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå°†æ ¹èŠ‚ç‚¹å‹å…¥æ ˆä¸­ã€‚
- å½“æ ˆä¸ä¸ºç©ºæ—¶ï¼Œå–å‡ºæ ˆé¡¶èŠ‚ç‚¹ `u`ï¼Œå¦‚æœ `u` æœªè¢«è®¿é—®è¿‡ï¼Œåˆ™æ ‡è®°ä¸ºå·²è®¿é—®ã€‚
- éå† `u` çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæœªè¢«è®¿é—®çš„å­èŠ‚ç‚¹ `v`ï¼Œå°† `v` å‹å…¥æ ˆä¸­ï¼Œå¹¶æ ‡è®° `u` æœ‰æœªè®¿é—®çš„å­èŠ‚ç‚¹ã€‚
- å¦‚æœ `u` æ²¡æœ‰æœªè®¿é—®çš„å­èŠ‚ç‚¹ï¼Œè¯´æ˜ `u` çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½å·²å¤„ç†å®Œæ¯•ï¼Œå°† `u` å‡ºæ ˆã€‚
- å¤„ç†ä¸ `u` ç›¸å…³çš„æ‰€æœ‰æŸ¥è¯¢ï¼Œå¦‚æœæŸ¥è¯¢çš„å¦ä¸€ä¸ªèŠ‚ç‚¹ `v` å·²è¢«è®¿é—®è¿‡ï¼Œåˆ™ `u` å’Œ `v` çš„ LCA å°±æ˜¯ `v` æ‰€åœ¨é›†åˆçš„æ ¹èŠ‚ç‚¹ã€‚
- å¦‚æœæ ˆä¸ä¸ºç©ºï¼Œå°† `u` åˆå¹¶åˆ°å…¶çˆ¶èŠ‚ç‚¹æ‰€åœ¨çš„é›†åˆä¸­ã€‚

```java
//	ä½¿ç”¨é€’å½’ä¼šå¯¼è‡´æ ˆæº¢å‡º

package TestField;

import java.util.*;

public class Main {

	static class TarjanLCA {
        // èŠ‚ç‚¹æ•°
		private int n;
        //	é‚»æ¥è¡¨
		private List<List<Integer>> adjList;
        //	å­˜å‚¨æ‰€æœ‰æŸ¥è¯¢ä¿¡æ¯  queries.get(u) å­˜å‚¨äº†æ‰€æœ‰ä¸èŠ‚ç‚¹ u ç›¸å…³çš„æŸ¥è¯¢ï¼Œæ¯ä¸ªæŸ¥è¯¢ç”¨ä¸€ä¸ªé•¿åº¦ä¸º 2 çš„æ•°ç»„ {v, index} è¡¨ç¤ºï¼Œå…¶ä¸­ v æ˜¯æŸ¥è¯¢çš„å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œindex æ˜¯æŸ¥è¯¢çš„ç¼–å·
		private List<List<int[]>> queries;
		//	å¹¶æŸ¥é›†
        private int[] parent;
        //	æ˜¯å¦è®¿é—®è¿‡
		private boolean[] visited;
		//	å­˜å‚¨æŸ¥è¯¢ç»“æœï¼Œans[index]è¡¨ç¤ºç¼–å·indexçš„æŸ¥è¯¢ç»“æœ	ï¼Œé»˜è®¤-1
        private int[] ans;

		public TarjanLCA(int n) {
			this.n = n;
			adjList = new ArrayList<>();
			queries = new ArrayList<>();
			for (int i = 0; i <= n; i++) {
				adjList.add(new ArrayList<>());
				queries.add(new ArrayList<>());
			}
			parent = new int[n + 1];
			visited = new boolean[n + 1];
			ans = new int[n + 1];
			Arrays.fill(ans, -1);
			for (int i = 1; i <= n; i++) {
				parent[i] = i;
			}
		}

		public void addEdge(int u, int v) {
			adjList.get(u).add(v);
			adjList.get(v).add(u);
		}

		public void addQuery(int u, int v, int index) {
			queries.get(u).add(new int[] { v, index });
			queries.get(v).add(new int[] { u, index });
		}

		private int find(int x) {
			if (parent[x] != x) {
				parent[x] = find(parent[x]);
			}
			return parent[x];
		}

		private void union(int x, int y) {
			int rootX = find(x);
			int rootY = find(y);
			if (rootX != rootY) {
				parent[rootY] = rootX;
			}
		}

		public void tarjan(int root) {
			Stack<Integer> stack = new Stack<>();
			int[] nextChild = new int[n + 1];
			stack.push(root);

			while (!stack.isEmpty()) {
				int u = stack.peek();
				if (!visited[u]) {
					visited[u] = true;
				}

				boolean hasUnvisitedChild = false;
				while (nextChild[u] < adjList.get(u).size()) {
					int v = adjList.get(u).get(nextChild[u]);
					if (!visited[v]) {
						stack.push(v);
						hasUnvisitedChild = true;
						nextChild[u]++;
						break;
					}
					nextChild[u]++;
				}

				if (!hasUnvisitedChild) {
					stack.pop();
					for (int[] query : queries.get(u)) {
						int v = query[0];
						int index = query[1];
						if (visited[v]) {
							ans[index] = find(v);
						}
					}
					if (!stack.isEmpty()) {
						int parentNode = stack.peek();
						union(parentNode, u);
					}
				}
			}
		}

		public int[] getAnswers() {
			return ans;
		}

	}

	public static void main(String[] args) {
		int n = 7;
		TarjanLCA lca = new TarjanLCA(n);
		lca.addEdge(1, 2);
		lca.addEdge(1, 3);
		lca.addEdge(2, 4);
		lca.addEdge(2, 5);
		lca.addEdge(3, 6);
		lca.addEdge(3, 7);

		// æ·»åŠ æŸ¥è¯¢
		lca.addQuery(4, 5, 0);
		lca.addQuery(4, 6, 1);
		lca.addQuery(6, 7, 2);
		// æ¨¡æ‹ŸæŸ¥è¯¢èŠ‚ç‚¹è‡ªèº«ä¸è‡ªèº«çš„ LCA
		lca.addQuery(4, 4, 3);

		// ä»»é€‰ä¸€ä¸ªç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹å¼€å§‹ Tarjan ç®—æ³•
		lca.tarjan(1);

		int[] answers = lca.getAnswers();
		for (int i = 0; i < answers.length; i++) {
			if (answers[i] == -1) {
				System.out.println("æŸ¥è¯¢ " + i + " æœªå¾—åˆ°æœ‰æ•ˆç»“æœ");
			} else {
				System.out.println("æŸ¥è¯¢ " + i + " çš„ç»“æœæ˜¯: " + answers[i]);
			}
		}
	}
}
```







**å€å¢LCA**(åœ¨çº¿)

å¼•å…¥äºŒç»´çš„ f æ•°ç»„ï¼Œæ¥å‡å°‘èŠ‚ç‚¹ä¸Šè·³æ¬¡æ•°ã€‚å€å¢æ€è·¯å’ŒSTè¡¨æ€è·¯å·®ä¸å¤šã€‚
ä½¿ç”¨ f[x] [i] æ¥è¡¨ç¤º ç‚¹x çš„ç¬¬ 2$$^i$$ä¸ªç¥–å…ˆï¼Œè€Œ f[x] [i] æ•°ç»„å¯ä»¥é€šè¿‡dfsé¢„å¤„ç†å‡ºæ¥ã€‚f[u] [i] = f [f[u] [i-1] ]  [i-1] , u çš„ç¬¬2$$^i$$ä¸ªç¥–å…ˆ,å°±æ˜¯ u çš„2$$^{i-1}$$ä¸ªç¥–å…ˆçš„2$$^{i-1}$$ä¸ªç¥–å…ˆ

é¢„å¤„ç†

- **æ·±åº¦æ•°ç»„ `depth[]`**ï¼šè®°å½•æ¯ä¸ªèŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„æ·±åº¦ã€‚
- **å€å¢æ•°ç»„ `up[][]`**ï¼š`up[i][j]` è¡¨ç¤ºèŠ‚ç‚¹ `i` çš„ 2*j* çº§ç¥–å…ˆã€‚ä¾‹å¦‚ï¼Œ`up[i][0]` å°±æ˜¯èŠ‚ç‚¹ `i` çš„çˆ¶èŠ‚ç‚¹ï¼Œ`up[i][1]` æ˜¯èŠ‚ç‚¹ `i` çš„ 21=2 çº§ç¥–å…ˆï¼ˆå³çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚

æŸ¥è¯¢

- å¯¹äºä¸¤ä¸ªèŠ‚ç‚¹ `u` å’Œ `v`ï¼Œå…ˆå°†å®ƒä»¬è°ƒæ•´åˆ°åŒä¸€æ·±åº¦ã€‚
- ç„¶åï¼Œä»æœ€å¤§çš„ *k* å¼€å§‹ï¼Œå°è¯•å°† `u` å’Œ `v` åŒæ—¶å‘ä¸Šè·³ 2*k* æ­¥ï¼Œå¦‚æœè·³è·ƒåå®ƒä»¬çš„ç¥–å…ˆä¸åŒï¼Œåˆ™ç»§ç»­å‘ä¸Šè·³ï¼›å¦‚æœç›¸åŒï¼Œåˆ™ä¸è·³ã€‚
- æœ€åï¼Œ`u` å’Œ `v` çš„çˆ¶èŠ‚ç‚¹å°±æ˜¯å®ƒä»¬çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚

```java
import java.util.*;

class LCAWithBinaryLifting {
    private int n;
    private int LOG;
    private List<List<Integer>> adj;
    private int[] depth;
    private int[][] up;

    public LCAWithBinaryLifting(int n) {
        this.n = n;
        LOG = (int) (Math.log(n) / Math.log(2)) + 1; // è®¡ç®—æœ€å¤§å¹‚æ¬¡
        adj = new ArrayList<>();
        for (int i = 0; i <= n; i++) {
            adj.add(new ArrayList<>());
        }
        depth = new int[n + 1];
        up = new int[LOG][n + 1];
    }

    public void addEdge(int u, int v) {
        adj.get(u).add(v);
        adj.get(v).add(u);
    }

    public void preprocess(int root) {
        // åˆå§‹åŒ–é˜Ÿåˆ—è¿›è¡ŒBFS
        Queue<Integer> queue = new LinkedList<>();
        queue.offer(root);
        depth[root] = 1; // æ ¹èŠ‚ç‚¹æ·±åº¦ä¸º1

        // åˆå§‹åŒ–æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼ˆ2^0çº§ç¥–å…ˆï¼‰
        while (!queue.isEmpty()) {
            int u = queue.poll();
            for (int v : adj.get(u)) {
                if (depth[v] == 0 && v != up[0][u]) {
                    depth[v] = depth[u] + 1;
                    up[0][v] = u;
                    queue.offer(v);
                }
            }
        }

        // å¡«å……å€å¢è¡¨
        for (int k = 1; k < LOG; k++) {
            for (int v = 1; v <= n; v++) {
                up[k][v] = up[k - 1][up[k - 1][v]];
            }
        }
    }

    public int query(int u, int v) {
        if (u == v) return u;

        // ç¡®ä¿uçš„æ·±åº¦ä¸å°äºv
        if (depth[u] < depth[v]) {
            int temp = u;
            u = v;
            v = temp;
        }

        // å°†uä¸Šç§»åˆ°ä¸våŒä¸€æ·±åº¦
        for (int k = LOG - 1; k >= 0; k--) {
            if (depth[u] - (1 << k) >= depth[v]) {
                u = up[k][u];
            }
        }

        if (u == v) return u;

        // åŒæ—¶ä¸Šç§»uå’Œvç›´åˆ°æ‰¾åˆ°å…±åŒç¥–å…ˆ
        for (int k = LOG - 1; k >= 0; k--) {
            if (up[k][u] != up[k][v]) {
                u = up[k][u];
                v = up[k][v];
            }
        }

        return up[0][u];
    }

    public static void main(String[] args) {
        int n = 7;
        LCAWithBinaryLifting lca = new LCAWithBinaryLifting(n);
        lca.addEdge(1, 2);
        lca.addEdge(1, 3);
        lca.addEdge(2, 4);
        lca.addEdge(2, 5);
        lca.addEdge(3, 6);
        lca.addEdge(3, 7);

        lca.preprocess(1); // æ ¹èŠ‚ç‚¹ä¸º1

        // æµ‹è¯•ç”¨ä¾‹
        System.out.println("LCA(4, 5) = " + lca.query(4, 5)); // 2
        System.out.println("LCA(4, 6) = " + lca.query(4, 6)); // 1
        System.out.println("LCA(6, 7) = " + lca.query(6, 7)); // 3
        System.out.println("LCA(2, 7) = " + lca.query(2, 7)); // 1
        System.out.println("LCA(5, 5) = " + lca.query(5, 5)); // 5
    }
}
```















#### äºŒå‰æ ‘æ•°ç»„è¡¨ç¤º

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250329145552730.png" alt="image-20250329145552730" style="zoom:50%;" />

çˆ¶èŠ‚ç‚¹çš„æ•°ç»„ä¸‹æ ‡æ˜¯i,é‚£ä¹ˆå®ƒçš„å·¦å­©å­å°±æ˜¯2 * i + 1,å³å­©å­å°±æ˜¯i * 2 + 2





### å †

æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å®Œå…¨äºŒå‰æ ‘

- å°é¡¶å †ï¼ˆmin heapï¼‰ï¼šä»»æ„èŠ‚ç‚¹çš„å€¼ â‰¤ å…¶å­èŠ‚ç‚¹çš„å€¼ã€‚
- å¤§é¡¶å †ï¼ˆmax heapï¼‰ï¼šä»»æ„èŠ‚ç‚¹çš„å€¼ â‰¥ å…¶å­èŠ‚ç‚¹çš„å€¼ã€‚



è®¸å¤šç¼–ç¨‹è¯­è¨€æä¾›çš„æ˜¯ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆpriority queueï¼‰ï¼Œè¿™æ˜¯ä¸€ç§æŠ½è±¡çš„æ•°æ®ç»“æ„ï¼Œå®šä¹‰ä¸ºå…·æœ‰ä¼˜å…ˆçº§æ’åºçš„é˜Ÿåˆ—ã€‚

å®é™…ä¸Šï¼Œ**å †é€šå¸¸ç”¨äºå®ç°ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå¤§é¡¶å †ç›¸å½“äºå…ƒç´ æŒ‰ä»å¤§åˆ°å°çš„é¡ºåºå‡ºé˜Ÿçš„ä¼˜å…ˆé˜Ÿåˆ—**ã€‚è¯´ç™½äº†å°±æ˜¯ä»ä½¿ç”¨è§’åº¦æ¥çœ‹ï¼Œâ€œä¼˜å…ˆé˜Ÿåˆ—â€å’Œâ€œå †â€æ˜¯åŒä¸€ç§ä¸œè¥¿ã€‚

![image-20250329171400967](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250329171400967.png)

```java
/* åˆå§‹åŒ–å † */
// åˆå§‹åŒ–å°é¡¶å †
Queue<Integer> minHeap = new PriorityQueue<>();
// åˆå§‹åŒ–å¤§é¡¶å †ï¼ˆä½¿ç”¨ lambda è¡¨è¾¾å¼ä¿®æ”¹ Comparator å³å¯ï¼‰
Queue<Integer> maxHeap = new PriorityQueue<>((a, b) -> b - a);

/* å…ƒç´ å…¥å † */
maxHeap.offer(1);
maxHeap.offer(3);
maxHeap.offer(2);
maxHeap.offer(5);
maxHeap.offer(4);

/* è·å–å †é¡¶å…ƒç´  */
int peek = maxHeap.peek(); // 5

/* å †é¡¶å…ƒç´ å‡ºå † */
// å‡ºå †å…ƒç´ ä¼šå½¢æˆä¸€ä¸ªä»å¤§åˆ°å°çš„åºåˆ—
peek = maxHeap.poll(); // 5
peek = maxHeap.poll(); // 4
peek = maxHeap.poll(); // 3
peek = maxHeap.poll(); // 2
peek = maxHeap.poll(); // 1

/* è·å–å †å¤§å° */
int size = maxHeap.size();

/* åˆ¤æ–­å †æ˜¯å¦ä¸ºç©º */
boolean isEmpty = maxHeap.isEmpty();

/* è¾“å…¥åˆ—è¡¨å¹¶å»ºå † */
minHeap = new PriorityQueue<>(Arrays.asList(1, 3, 2, 5, 4));
```



å †æ­£æ˜¯ä¸€ç§å®Œå…¨äºŒå‰æ ‘ï¼Œå®Œå…¨äºŒå‰æ ‘éå¸¸é€‚åˆç”¨æ•°ç»„æ¥è¡¨ç¤ºã€‚æ‰€ä»¥ç”¨æ•°ç»„å­˜å‚¨å †

â€‹	å…¥å †

ç»™å®šå…ƒç´ æ·»åŠ è‡³å †åº•ï¼Œå¯èƒ½ä¸ç¬¦åˆå †çš„ç‰¹æ€§ï¼Œè¦è°ƒæ•´é¡ºåºï¼Œä»è¿™ä¸ªèŠ‚ç‚¹å¼€å§‹**ä»åº•è‡³é¡¶æ‰§è¡Œå †åŒ–**ã€‚ç›´è‡³è¶Šè¿‡æ ¹èŠ‚ç‚¹æˆ–é‡åˆ°æ— åºäº¤æ¢çš„èŠ‚ç‚¹

```java
/* å…ƒç´ å…¥å † */
void push(int val) {
    // æ·»åŠ èŠ‚ç‚¹
    maxHeap.add(val);
    // ä»åº•è‡³é¡¶å †åŒ–
    siftUp(size() - 1);
}

/* ä»èŠ‚ç‚¹ i å¼€å§‹ï¼Œä»åº•è‡³é¡¶å †åŒ– */
void siftUp(int i) {
    while (true) {
        // è·å–èŠ‚ç‚¹ i çš„çˆ¶èŠ‚ç‚¹
        int p = parent(i);
        // å½“â€œè¶Šè¿‡æ ¹èŠ‚ç‚¹â€æˆ–â€œèŠ‚ç‚¹æ— é¡»ä¿®å¤â€æ—¶ï¼Œç»“æŸå †åŒ–
        if (p < 0 || maxHeap.get(i) <= maxHeap.get(p))
            break;
        // äº¤æ¢ä¸¤èŠ‚ç‚¹
        swap(i, p);
        // å¾ªç¯å‘ä¸Šå †åŒ–
        i = p;
    }
}
```



â€‹	å‡ºå †

å †é¡¶å…ƒç´ ç›´æ¥å‡ºå»ï¼Œä¼šå¯¼è‡´æ‰€æœ‰åç»­å…ƒç´ å‰ç§»ï¼Œç ´åå †çš„çˆ¶å­èŠ‚ç‚¹å…³ç³»

â€‹	å°†å †é¡¶å…ƒç´ ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰ä¸æ•°ç»„æœ«å°¾å…ƒç´ äº¤æ¢ä½ç½®

â€‹	ç§»é™¤æœ«å°¾å…ƒç´ 

â€‹	ä»é¡¶è‡³åº•æ‰§è¡Œå †åŒ–

é€šè¿‡äº¤æ¢å †é¡¶ä¸æœ«å°¾å…ƒç´ ï¼Œä»…éœ€è°ƒæ•´æ ¹èŠ‚ç‚¹çš„ä½ç½®ï¼Œå…¶ä»–èŠ‚ç‚¹çš„ç›¸å¯¹ç´¢å¼•ä¿æŒä¸å˜ã€‚

ä»…éœ€ä»æ ¹èŠ‚ç‚¹å¼€å§‹å †åŒ–ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º *O*(log*n*)ï¼Œè¿œä½äºé‡æ–°æ„å»ºå †çš„ *O*(*n*)ã€‚



è‹¥ç›´æ¥åˆ é™¤

- æ‰€æœ‰åç»­å…ƒç´ å‰ç§»ï¼Œç´¢å¼•æ”¹å˜ã€‚
- çˆ¶å­èŠ‚ç‚¹å…³ç³»è¢«ç ´åï¼ˆå¦‚åŸå·¦å­èŠ‚ç‚¹ç´¢å¼• `1` å˜ä¸º `0`ï¼Œå³å­èŠ‚ç‚¹ç´¢å¼• `2` å˜ä¸º `1`ï¼‰ã€‚
- å †åŒ–æ“ä½œæ— æ³•æ­£ç¡®æ‰¾åˆ°å­èŠ‚ç‚¹ï¼Œå¯¼è‡´é€»è¾‘é”™è¯¯ã€‚



























### å›¾

#### åŸºæœ¬æ¦‚å¿µ

å›¾ï¼ˆgraphï¼‰æ˜¯ä¸€ç§éçº¿æ€§æ•°æ®ç»“æ„ï¼Œç”±é¡¶ç‚¹ï¼ˆvertexï¼‰å’Œè¾¹ï¼ˆedgeï¼‰ç»„æˆã€‚

å°†å›¾æŠ½è±¡åœ°è¡¨ç¤ºä¸ºä¸€ç»„é¡¶ç‚¹å’Œä¸€ç»„è¾¹çš„é›†åˆã€‚



ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†ä¸€ä¸ªåŒ…å« 5 ä¸ªé¡¶ç‚¹å’Œ 7 æ¡è¾¹çš„å›¾ã€‚

![image-20250225202540153](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250225202540153.png)



å°†é¡¶ç‚¹çœ‹ä½œèŠ‚ç‚¹ï¼Œè¾¹çœ‹ä½œè¿æ¥å„ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰ï¼Œå›¾å°±æˆäº†ä¸€ç§ä»é“¾è¡¨æ‹“å±•è€Œæ¥çš„æ•°æ®ç»“æ„ã€‚





æ ¹æ®è¾¹æ˜¯å¦æœ‰æ–¹å‘ åˆ†æ— å‘å›¾ï¼ˆundirected graphï¼‰ã€æœ‰å‘å›¾ï¼ˆdirected graphï¼‰

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250225202707367.png" alt="image-20250225202707367" style="zoom:50%;" />



æ ¹æ®æ‰€æœ‰é¡¶ç‚¹æ˜¯å¦äº’é€š åˆ†ä¸ºè¿é€šå›¾ï¼ˆconnected graphï¼‰ã€éè¿é€šå›¾ï¼ˆdisconnected graphï¼‰

- å¯¹äºè¿é€šå›¾ï¼Œä»æŸä¸ªé¡¶ç‚¹å‡ºå‘å¯ä»¥åˆ°è¾¾ä»»æ„é¡¶ç‚¹ã€‚
- å¯¹äºéè¿é€šå›¾ï¼Œä»æŸä¸ªé¡¶ç‚¹å‡ºå‘è‡³å°‘æœ‰ä¸€ä¸ªé¡¶ç‚¹æ— æ³•åˆ°è¾¾ã€‚

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250225202827328.png" alt="image-20250225202827328" style="zoom:50%;" />





ä¸ºè¾¹æ·»åŠ â€œæƒé‡â€å±æ€§ï¼Œä»è€Œå¾—åˆ°æœ‰æƒå›¾ï¼ˆweighted graphï¼‰ã€‚

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250225203009042.png" alt="image-20250225203009042" style="zoom:50%;" />



å›¾æ•°æ®ç»“æ„çš„å¸¸ç”¨æœ¯è¯­ï¼ˆå‚è€ƒä¸Šå›¾ï¼‰ï¼š

- é‚»æ¥ï¼ˆadjacencyï¼‰ï¼šå½“ä¸¤é¡¶ç‚¹ä¹‹é—´å­˜åœ¨è¾¹ç›¸è¿æ—¶ï¼Œç§°è¿™ä¸¤é¡¶ç‚¹â€œé‚»æ¥â€ã€‚é¡¶ç‚¹ 1 çš„é‚»æ¥é¡¶ç‚¹ä¸ºé¡¶ç‚¹ 2ã€3ã€5ã€‚
- è·¯å¾„ï¼ˆpathï¼‰ï¼šé¡¶ç‚¹ A åˆ°é¡¶ç‚¹ B ç»è¿‡çš„è¾¹æ„æˆçš„åºåˆ—è¢«ç§°ä¸ºä» A åˆ° B çš„â€œè·¯å¾„â€ã€‚è¾¹åºåˆ— 1-5-2-4 æ˜¯é¡¶ç‚¹ 1 åˆ°é¡¶ç‚¹ 4 çš„ä¸€æ¡è·¯å¾„ã€‚
- åº¦ï¼ˆdegreeï¼‰ï¼šä¸€ä¸ªé¡¶ç‚¹æ‹¥æœ‰çš„è¾¹æ•°ã€‚å¯¹äºæœ‰å‘å›¾ï¼Œå…¥åº¦ï¼ˆin-degreeï¼‰è¡¨ç¤ºæœ‰å¤šå°‘æ¡è¾¹æŒ‡å‘è¯¥é¡¶ç‚¹ï¼Œå‡ºåº¦ï¼ˆout-degreeï¼‰è¡¨ç¤ºæœ‰å¤šå°‘æ¡è¾¹ä»è¯¥é¡¶ç‚¹æŒ‡å‡ºã€‚





è¿é€šã€éè¿é€šã€æœ‰æƒã€æ— æƒ çš„å›¾ï¼Œä¸€å¯¹æ˜¯ç‰¹å¾ã€ä¸€å¯¹æ˜¯åŠ äº†æƒå€¼å±æ€§ã€æœ¬è´¨è¿˜æ˜¯çœ‹æœ‰å‘ã€æ— å‘å›¾



æ‰€ä»¥ä»¥ä¸‹ä»£ç åªå®ç°æœ‰å‘å›¾ã€æ— å‘å›¾



#### `å›¾çš„è¡¨ç¤º åŠ å®ç°`

å›¾çš„å¸¸ç”¨è¡¨ç¤ºæ–¹å¼åŒ…æ‹¬â€œé‚»æ¥çŸ©é˜µâ€å’Œâ€œé‚»æ¥è¡¨â€ã€‚

â€‹	

é‚»æ¥è¡¨å’ŒçŸ©é˜µ  éƒ½æ˜¯å­˜å‚¨1ä¸ªèŠ‚ç‚¹æ‰€é‚»æ¥çš„èŠ‚ç‚¹çš„å…³ç³»



â€‹		é‚»æ¥çŸ©é˜µ

è®¾å›¾çš„é¡¶ç‚¹æ•°é‡ä¸º n ï¼Œé‚»æ¥çŸ©é˜µï¼ˆadjacency matrixï¼‰ä½¿ç”¨ä¸€ä¸ª nÃ—n å¤§å°çš„çŸ©é˜µæ¥è¡¨ç¤ºå›¾ï¼Œæ¯ä¸€è¡Œï¼ˆåˆ—ï¼‰ä»£è¡¨ä¸€ä¸ªé¡¶ç‚¹ï¼ŒçŸ©é˜µå…ƒç´ ä»£è¡¨è¾¹ï¼Œç”¨ 1 æˆ– 0 è¡¨ç¤ºä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´æ˜¯å¦å­˜åœ¨è¾¹ã€‚

å¦‚å›¾ 9-5 æ‰€ç¤ºï¼Œè®¾é‚»æ¥çŸ©é˜µä¸º Mã€é¡¶ç‚¹åˆ—è¡¨ä¸º V ï¼Œé‚£ä¹ˆçŸ©é˜µå…ƒç´  M[i,j]=1 è¡¨ç¤ºé¡¶ç‚¹ V[i] åˆ°é¡¶ç‚¹ V[j] ä¹‹é—´å­˜åœ¨è¾¹ï¼Œåä¹‹ M[i,j]=0 è¡¨ç¤ºä¸¤é¡¶ç‚¹ä¹‹é—´æ— è¾¹ã€‚

![image-20250225203942240](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250225203942240.png)

å¯¹äºç®€å•å›¾ï¼Œé¡¶ç‚¹ä¸èƒ½ä¸è‡ªèº«ç›¸è¿ï¼Œæ­¤æ—¶é‚»æ¥çŸ©é˜µä¸»å¯¹è§’çº¿å…ƒç´ æ²¡æœ‰æ„ä¹‰ã€‚ï¼ˆç”¨0è¡¨ç¤ºï¼‰

å¯¹äºæ— å‘å›¾ï¼Œä¸¤ä¸ªæ–¹å‘çš„è¾¹ç­‰ä»·ï¼Œæ‰€ä»¥æ— å‘å›¾ çš„ é‚»æ¥çŸ©é˜µå…³äºä¸»å¯¹è§’çº¿å¯¹ç§°ã€‚

é‚»æ¥çŸ©é˜µçš„å…ƒç´ ä» 10 æ›¿æ¢ä¸ºæƒé‡ï¼Œè¡¨ç¤ºæœ‰æƒå›¾ã€‚



ä½¿ç”¨é‚»æ¥çŸ©é˜µè¡¨ç¤ºå›¾æ—¶ï¼Œå¯ä»¥ç›´æ¥è®¿é—®çŸ©é˜µå…ƒç´ è·å–è¾¹ï¼Œå› æ­¤å¢åˆ æŸ¥æ”¹æ“ä½œæ•ˆç‡å¾ˆé«˜ï¼Œæ—¶é—´å¤æ‚åº¦å‡ä¸º O(1) ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(n^2) ã€‚









â€‹		é‚»æ¥è¡¨

é‚»æ¥è¡¨ï¼ˆadjacency listï¼‰ä½¿ç”¨ n ä¸ªé“¾è¡¨æ¥è¡¨ç¤ºå›¾ï¼Œé“¾è¡¨èŠ‚ç‚¹è¡¨ç¤ºé¡¶ç‚¹ã€‚ç¬¬ i ä¸ªé“¾è¡¨å¯¹åº”é¡¶ç‚¹ i ï¼Œå…¶ä¸­å­˜å‚¨äº†è¯¥é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹ï¼ˆä¸è¯¥é¡¶ç‚¹ç›¸è¿çš„é¡¶ç‚¹ï¼‰ã€‚

![image-20250225204501858](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250225204501858.png)

é‚»æ¥è¡¨ä»…å­˜å‚¨å®é™…å­˜åœ¨çš„è¾¹ï¼Œå› æ­¤å®ƒæ›´åŠ èŠ‚çœç©ºé—´ã€‚ä½†å› ä¸ºç”¨é“¾è¡¨å®ç°ï¼Œéœ€è¦éå†é“¾è¡¨æŸ¥æ‰¾è¾¹ï¼Œå…¶æ—¶é—´æ•ˆç‡ä¸å¦‚é‚»æ¥çŸ©é˜µã€‚

**é‚»æ¥è¡¨ç»“æ„ä¸å“ˆå¸Œè¡¨ä¸­çš„â€œé“¾å¼åœ°å€â€éå¸¸ç›¸ä¼¼ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥é‡‡ç”¨ç±»ä¼¼çš„æ–¹æ³•æ¥ä¼˜åŒ–æ•ˆç‡**ã€‚æ¯”å¦‚å½“é“¾è¡¨è¾ƒé•¿æ—¶ï¼Œå¯ä»¥å°†é“¾è¡¨è½¬åŒ–ä¸º AVL æ ‘æˆ–çº¢é»‘æ ‘ï¼Œä»è€Œå°†æ—¶é—´æ•ˆç‡ä» O(n) ä¼˜åŒ–è‡³ O(logâ¡n) ï¼›è¿˜å¯ä»¥æŠŠé“¾è¡¨è½¬æ¢ä¸ºå“ˆå¸Œè¡¨ï¼Œä»è€Œå°†æ—¶é—´å¤æ‚åº¦é™è‡³ O(1) ã€‚



è¿˜æœ‰é€†é‚»æ¥è¡¨

æ³¨æ„ï¼š
é‚»æ¥è¡¨ï¼šåæ˜ çš„æ˜¯é¡¶ç‚¹å‡ºåº¦çš„æƒ…å†µã€‚
é€†é‚»æ¥è¡¨ï¼šåæ˜ çš„æ˜¯é¡¶ç‚¹çš„å…¥åº¦æƒ…å†µã€‚





#### é‚»æ¥è¡¨å’Œé‚»æ¥çŸ©é˜µå¯¹æ¯”

| **é‚»æ¥çŸ©é˜µ**                                       | **é‚»æ¥è¡¨**                                                   |
| -------------------------------------------------- | ------------------------------------------------------------ |
| äºŒç»´æ•°ç»„ï¼Œå¤§å°ä¸º *V*Ã—*V*ï¼ˆ*V* ä¸ºé¡¶ç‚¹æ•°ï¼‰           | æ•°ç»„ / é“¾è¡¨ / å“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„é‚»æ¥é¡¶ç‚¹åˆ—è¡¨               |
| ç¤ºä¾‹ï¼š `matrix[i][j] = 1` è¡¨ç¤ºé¡¶ç‚¹ *i* åˆ° *j* æœ‰è¾¹ | ç¤ºä¾‹ï¼š `adjList[i] = [j, k]` è¡¨ç¤ºé¡¶ç‚¹ *i* çš„é‚»æ¥é¡¶ç‚¹ä¸º *j*,*k* |



æ—¶é—´å¤æ‚åº¦

| **æ“ä½œ**                  | **é‚»æ¥çŸ©é˜µ** | **é‚»æ¥è¡¨** |
| ------------------------- | ------------ | ---------- |
| æŸ¥è¯¢è¾¹æ˜¯å¦å­˜åœ¨ï¼ˆ*i*â†’*j*ï¼‰ | *O*(1)       | *O*(å‡ºåº¦)  |
| æ·»åŠ è¾¹ï¼ˆ*i*â†’*j*ï¼‰         | *O*(1)       | *O*(1)     |
| åˆ é™¤è¾¹ï¼ˆ*i*â†’*j*ï¼‰         | *O*(1)       | *O*(å‡ºåº¦)  |
| éå†æ‰€æœ‰é‚»æ¥é¡¶ç‚¹          | *O*(*V*)     | *O*(å‡ºåº¦)  |



ç©ºé—´å¤æ‚åº¦

| **å›¾ç±»å‹**     | **é‚»æ¥çŸ©é˜µ** | **é‚»æ¥è¡¨**   |
| -------------- | ------------ | ------------ |
| ç¨€ç–å›¾ï¼ˆè¾¹å°‘ï¼‰ | *O*(*V*2)    | *O*(*V*+*E*) |
| ç¨ å¯†å›¾ï¼ˆè¾¹å¤šï¼‰ | *O*(*V*2)    | *O*(*V*+*E*) |
| **è¯´æ˜**       | ç©ºé—´æµªè´¹ä¸¥é‡ | ç©ºé—´åˆ©ç”¨ç‡é«˜ |



ä¼˜ç¼ºç‚¹å¯¹æ¯”

| **ç‰¹æ€§**       | **é‚»æ¥çŸ©é˜µ**           | **é‚»æ¥è¡¨**                       |
| -------------- | ---------------------- | -------------------------------- |
| **ç©ºé—´å ç”¨**   | é«˜ï¼ˆå°¤å…¶ç¨€ç–å›¾ï¼‰       | ä½ï¼ˆé€‚åˆç¨€ç–å›¾ï¼‰                 |
| **æŸ¥è¯¢æ•ˆç‡**   | é«˜ï¼ˆç›´æ¥æ•°ç»„è®¿é—®ï¼‰     | ä½ï¼ˆéœ€éå†é“¾è¡¨ï¼‰                 |
| **å¢åˆ é¡¶ç‚¹**   | å›°éš¾ï¼ˆéœ€é‡å»ºæ•´ä¸ªæ•°ç»„ï¼‰ | å®¹æ˜“ï¼ˆä¿®æ”¹å¯¹åº”åˆ—è¡¨å³å¯ï¼‰         |
| **å›¾ç±»å‹**     | é€‚åˆç¨ å¯†å›¾ï¼ˆå¦‚å®Œå…¨å›¾ï¼‰ | é€‚åˆç¨€ç–å›¾ï¼ˆå¦‚ç¤¾äº¤ç½‘ç»œã€æ ‘ç»“æ„ï¼‰ |
| **å†…å­˜è¿ç»­æ€§** | é«˜ï¼ˆæ•°ç»„è¿ç»­å­˜å‚¨ï¼‰     | ä½ï¼ˆé“¾è¡¨åˆ†æ•£å­˜å‚¨ï¼‰               |

æ€»çš„æ¥è¯´

é‚»æ¥çŸ©é˜µ	é€‚åˆ

é‚»æ¥è¡¨	   é€‚åˆ	









æ— å‘å›¾çš„é“¾çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æœ¬é¡¶ç‚¹ï¼Œåç»§åˆ†åˆ«è¿æ¥ç€å’Œè¿™ä¸ªé¡¶ç‚¹ç›¸è¿çš„é¡¶ç‚¹ï¼›
æœ‰å‘å›¾çš„é“¾ç¬¬ä¸€ä¸ªé¡¶ç‚¹æ˜¯æœ¬é¡¶ç‚¹ï¼Œåç»§æ˜¯ä»¥æœ¬é¡¶ç‚¹ä¸ºèµ·ç‚¹çš„è¾¹çš„ç»ˆç‚¹ã€‚



```java
// åŸºäºé‚»æ¥è¡¨å®ç°çš„æ— å‘å›¾ç±»

package TestField;

import java.util.Arrays;


public class Main {
    Vertex[] vertices; // é‚»æ¥è¡¨æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ å¯¹åº”ä¸€ä¸ªé¡¶ç‚¹çš„é“¾è¡¨
    int size;             // é¡¶ç‚¹æ€»æ•°

    // é‚»æ¥è¡¨èŠ‚ç‚¹ç±»ï¼ˆå•é“¾è¡¨ç»“æ„ï¼‰
    class Vertex {
        char ch;          // é¡¶ç‚¹å­—ç¬¦æ ‡è¯†
        Vertex next;      // æŒ‡å‘ä¸‹ä¸€ä¸ªé‚»æ¥é¡¶ç‚¹

        // æ„é€ å‡½æ•°ï¼šåˆå§‹åŒ–é¡¶ç‚¹å­—ç¬¦
        Vertex(char ch) {
            this.ch = ch;
        }

        // æ–¹æ³•ï¼šå‘é“¾è¡¨æœ«å°¾æ·»åŠ æ–°é‚»æ¥é¡¶ç‚¹ï¼ˆå°¾æ’æ³•ï¼‰
        void add(char ch) {
            Vertex current = this;
            // éå†åˆ°é“¾è¡¨æœ«å°¾
            while (current.next != null) {
                current = current.next;
            }
            // åˆ›å»ºæ–°èŠ‚ç‚¹å¹¶è¿æ¥
            current.next = new Vertex(ch);
        }
    }

    // æ„é€ å‡½æ•°ï¼šåˆå§‹åŒ–æ— å‘å›¾
    public Main(char[] vertexs, char[][] edges) {
        size = vertexs.length;
        vertices = new Vertex[size]; // åˆå§‹åŒ–é‚»æ¥è¡¨æ•°ç»„

        // åˆå§‹åŒ–æ¯ä¸ªé¡¶ç‚¹çš„å¤´èŠ‚ç‚¹
        for (int i = 0; i < size; i++) {
            vertices[i] = new Vertex(vertexs[i]);
        }

        // å¡«å……é‚»æ¥è¡¨
        for (char[] edge : edges) {
            int p1 = getPosition(edge[0]); // è·å–é¡¶ç‚¹1çš„ç´¢å¼•
            int p2 = getPosition(edge[1]); // è·å–é¡¶ç‚¹2çš„ç´¢å¼•

            // æ£€æŸ¥é¡¶ç‚¹æ˜¯å¦å­˜åœ¨ï¼ˆä¼˜åŒ–ç‚¹ï¼šæ­¤å¤„åº”æ·»åŠ å¼‚å¸¸å¤„ç†ï¼‰
            if (p1 == -1 || p2 == -1) {
                throw new IllegalArgumentException("æ— æ•ˆé¡¶ç‚¹: " + Arrays.toString(edge));
            }

            // æ— å‘å›¾éœ€åŒå‘æ·»åŠ è¾¹
            vertices[p1].add(edge[1]);
            vertices[p2].add(edge[0]);
        }
    }

    // è¾…åŠ©æ–¹æ³•ï¼šæ ¹æ®å­—ç¬¦æŸ¥æ‰¾é¡¶ç‚¹ç´¢å¼•
    private int getPosition(char ch) {
        for (int i = 0; i < size; i++) {
            if (vertices[i].ch == ch) {
                return i;
            }
        }
        return -1; // é¡¶ç‚¹ä¸å­˜åœ¨æ—¶è¿”å›-1ï¼ˆä¼˜åŒ–ç‚¹ï¼šå»ºè®®æŠ›å‡ºå¼‚å¸¸ï¼‰
    }

    // æ–¹æ³•ï¼šæ‰“å°é‚»æ¥è¡¨ç»“æ„
    public void print() {
        for (int i = 0; i < size; i++) {
            Vertex current = vertices[i];
            // éå†é“¾è¡¨å¹¶è¾“å‡º
            while (current != null) {
                System.out.print(current.ch + " ");
                current = current.next;
            }
            System.out.println(); // æ¢è¡Œåˆ†éš”ä¸åŒé¡¶ç‚¹
        }
    }

    public static void main(String[] args) {
        char[] vexs = {'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K'};
        char[][] edges = {
            {'A', 'C'}, {'A', 'D'}, {'A', 'F'},
            {'B', 'C'}, {'C', 'D'}, {'E', 'G'},
            {'D', 'G'}, {'I', 'J'}, {'J', 'G'}
        };

        // æµ‹è¯•ï¼šåˆ›å»º10ä¸ªå›¾å¯¹è±¡
        for (int i = 0; i < 10; i++) {
            Main graph = new Main(vexs, edges);
             graph.print();
        }
    }
    
}
```



```java
// åŸºäºé‚»æ¥è¡¨å®ç°æœ‰å‘å›¾

package TestField;

import java.util.HashMap;
import java.util.LinkedList;
import java.util.List;
import java.util.Map;

public class MainCopy {
    
    // æ•°ç»„å¯ä»¥é€šè¿‡ç´¢å¼•æ–¹ä¾¿çš„æŸ¥æ‰¾é‚»æ¥ç‚¹ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿ï¼Œç”¨Mapï¼Œå¯ä»¥ä¸ç”¨
	private Map<Character, List<Character>> adjList; // ä½¿ç”¨ Map å­˜å‚¨é¡¶ç‚¹å’Œé‚»æ¥è¡¨
	private int size;

	public MainCopy(char[] vertexs, char[][] edges) {
		size = vertexs.length;
		adjList = new HashMap<>();

		// åˆå§‹åŒ–é‚»æ¥è¡¨ï¼ˆä»…å­˜å‚¨é¡¶ç‚¹æœ¬èº«ï¼‰
		for (char vertex : vertexs) {
			adjList.put(vertex, new LinkedList<>());
		}

		// æ·»åŠ æœ‰å‘è¾¹ï¼ˆä»…å•è¾¹ï¼‰
		for (char[] edge : edges) {
			char from = edge[0];
			char to = edge[1];
			if (!adjList.containsKey(from)) {
				throw new IllegalArgumentException("Invalid vertex: " + from);
			}
			adjList.get(from).add(to);
		}
	}

	public void print() {
		for (char vertex : adjList.keySet()) {
			System.out.print(vertex + " -> ");
			adjList.get(vertex).forEach(neighbor -> System.out.print(neighbor + " "));
			System.out.println();
		}
	}

	public static void main(String[] args) {
		char[] vexs = { 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K' };
		char[][] edges = { { 'A', 'C' }, { 'A', 'D' }, { 'A', 'F' }, { 'B', 'C' }, { 'C', 'D' }, { 'E', 'G' },
				{ 'D', 'G' }, { 'I', 'J' }, { 'J', 'G' } };

		MainCopy graph = new MainCopy(vexs, edges);
		graph.print();
	}
}
```



```java
// é€†é‚»æ¥è¡¨
```



```java
/* åŸºäºé‚»æ¥çŸ©é˜µå®ç°çš„æ— å‘å›¾  ç±» */



package TestField;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class MainCopy {

    static class Graph {
        // èŠ‚ç‚¹åˆ—è¡¨
        List<Integer> vertices;
        // é‚»æ¥çŸ©é˜µ
        List<List<Integer>> adjMat;

        public Graph(int[] vertex, int[][] edges) {
            this.vertices = new ArrayList<>();
            this.adjMat = new ArrayList<>();

            for (int i : vertex)
                vertices.add(i);

            int size = vertex.length;
            // åˆå§‹åŒ–é‚»æ¥çŸ©é˜µå…ƒç´ ä¸º 0
            for (int i = 0; i < size; i++) {
                List<Integer> row = new ArrayList<>();
                for (int j = 0; j < size; j++) {
                    row.add(0);
                }
                adjMat.add(row);
            }

            for (int[] edge : edges)
                addEdge(edge[0], edge[1]);
        }

        void addEdge(Integer i, Integer j) {
            if (i < 0 || j < 0 || i == j || i >= getSize() || j >= getSize())
                // ä¿®æ­£æ‹¼å†™é”™è¯¯
                throw new IndexOutOfBoundsException("ç´¢å¼•è¶…å‡ºè¾¹ç•Œ");
            adjMat.get(i).set(j, 1);
            adjMat.get(j).set(i, 1);
        }

        int getSize() {
            return vertices.size();
        }

        public void addVertex(int vertex) {
            vertices.add(vertex);
            int size = getSize();
            ArrayList<Integer> newRow = new ArrayList<>(size);
            // æ­£ç¡®åˆå§‹åŒ– newRow å…ƒç´ ä¸º 0
            for (int i = 0; i < size; i++) {
                newRow.add(0);
            }
            adjMat.add(newRow);

            for (List<Integer> row : adjMat)
                row.add(0);
        }

        public void removeVertex(int index) {
            if (index >= getSize()) {
                throw new IndexOutOfBoundsException("è¶Šç•Œ");
            }

            vertices.remove(index);
            adjMat.remove(index);

            for (List<Integer> row : adjMat)
                row.remove(index);
        }

        public void addEdge(int i, int j) {
            if (i < 0 || j < 0 || i >= getSize() || j >= getSize() || i == j) {
                throw new IndexOutOfBoundsException("è¾¹çš„ç´¢å¼•è¶…å‡ºèŒƒå›´æˆ–ä¸åˆæ³•");
            }
            adjMat.get(i).set(j, 1);
            adjMat.get(j).set(i, 1);
        }

        public void removeEdge(int i, int j) {
            if (i < 0 || j < 0 || i >= getSize() || j >= getSize() || i == j) {
                throw new IndexOutOfBoundsException("è¾¹çš„ç´¢å¼•è¶…å‡ºèŒƒå›´æˆ–ä¸åˆæ³•");
            }
            adjMat.get(i).set(j, 0);
            adjMat.get(j).set(i, 0);
        }

        public void print() {
            System.out.println("é¡¶ç‚¹");
            // è®©é¡¶ç‚¹åœ¨åŒä¸€è¡Œè¾“å‡º
            for (int vertex : vertices)
                System.out.print(vertex + " ");
            System.out.println();

            System.out.println("é‚»æ¥çŸ©é˜µ");
            int size = adjMat.size();
            for (List<Integer> row : adjMat) {
                for (int i = 0; i < size; i++) {
                    System.out.print(row.get(i) + " ");
                }
                System.out.println();
            }
        }
    }

    // å…¥å£
    public static void main(String[] args) {
        int[] vertices = {1, 2, 3, 4};
        int[][] edges = {{0, 1}, {1, 2}, {2, 3}};

        // åˆ›å»ºå›¾å¯¹è±¡
        Graph graph = new Graph(vertices, edges);

        // æ‰“å°åˆå§‹å›¾ä¿¡æ¯
        System.out.println("åˆå§‹å›¾ä¿¡æ¯ï¼š");
        graph.print();

        // æ·»åŠ é¡¶ç‚¹
        graph.addVertex(5);
        System.out.println("\næ·»åŠ é¡¶ç‚¹ 5 åï¼š");
        graph.print();

        // æ·»åŠ è¾¹
        graph.addEdge(0, 4);
        System.out.println("\næ·»åŠ è¾¹ (0, 4) åï¼š");
        graph.print();

        // åˆ é™¤è¾¹
        graph.removeEdge(1, 2);
        System.out.println("\nåˆ é™¤è¾¹ (1, 2) åï¼š");
        graph.print();

        // åˆ é™¤é¡¶ç‚¹ 3ï¼ˆç´¢å¼•ä¸º 2ï¼‰
        graph.removeVertex(2);
        System.out.println("\nåˆ é™¤é¡¶ç‚¹ 3 åï¼š");
        graph.print();
    }
}
```









a

```java
// å¯¹é¡¶ç‚¹å’Œè¾¹çš„å­—æ®µçš„è§£é‡Š

static class Node {
	// ç¼–å·
	int vertex;
	// è¯¥é¡¶ç‚¹åˆ°èµ·ç‚¹çš„æœ€çŸ­è·ç¦»
	int dist;

	Node(int vertex, int dist) {
		this.vertex = vertex;
		this.dist = dist;
	}
}

public static class Edge {

	//è¯¥è¾¹æƒé‡
	int len;
	//è¯¥è¾¹ç»ˆç‚¹é¡¶ç‚¹çš„ç¼–å·
	int to;

	public Edge(int to, int len) {
		this.to = to;
		this.len = len;
	}

}
```



```java
// åŸºäºé‚»æ¥çŸ©é˜µå®ç°çš„æœ‰å‘å›¾ç±»





public class MatrixDG {
    int size;
    char[] vertexs;
    int[][] matrix;
    
    public MatrixDG(char[] vertexs,char[][] edges){
        
        size=vertexs.length;
        matrix=new int[size][size];
        this.vertexs=vertexs;
        //å’Œé‚»æ¥çŸ©é˜µæ— å‘å›¾å·®åˆ«ä»…ä»…åœ¨è¿™é‡Œ
        for(char[] c:edges){
            int p1 = getPosition(c[0]);
            int p2 = getPosition(c[1]);
            matrix[p1][p2] = 1;
        }

    }
    public void print(){
        for(int[] i:matrix){
            for(int j:i){
                System.out.print(j+" ");
            }
            System.out.println();
        }
    }
    private int getPosition(char ch) {
        for(int i=0; i<vertexs.length; i++)
            if(vertexs[i]==ch)
                return i;
        return -1;
    }
    public static void main(String[] args) {
        char[] vexs = {'A', 'B', 'C', 'D', 'E', 'F', 'G','H','I','J','K'};
        char[][] edges = new char[][]{
            {'A', 'C'}, 
            {'A', 'D'}, 
            {'A', 'F'}, 
            {'B', 'C'}, 
            {'C', 'D'}, 
            {'E', 'G'}, 
            {'D', 'G'},
            {'I','J'},
            {'J','G'},};
        MatrixDG pG;
        // è‡ªå®šä¹‰"å›¾"(è¾“å…¥çŸ©é˜µé˜Ÿåˆ—)
        //pG = new MatrixUDG();
        // é‡‡ç”¨å·²æœ‰çš„"å›¾"
        pG = new MatrixDG(vexs, edges);
        pG.print();
    }
}

```











â€‹	`å›¾çš„éå†`



æœ‰æ·±åº¦ä¼˜å…ˆå’Œå¹¿åº¦ä¼˜å…ˆ



â€‹	**å¹¿åº¦ä¼˜å…ˆ**	BFS

ä»æŸèŠ‚ç‚¹å‡ºå‘ï¼Œå§‹ç»ˆä¼˜å…ˆè®¿é—®æœ€è¿‘èŠ‚ç‚¹ï¼Œå¹¶å±‚å±‚å‘å¤–æ‰©å¼ 



BFS é€šå¸¸å€ŸåŠ©é˜Ÿåˆ—å®ç°ï¼Œå› ä¸º é˜Ÿåˆ—å…·æœ‰â€œå…ˆå…¥å…ˆå‡ºâ€çš„æ€§è´¨ï¼Œè¿™ä¸ BFS çš„â€œç”±è¿‘åŠè¿œâ€çš„æ€æƒ³å¼‚æ›²åŒå·¥ã€‚

1. å°†éå†èµ·å§‹é¡¶ç‚¹ `startVet` åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶å¼€å¯å¾ªç¯ã€‚
2. åœ¨å¾ªç¯çš„æ¯è½®è¿­ä»£ä¸­ï¼Œå¼¹å‡ºé˜Ÿé¦–é¡¶ç‚¹å¹¶è®°å½•è®¿é—®ï¼Œç„¶åå°†è¯¥é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹åŠ å…¥åˆ°é˜Ÿåˆ—å°¾éƒ¨ã€‚
3. å¾ªç¯æ­¥éª¤ `2.` ï¼Œç›´åˆ°æ‰€æœ‰é¡¶ç‚¹è¢«è®¿é—®å®Œæ¯•åç»“æŸã€‚

è¿˜è¦å€ŸåŠ©å“ˆå¸Œé›†åˆ( hashSet ,è¿™é‡Œåä¸º`visited`)å»é‡çš„ç‰¹ç‚¹æ¥è®°å½•å·²è®¿é—®èŠ‚ç‚¹ï¼Œé¿å…é‡å¤è®¿é—®ã€‚

```java
// æ ¸å¿ƒå†…å®¹
/* å¹¿åº¦ä¼˜å…ˆéå† */
// ä½¿ç”¨é‚»æ¥è¡¨æ¥è¡¨ç¤ºå›¾ï¼Œä»¥ä¾¿è·å–æŒ‡å®šé¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹


List<Vertex> graphBFS(GraphAdjList graph, Vertex startVet) {
    // é¡¶ç‚¹éå†åºåˆ—(è¢«éå†çš„é¡¶ç‚¹å°†ä¼šé¡ºæ¬¡åŠ å…¥è¿™ä¸ªåºåˆ—)
    List<Vertex> res = new ArrayList<>();
    // å“ˆå¸Œé›†åˆï¼Œç”¨äºè®°å½•å·²è¢«è®¿é—®è¿‡çš„é¡¶ç‚¹
    Set<Vertex> visited = new HashSet<>();
    visited.add(startVet);
    // é˜Ÿåˆ—ç”¨äºå®ç° BFS
    Queue<Vertex> que = new LinkedList<>();
    que.offer(startVet);
    // ä»¥é¡¶ç‚¹ vet ä¸ºèµ·ç‚¹ï¼Œå¾ªç¯ç›´è‡³è®¿é—®å®Œæ‰€æœ‰é¡¶ç‚¹
    while (!que.isEmpty()) {
        Vertex vet = que.poll(); // é˜Ÿé¦–é¡¶ç‚¹å‡ºé˜Ÿ
        res.add(vet);            // è®°å½•è®¿é—®é¡¶ç‚¹
        // éå†è¯¥é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹
        for (Vertex adjVet : graph.adjList.get(vet)) {
            if (visited.contains(adjVet))
                continue;        // è·³è¿‡å·²è¢«è®¿é—®çš„é¡¶ç‚¹
            que.offer(adjVet);   // åªå…¥é˜Ÿæœªè®¿é—®çš„é¡¶ç‚¹
            visited.add(adjVet); // æ ‡è®°è¯¥é¡¶ç‚¹å·²è¢«è®¿é—®
        }
    }
    // è¿”å›é¡¶ç‚¹éå†åºåˆ—
    return res;
}
```



```java
// å®Œæ•´ä»£ç 

package TestField;

import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import java.util.HashMap;
import java.util.Set;
import java.util.HashSet;
import java.util.Queue;
import java.util.LinkedList;

public class Main {

	public static class Vertex {

		int val;

		public Vertex(int val) {

			this.val = val;
		}

		@Override
		public String toString() {
			return String.valueOf(val);
		}

	}

	public static class GraphAdjList {

		List<Vertex> vertices;
		Map<Vertex, List<Vertex>> adjList;

		public GraphAdjList() {
			this.vertices = new ArrayList<>();
			this.adjList = new HashMap<>();
		}

		public void addVertex(Vertex vertex) {

			// è‹¥é‡å¤ï¼Œä¿ç•™ä»¥å‰çš„
			if (!adjList.containsKey(vertex)) {
				vertices.add(vertex);
				adjList.put(vertex, new ArrayList<Vertex>());

			}
		}

		public void addEdge(Vertex v1, Vertex v2) {

			adjList.get(v1).add(v2);
			adjList.get(v2).add(v1);

		}

	}

	public static class GraphBFSTravel {

		List<Vertex> BFS(GraphAdjList graph, Vertex start) {

			List<Vertex> res = new ArrayList<Vertex>();
			// å› ä¸ºæŠŠèŠ‚ç‚¹å®šä¹‰æˆäº†ç±»Vertexï¼Œå°±ä¸èƒ½ç”¨boolean[]
			Set<Vertex> visited = new HashSet<>();
			Queue<Vertex> que = new LinkedList<>();

			que.offer(start);
			visited.add(start);
			
			while (!que.isEmpty()) {

				Vertex curVertex = que.poll();
				res.add(curVertex);
				for (Vertex neighbor : graph.adjList.get(curVertex)) {
						if(visited.contains(neighbor))
							continue;
						que.offer(neighbor);
						visited.add(neighbor);
				}
			}

			return res;

		}

	}

	
	public static void main(String[] args) {
		// åˆ›å»ºå›¾
		GraphAdjList graph = new GraphAdjList();

		// åˆ›å»ºé¡¶ç‚¹
		Vertex v0 = new Vertex(0);
		Vertex v1 = new Vertex(1);
		Vertex v2 = new Vertex(2);
		Vertex v3 = new Vertex(3);
		Vertex v4 = new Vertex(4);

		// æ·»åŠ é¡¶ç‚¹åˆ°å›¾ä¸­
		graph.addVertex(v0);
		graph.addVertex(v1);
		graph.addVertex(v2);
		graph.addVertex(v3);
		graph.addVertex(v4);

		// æ·»åŠ è¾¹
		graph.addEdge(v0, v1);
		graph.addEdge(v0, v2);
		graph.addEdge(v1, v2);
		graph.addEdge(v1, v3);
		graph.addEdge(v2, v4);

		// æ‰§è¡Œå¹¿åº¦ä¼˜å…ˆéå†
		List<Vertex> traversalResult = new GraphBFSTravel().BFS(graph, v0);

		// è¾“å‡ºéå†ç»“æœ
		System.out.println("å¹¿åº¦ä¼˜å…ˆéå†ç»“æœ: " + traversalResult);
	}

}
```



```c++
// c++ç‰ˆæœ¬

/*Vertex ç±»ï¼šå®šä¹‰äº†å›¾çš„é¡¶ç‚¹ï¼Œæ¯ä¸ªé¡¶ç‚¹åŒ…å«ä¸€ä¸ªæ•´æ•°å€¼ valã€‚
GraphAdjList ç±»ï¼šä½¿ç”¨é‚»æ¥è¡¨æ¥è¡¨ç¤ºå›¾ï¼Œæä¾›äº†æ·»åŠ é¡¶ç‚¹å’Œæ·»åŠ è¾¹çš„æ–¹æ³•ã€‚
graphBFS å‡½æ•°ï¼šå®ç°äº†å¹¿åº¦ä¼˜å…ˆéå†ç®—æ³•ï¼Œä½¿ç”¨é˜Ÿåˆ—æ¥å­˜å‚¨å¾…è®¿é—®çš„é¡¶ç‚¹ï¼Œä½¿ç”¨å“ˆå¸Œé›†åˆæ¥è®°å½•å·²è®¿é—®çš„é¡¶ç‚¹ã€‚
printVertexSequence å‡½æ•°ï¼šè¾…åŠ©å‡½æ•°ï¼Œç”¨äºæ‰“å°é¡¶ç‚¹éå†åºåˆ—ã€‚
main å‡½æ•°ï¼šåˆ›å»ºäº†ä¸€äº›é¡¶ç‚¹å’Œè¾¹ï¼Œæ„å»ºäº†ä¸€ä¸ªå›¾ï¼Œç„¶åä»é¡¶ç‚¹ v0 å¼€å§‹è¿›è¡Œå¹¿åº¦ä¼˜å…ˆéå†ï¼Œå¹¶æ‰“å°éå†åºåˆ—ã€‚æœ€åï¼Œé‡Šæ”¾äº†åŠ¨æ€åˆ†é…çš„é¡¶ç‚¹å†…å­˜ã€‚*/

#include <iostream>
#include <vector>
#include <queue>
#include <unordered_set>
#include <unordered_map>

// å®šä¹‰é¡¶ç‚¹ç±»
class Vertex {
public:
    int val;
    Vertex(int x) : val(x) {}
};

// å®šä¹‰å›¾ç±»ï¼Œä½¿ç”¨é‚»æ¥è¡¨è¡¨ç¤º
class GraphAdjList {
public:
    std::unordered_map<Vertex*, std::vector<Vertex*>> adjList;

    // æ·»åŠ é¡¶ç‚¹
    void addVertex(Vertex* vet) {
        if (adjList.find(vet) == adjList.end()) {
            adjList[vet] = {};
        }
    }

    // æ·»åŠ è¾¹
    void addEdge(Vertex* vet1, Vertex* vet2) {
        if (adjList.find(vet1) == adjList.end() || adjList.find(vet2) == adjList.end()) {
            return;
        }
        adjList[vet1].push_back(vet2);
        adjList[vet2].push_back(vet1); // æ— å‘å›¾
    }
};

/* å¹¿åº¦ä¼˜å…ˆéå† */
// ä½¿ç”¨é‚»æ¥è¡¨æ¥è¡¨ç¤ºå›¾ï¼Œä»¥ä¾¿è·å–æŒ‡å®šé¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹
std::vector<Vertex*> graphBFS(GraphAdjList &graph, Vertex *startVet) {
    // é¡¶ç‚¹éå†åºåˆ—
    std::vector<Vertex*> res;
    // å“ˆå¸Œé›†åˆï¼Œç”¨äºè®°å½•å·²è¢«è®¿é—®è¿‡çš„é¡¶ç‚¹
    std::unordered_set<Vertex*> visited = {startVet};
    // é˜Ÿåˆ—ç”¨äºå®ç° BFS
    std::queue<Vertex*> que;
    que.push(startVet);
    // ä»¥é¡¶ç‚¹ vet ä¸ºèµ·ç‚¹ï¼Œå¾ªç¯ç›´è‡³è®¿é—®å®Œæ‰€æœ‰é¡¶ç‚¹
    while (!que.empty()) {
        Vertex *vet = que.front();
        que.pop();          // é˜Ÿé¦–é¡¶ç‚¹å‡ºé˜Ÿ
        res.push_back(vet); // è®°å½•è®¿é—®é¡¶ç‚¹
        // éå†è¯¥é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹
        for (auto adjVet : graph.adjList[vet]) {
            if (visited.count(adjVet))
                continue;            // è·³è¿‡å·²è¢«è®¿é—®çš„é¡¶ç‚¹
            que.push(adjVet);        // åªå…¥é˜Ÿæœªè®¿é—®çš„é¡¶ç‚¹
            visited.emplace(adjVet); // æ ‡è®°è¯¥é¡¶ç‚¹å·²è¢«è®¿é—®
        }
    }
    // è¿”å›é¡¶ç‚¹éå†åºåˆ—
    return res;
}

// è¾…åŠ©å‡½æ•°ï¼šæ‰“å°é¡¶ç‚¹éå†åºåˆ—
void printVertexSequence(const std::vector<Vertex*>& sequence) {
    for (auto vet : sequence) {
        std::cout << vet->val << " ";
    }
    std::cout << std::endl;
}

int main() {
    // åˆ›å»ºé¡¶ç‚¹
    Vertex* v0 = new Vertex(0);
    Vertex* v1 = new Vertex(1);
    Vertex* v2 = new Vertex(2);
    Vertex* v3 = new Vertex(3);
    Vertex* v4 = new Vertex(4);

    // åˆ›å»ºå›¾
    GraphAdjList graph;
    graph.addVertex(v0);
    graph.addVertex(v1);
    graph.addVertex(v2);
    graph.addVertex(v3);
    graph.addVertex(v4);

    // æ·»åŠ è¾¹
    graph.addEdge(v0, v1);
    graph.addEdge(v0, v2);
    graph.addEdge(v1, v2);
    graph.addEdge(v1, v3);
    graph.addEdge(v2, v4);

    // ä»é¡¶ç‚¹ v0 å¼€å§‹è¿›è¡Œå¹¿åº¦ä¼˜å…ˆéå†
    std::vector<Vertex*> bfsSequence = graphBFS(graph, v0);

    // æ‰“å°éå†åºåˆ—
    std::cout << "BFS éå†åºåˆ—: ";
    printVertexSequence(bfsSequence);

    // é‡Šæ”¾å†…å­˜
    delete v0;
    delete v1;
    delete v2;
    delete v3;
    delete v4;

    return 0;
}
```



**BFSå…³é”®ç‚¹ï¼šçŠ¶æ€çš„é€‰å–å’Œæ ‡è®°**









â€‹	**æ·±åº¦ä¼˜å…ˆ	**DFS

èµ°åˆ°åº•ï¼Œæ— è·¯å¯èµ°å†å›å»ï¼Œå¦‚æ­¤åå¤



å…³é”®ç‚¹ï¼šé€’å½’ã€å›æº¯

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250227171912596.png" alt="image-20250227171912596" style="zoom:50%;" />

```java
// æ·±åº¦ä¼˜å…ˆæ ¸å¿ƒä»£ç 

// æ·±åº¦ä¼˜å…ˆä¸€èˆ¬é€šè¿‡é€’å½’å®ç°ï¼Œå’Œå¹¿åº¦ä¼˜å…ˆçš„å‡ ä¹æ²¡æœ‰åŒºåˆ«
 
class DFSGraphTraversal {
    /* æ·±åº¦ä¼˜å…ˆéå†è¾…åŠ©å‡½æ•° */
    void dfs(GraphAdjList graph, Set<Vertex> visited, List<Vertex> res, Vertex startVet) {
        res.add(startVet);     // è®°å½•è®¿é—®é¡¶ç‚¹
        visited.add(startVet); // æ ‡è®°è¯¥é¡¶ç‚¹å·²è¢«è®¿é—®
        // éå†è¯¥é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹
        for (Vertex adjVet : graph.adjList.get(startVet)) {
            if (visited.contains(adjVet))
                continue; // è·³è¿‡å·²è¢«è®¿é—®çš„é¡¶ç‚¹
            // é€’å½’è®¿é—®é‚»æ¥é¡¶ç‚¹
            dfs(graph, visited, res, adjVet);
        }
    }

    /* æ·±åº¦ä¼˜å…ˆéå† */
    // ä½¿ç”¨é‚»æ¥è¡¨æ¥è¡¨ç¤ºå›¾ï¼Œä»¥ä¾¿è·å–æŒ‡å®šé¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹
    List<Vertex> graphDFS(GraphAdjList graph, Vertex startVet) {
        // é¡¶ç‚¹éå†åºåˆ—
        List<Vertex> res = new ArrayList<>();
        // å“ˆå¸Œé›†åˆï¼Œç”¨äºè®°å½•å·²è¢«è®¿é—®è¿‡çš„é¡¶ç‚¹
        Set<Vertex> visited = new HashSet<>();
        dfs(graph, visited, res, startVet);
        return res;
    }
}


```

```java
//å®Œæ•´ä»£ç 
    
import java.util.ArrayList;
import java.util.HashMap;
import java.util.HashSet;
import java.util.List	;
import java.util.Map;
import java.util.Set;

// é¡¶ç‚¹ç±»
class Vertex {
    int val;

    public Vertex(int val) {
        this.val = val;
    }

    @Override
    public String toString() {
        return String.valueOf(val);
    }
}

// å›¾çš„é‚»æ¥è¡¨å®ç°ç±»
class GraphAdjList {
    List<Vertex> vertices;
    Map<Vertex, List<Vertex>> adjList;

    public GraphAdjList() {
        this.vertices = new ArrayList<>();
        this.adjList = new HashMap<>();
    }

    // æ·»åŠ é¡¶ç‚¹
    public void addVertex(Vertex vertex) {
        if (!adjList.containsKey(vertex)) {
            vertices.add(vertex);
            adjList.put(vertex, new ArrayList<>());
        }
    }

    // æ·»åŠ è¾¹
    public void addEdge(Vertex v1, Vertex v2) {
        addVertex(v1);
        addVertex(v2);
        adjList.get(v1).add(v2);
        adjList.get(v2).add(v1);
    }
}

// æ·±åº¦ä¼˜å…ˆæœç´¢éå†ç±»
class DFSGraphTraversal {
    /* æ·±åº¦ä¼˜å…ˆéå†è¾…åŠ©å‡½æ•° */
    void dfs(GraphAdjList graph, Set<Vertex> visited, List<Vertex> res, Vertex startVet) {
        res.add(startVet);     // è®°å½•è®¿é—®é¡¶ç‚¹
        visited.add(startVet); // æ ‡è®°è¯¥é¡¶ç‚¹å·²è¢«è®¿é—®
        // éå†è¯¥é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹
        for (Vertex adjVet : graph.adjList.get(startVet)) {
            if (visited.contains(adjVet))
                continue; // è·³è¿‡å·²è¢«è®¿é—®çš„é¡¶ç‚¹
            // é€’å½’è®¿é—®é‚»æ¥é¡¶ç‚¹
            dfs(graph, visited, res, adjVet);
        }
    }

    /* æ·±åº¦ä¼˜å…ˆéå† */
    // ä½¿ç”¨é‚»æ¥è¡¨æ¥è¡¨ç¤ºå›¾ï¼Œä»¥ä¾¿è·å–æŒ‡å®šé¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹
    List<Vertex> graphDFS(GraphAdjList graph, Vertex startVet) {
        // é¡¶ç‚¹éå†åºåˆ—
        List<Vertex> res = new ArrayList<>();
        // å“ˆå¸Œé›†åˆï¼Œç”¨äºè®°å½•å·²è¢«è®¿é—®è¿‡çš„é¡¶ç‚¹
        Set<Vertex> visited = new HashSet<>();
        dfs(graph, visited, res, startVet);
        return res;
    }
}

public class Main {
    public static void main(String[] args) {
        // åˆ›å»ºå›¾
        GraphAdjList graph = new GraphAdjList();

        // åˆ›å»ºé¡¶ç‚¹
        Vertex v0 = new Vertex(0);
        Vertex v1 = new Vertex(1);
        Vertex v2 = new Vertex(2);
        Vertex v3 = new Vertex(3);
        Vertex v4 = new Vertex(4);

        // æ·»åŠ é¡¶ç‚¹åˆ°å›¾ä¸­
        graph.addVertex(v0);
        graph.addVertex(v1);
        graph.addVertex(v2);
        graph.addVertex(v3);
        graph.addVertex(v4);

        // æ·»åŠ è¾¹
        graph.addEdge(v0, v1);
        graph.addEdge(v0, v2);
        graph.addEdge(v1, v2);
        graph.addEdge(v1, v3);
        graph.addEdge(v2, v4);

        // åˆ›å»ºæ·±åº¦ä¼˜å…ˆæœç´¢å¯¹è±¡
        DFSGraphTraversal dfsTraversal = new DFSGraphTraversal();
        // æ‰§è¡Œæ·±åº¦ä¼˜å…ˆéå†
        List<Vertex> traversalResult = dfsTraversal.graphDFS(graph, v0);

        // è¾“å‡ºéå†ç»“æœ
        System.out.println("æ·±åº¦ä¼˜å…ˆéå†ç»“æœ: " + traversalResult);
    }
}
```





```java
// DFSä¸€èˆ¬åŸºäºé€’å½’å®ç°ï¼Œé‚£äºŒèˆ¬å‘¢ï¼Ÿ
```

 







<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250227192405962.png" alt="image-20250227192405962" style="zoom: 67%;" />

æŒ‰ç…§ğŸ‘ˆğŸ‘‡ğŸ‘‰ğŸ‘†çš„é¡ºåºå°è¯•



DFSä¼šå°è¯•å„ç§è·¯å¾„ï¼Œåœ¨ä¸æ–­åœ°æ’å¢™åï¼Œæœ€ç»ˆä¼šè¯•å‡ºä¸€æ¡å¯ä»¥åˆ°è¾¾ç›®æ ‡åœ°è·¯ï¼Œåœ¨æ’å¢™åï¼Œè¦é‡æ–°èµ°ï¼Œåœ¨DFSé‡Œå°±æ˜¯å›æº¯ï¼Œæ‰€ä»¥ï¼ŒDFSå…³é”®æ˜¯å›æº¯

å›æº¯æ˜¯é€’å½’åœ¨ä¸Šä¸€å±‚åæŠŠåŸæœ¬çš„æ ‡è®°å»æ‰ã€‚å›æº¯çš„é‚£æ­¥æœ¬è´¨åªæ˜¯å»æ‰æ ‡è®°ï¼Œè€Œä¸æ˜¯é€€å›å“¦ï¼Œé€€å›æ˜¯åœ¨é€’å½’é‚£å¥è¯å®ç°çš„ã€‚





è€ŒBFSåˆ™æ˜¯åå¤è¿›å…¥å’Œé€€å‡ºï¼Œå°†æ‰€æœ‰å¯è¡Œè§£å¾—å‡ºå†è®°å½•ä¸‹æ¥ï¼Œæ‰€ä»¥BFSå…³é”®æ˜¯çŠ¶æ€é€‰å–å’Œæ ‡è®°



DFSå’ŒBFS

**æ•°æ®ç»“æ„ä¸Šçš„è¿ç”¨**

DFSç”¨é€’å½’çš„å½¢å¼ï¼Œç”¨åˆ°äº†æ ˆç»“æ„ï¼Œå…ˆè¿›åå‡ºã€‚

BFSé€‰å–çŠ¶æ€ç”¨é˜Ÿåˆ—çš„å½¢å¼ï¼Œå…ˆè¿›å…ˆå‡ºã€‚

éƒ½ç”¨hashSetæ¥è®°å½•å·²è®¿é—®è¿‡èŠ‚ç‚¹

**å¤æ‚åº¦**

DFSçš„å¤æ‚åº¦ä¸BFSçš„å¤æ‚åº¦å¤§ä½“ä¸€è‡´

**æ€æƒ³**

æ€æƒ³ä¸Šæ¥è¯´è¿™ä¸¤ç§æ–¹æ³•éƒ½æ˜¯ç©·ç«­åˆ—ä¸¾æ‰€æœ‰çš„æƒ…å†µ

ä¸åŒä¹‹å¤„åœ¨äºéå†çš„æ–¹å¼ä¸å¯¹äºé—®é¢˜çš„è§£å†³å‡ºå‘ç‚¹ä¸åŒï¼ŒDFSé€‚åˆç›®æ ‡æ˜ç¡®ï¼Œè€ŒBFSé€‚åˆå¤§èŒƒå›´çš„å¯»æ‰¾ã€‚





`Dijkstraç®—æ³•`

æ ¸å¿ƒæ€æƒ³æ˜¯è´ªå¿ƒç­–ç•¥ï¼Œå®ƒä»æºèŠ‚ç‚¹å¼€å§‹ï¼Œæ¯æ¬¡é€‰æ‹©è·ç¦»æœ€è¿‘ä¸”æœªç¡®å®šæœ€çŸ­è·¯å¾„çš„èŠ‚ç‚¹ï¼Œå¹¶ä»¥è¯¥èŠ‚ç‚¹ä¸ºä¸­é—´ç‚¹æ›´æ–°å…¶ä»–èŠ‚ç‚¹åˆ°æºèŠ‚ç‚¹çš„è·ç¦»ï¼Œç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„éƒ½è¢«ç¡®å®šã€‚

```java
package algo;

import java.util.*;


class Dijkstra{
	
	private static final int INF = Integer.MAX_VALUE;

	// å†…éƒ¨ç±»ç”¨äºå­˜å‚¨èŠ‚ç‚¹å’Œè·ç¦»
	static class Node implements Comparable<Node> {
		int vertex;
		int distance;

		Node(int vertex, int distance) {
			this.vertex = vertex;
			this.distance = distance;
		}

		@Override
		public int compareTo(Node other) {
			return Integer.compare(this.distance, other.distance);
		}
	}

	
	public static class Result {
		
		// å­˜å‚¨è·ç¦»
		int[] dist;
		// å­˜å‚¨å‰é©±èŠ‚ç‚¹
		int[] prev;

		Result(int[] dist, int[] prev) {
			this.dist = dist;
			this.prev = prev;
		}
	}

	// æ ¸å¿ƒç®—æ³•
	public static Result dijkstra(int[][] graph, int src) {
		int n = graph.length;
		int[] dist = new int[n];
		int[] prev = new int[n];
		boolean[] visited = new boolean[n];

		// åˆå§‹åŒ–è·ç¦»æ•°ç»„å’Œå‰é©±æ•°ç»„
		Arrays.fill(dist, INF);
		Arrays.fill(prev, -1);
		dist[src] = 0;

		// ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæœ€å°å †ï¼‰æ¥ä¼˜åŒ–é€‰æ‹©æœ€å°è·ç¦»èŠ‚ç‚¹çš„è¿‡ç¨‹
		PriorityQueue<Node> pq = new PriorityQueue<>();
		pq.add(new Node(src, 0));

		while (!pq.isEmpty()) {
			// å–å‡ºè·ç¦»æºèŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹
			Node current = pq.poll();
			int u = current.vertex;

			if (visited[u])
				continue;
			visited[u] = true;

			// æ›´æ–° u çš„é‚»æ¥èŠ‚ç‚¹çš„è·ç¦»
			for (int v = 0; v < n; v++) {
				//å¦‚æœé‚»æ¥èŠ‚ç‚¹væ²¡è®¿é—®è¿‡&& uåˆ°vä¹‹é—´æœ‰è·¯ && æºèŠ‚ç‚¹åˆ°uæ˜¯å¯è¾¾çš„ && å°äºç›®å‰è®°å½•æœ€çŸ­è·ç¦»
				if (!visited[v] && graph[u][v] != 0 && dist[u] != INF && dist[u] + graph[u][v] < dist[v]) {
					dist[v] = dist[u] + graph[u][v];
					prev[v] = u;
					pq.add(new Node(v, dist[v]));
				}
			}
		}

		return new Result(dist, prev);
	}

	// ç”¨äºè¾“å‡ºä»æºèŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹çš„å…·ä½“è·¯å¾„
	public static List<Integer> getPath(int[] prev, int dest) {
		List<Integer> path = new ArrayList<>();
		for (int at = dest; at != -1; at = prev[at]) {
			path.add(at);
		}
		Collections.reverse(path);
		return path;
	}

	public static void main(String[] args) {
		int[][] graph = { { 0, 4, 0, 0, 0, 0, 0, 8, 0 }, { 4, 0, 8, 0, 0, 0, 0, 11, 0 }, { 0, 8, 0, 7, 0, 4, 0, 0, 2 },
				{ 0, 0, 7, 0, 9, 14, 0, 0, 0 }, { 0, 0, 0, 9, 0, 10, 0, 0, 0 }, { 0, 0, 4, 14, 10, 0, 2, 0, 0 },
				{ 0, 0, 0, 0, 0, 2, 0, 1, 6 }, { 8, 11, 0, 0, 0, 0, 1, 0, 7 }, { 0, 0, 2, 0, 0, 0, 6, 7, 0 } };

		int src = 0;
		Result result = dijkstra(graph, src);
		int[] dist = result.dist;
		int[] prev = result.prev;

		System.out.println("ä»èŠ‚ç‚¹ " + src + " åˆ°å…¶ä»–èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ï¼š");
		for (int i = 0; i < dist.length; i++) {
			System.out.println("åˆ°èŠ‚ç‚¹ " + i + " çš„è·ç¦»: " + (dist[i] == INF ? "INF" : dist[i]));
			List<Integer> path = getPath(prev, i);
			System.out.print("è·¯å¾„: ");
			for (int j = 0; j < path.size(); j++) {
				if (j > 0) {
					System.out.print(" -> ");
				}
				System.out.print(path.get(j));
			}
			System.out.println();
		}
	}
}

```





```java
å¯¹äºç¨€ç–å›¾ï¼ˆè¾¹æ•°è¿œå°äºèŠ‚ç‚¹æ•°çš„å¹³æ–¹ï¼‰ï¼Œé‚»æ¥çŸ©é˜µä¼šæµªè´¹å¤§é‡çš„ç©ºé—´ã€‚
ä½¿ç”¨é‚»æ¥è¡¨  å‡å°‘ç©ºé—´å¼€é”€ï¼Œå¹¶ä¸”åœ¨éå†èŠ‚ç‚¹çš„é‚»æ¥èŠ‚ç‚¹æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿä¼šé™ä½ã€‚
    
package algo;

import java.util.*;

class DijkstraFurtherOptimized {
    private static final int INF = Integer.MAX_VALUE;

    static class Node implements Comparable<Node> {
        int vertex;
        int distance;

        Node(int vertex, int distance) {
            this.vertex = vertex;
            this.distance = distance;
        }

        @Override
        public int compareTo(Node other) {
            return Integer.compare(this.distance, other.distance);
        }
    }

    public static class Result {
        int[] dist;
        int[] prev;

        Result(int[] dist, int[] prev) {
            this.dist = dist;
            this.prev = prev;
        }
    }

    public static Result dijkstra(List<List<Map.Entry<Integer, Integer>>> graph, int src) {
        int n = graph.size();
        int[] dist = new int[n];
        int[] prev = new int[n];
        boolean[] visited = new boolean[n];

        Arrays.fill(dist, INF);
        Arrays.fill(prev, -1);
        dist[src] = 0;

        PriorityQueue<Node> pq = new PriorityQueue<>();
        pq.add(new Node(src, 0));

        while (!pq.isEmpty()) {
            Node current = pq.poll();
            int u = current.vertex;

            if (visited[u]) continue;
            visited[u] = true;

            for (Map.Entry<Integer, Integer> neighbor : graph.get(u)) {
                int v = neighbor.getKey();
                int weight = neighbor.getValue();
                if (!visited[v] && dist[u] != INF && dist[u] + weight < dist[v]) {
                    dist[v] = dist[u] + weight;
                    prev[v] = u;
                    pq.add(new Node(v, dist[v]));
                }
            }
        }

        return new Result(dist, prev);
    }

    public static List<Integer> getPath(int[] prev, int dest) {
        List<Integer> path = new ArrayList<>();
        for (int at = dest; at != -1; at = prev[at]) {
            path.add(at);
        }
        Collections.reverse(path);
        return path;
    }

    public static void main(String[] args) {
        int n = 9;
        List<List<Map.Entry<Integer, Integer>>> graph = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            graph.add(new ArrayList<>());
        }

        int[][] edges = {
                {0, 1, 4}, {0, 7, 8},
                {1, 0, 4}, {1, 2, 8}, {1, 7, 11},
                {2, 1, 8}, {2, 3, 7}, {2, 5, 4}, {2, 8, 2},
                {3, 2, 7}, {3, 4, 9}, {3, 5, 14},
                {4, 3, 9}, {4, 5, 10},
                {5, 2, 4}, {5, 3, 14}, {5, 4, 10}, {5, 6, 2},
                {6, 5, 2}, {6, 7, 1}, {6, 8, 6},
                {7, 0, 8}, {7, 1, 11}, {7, 6, 1}, {7, 8, 7},
                {8, 2, 2}, {8, 6, 6}, {8, 7, 7}
        };

        for (int[] edge : edges) {
            int u = edge[0];
            int v = edge[1];
            int weight = edge[2];
            graph.get(u).add(new AbstractMap.SimpleEntry<>(v, weight));
        }

        int src = 0;
        Result result = dijkstra(graph, src);
        int[] dist = result.dist;
        int[] prev = result.prev;

        System.out.println("ä»èŠ‚ç‚¹ " + src + " åˆ°å…¶ä»–èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ï¼š");
        for (int i = 0; i < dist.length; i++) {
            System.out.println("åˆ°èŠ‚ç‚¹ " + i + " çš„è·ç¦»: " + (dist[i] == INF ? "INF" : dist[i]));
            List<Integer> path = getPath(prev, i);
            System.out.print("è·¯å¾„: ");
            for (int j = 0; j < path.size(); j++) {
                if (j > 0) {
                    System.out.print(" -> ");
                }
                System.out.print(path.get(j));
            }
            System.out.println();
        }
    }
}
```





**Floyd	å¼—æ´›ä¼Šå¾·ç®—æ³•**

FloydåŸºäºåŠ¨æ€è§„åˆ’

å®šä¹‰2ä¸ªäºŒç»´çŸ©é˜µ

1. çŸ©é˜µDè®°å½•é¡¶ç‚¹é—´çš„æœ€å°è·¯å¾„
    ä¾‹å¦‚D[0] [3]= 10ï¼Œè¯´æ˜é¡¶ç‚¹0 åˆ° 3 çš„æœ€çŸ­è·¯å¾„ä¸º10ï¼›
2. çŸ©é˜µPè®°å½•é¡¶ç‚¹é—´æœ€å°è·¯å¾„ä¸­çš„ä¸­è½¬ç‚¹
    ä¾‹å¦‚P[0] [3]= 1 è¯´æ˜ï¼Œ0 åˆ° 3çš„æœ€çŸ­è·¯å¾„è½¨è¿¹ä¸ºï¼š0 -> 1 -> 3

é€šè¿‡3é‡å¾ªç¯ï¼Œkä¸ºä¸­è½¬ç‚¹ï¼Œvä¸ºèµ·ç‚¹ï¼Œwä¸ºç»ˆç‚¹ï¼Œå¾ªç¯æ¯”è¾ƒD[v] [w] å’Œ D[v] [k] + D[k] [w] æœ€å°å€¼ï¼Œå¦‚æœD[v] [k] + D[k] [w] ä¸ºæ›´å°å€¼ï¼Œåˆ™æŠŠD[v] [k] + D[k] [w] è¦†ç›–ä¿å­˜åœ¨D[v] [w]ä¸­

//	å’Œdijkstraä¸€æ ·çš„æ¯”è¾ƒï¼Œå·²å­˜å‚¨çš„èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·ç¦»æ˜¯å¦æ¯”èµ·ç‚¹ç»è¿‡å½“å‰è·¯å¾„åˆ°è¾¾ç»ˆç‚¹çš„è·ç¦»æ›´è¿œ

```java
// å¼—æ´›ä¼Šå¾·ç®—æ³•
public void floyd() {
    int len;
    for (int mid = 0; mid < dis.length; mid++) {
        for (int start = 0; start < dis.length; start++) {
            for (int end = 0; end < dis.length; end++) {
                len = dis[start][mid] + dis[mid][end];
                if (len < dis[start][end]) {
                    dis[start][end] = len;
                    pre[start][end] = pre[mid][end];
                }
            }
        }
    }
}








// æ›´æ–°æœ€çŸ­è·¯å¾„ï¼ˆFloyd-Warshallï¼‰
for (int k = 1; k <= n; k++) {
    for (int i = 1; i <= n; i++) {
        for (int j = 1; j <= n; j++) {
            if (g[i][k] != INF && g[k][j] != INF) {
                if (g[i][j] > g[i][k] + g[k][j])
                    g[i][j] = g[i][k] + g[k][j];
            }
        }
    }
}
```





```java
package TestField;

import java.util.Arrays;

public class Main {

	public static void main(String[] args) {
// åˆ›å»ºé¡¶ç‚¹
		char[] vertex = { 'A', 'B', 'C', 'D', 'E', 'F', 'G' };
// åˆ›å»ºé‚»æ¥çŸ©é˜µ
		int[][] matrix = new int[vertex.length][vertex.length];
		final int N = 65535; // è¡¨ç¤ºä¸å¯è¾¾
		matrix[0] = new int[] { 0, 5, 7, N, N, N, 2 };
		matrix[1] = new int[] { 5, 0, N, 9, N, N, 3 };
		matrix[2] = new int[] { 7, N, 0, N, 8, N, N };
		matrix[3] = new int[] { N, 9, N, 0, N, 4, N };
		matrix[4] = new int[] { N, N, 8, N, 0, 5, 4 };
		matrix[5] = new int[] { N, N, N, 4, 5, 0, 6 };
		matrix[6] = new int[] { 2, 3, N, N, 4, 6, 0 };

// åˆ›å»ºå›¾å¯¹è±¡
		Graph graph = new Graph(matrix, vertex);
// è°ƒç”¨å¼—æ´›ä¼Šå¾·ç®—æ³•
		graph.floyd();
// æ˜¾ç¤ºç»“æœ
		graph.show();
	}
}

class Graph {
	private char[] vertex; // ä¿å­˜é¡¶ç‚¹
	private int[][] dis; // ä¿å­˜è·ç¦»
	private int[][] pre; // ä¿å­˜å‰é©±é¡¶ç‚¹

	public Graph(int[][] dis, char[] vertex) {
		this.vertex = vertex;
		this.dis = dis;
		this.pre = new int[vertex.length][vertex.length];
		for (int i = 0; i < vertex.length; i++) {
			Arrays.fill(this.pre[i], i);
		}
	}

// å¼—æ´›ä¼Šå¾·ç®—æ³•
	public void floyd() {
		int len;
		for (int mid = 0; mid < dis.length; mid++) {
			for (int start = 0; start < dis.length; start++) {
				for (int end = 0; end < dis.length; end++) {
					len = dis[start][mid] + dis[mid][end];
					if (len < dis[start][end]) {
						dis[start][end] = len;
						pre[start][end] = pre[mid][end];
					}
				}
			}
		}
	}

// æ˜¾ç¤ºç»“æœ
	public void show() {
		for (int i = 0; i < dis.length; i++) {
			for (int j = 0; j < dis.length; j++) {
				System.out.print(vertex[pre[i][j]] + " ");
			}
			System.out.println();
			for (int j = 0; j < dis.length; j++) {
				System.out.println(vertex[i] + "åˆ°" + vertex[j] + "çš„æœ€çŸ­è·¯å¾„ä¸º" + dis[i][j] + " ");
			}
			System.out.println();
		}
	}
}
```





Floydå’ŒDijkstraæ¯”è¾ƒ

floydæ—¶é—´å¤æ‚åº¦O(n$$^3)$$ï¼Œé€‚åˆæ±‚ä»»æ„2ç‚¹é—´æœ€çŸ­è·¯å¾„



dijkstraä½¿ç”¨å †ç»“æ„*O*((*m*+*n*)*l**o**g**n*)ï¼Œå…¶ä¸­`m`æ˜¯è¾¹çš„æ•°é‡ï¼Œ`n`æ˜¯é¡¶ç‚¹æ•°é‡	é€‚åˆç»™å®šæºç‚¹åˆ°å…¶å®ƒèŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„









#### spfa

ç»™å®šçš„å›¾å­˜åœ¨è´Ÿæƒè¾¹,è¿™æ˜¯å¯è€ƒè™‘spfaï¼Œæ±‚è§£å•æºæœ€çŸ­è·¯å¾„é—®é¢˜ï¼ŒåŸç†æ˜¯å¯¹å›¾è¿›è¡Œv-1æ¬¡æ¾å¼›æ“ä½œï¼Œå¾—åˆ°æ‰€æœ‰å¯èƒ½æœ€çŸ­è·¯å¾„

å¯ä»¥åˆ¤æ–­å›¾ä¸­æ˜¯å¦æœ‰è´Ÿç¯å›¾

å¸¦æœ‰è´Ÿç¯çš„å›¾æ²¡æœ‰æœ€çŸ­è·¯å¾„

â€‹	













## æ•°å­¦

### å®¹æ–¥åŸç†

æ— é—æ¼æ— é‡å¤ï¼Œæ¯ä¸ªæ•°åªè®¡ç®—1æ¬¡

 ï¼ˆAâˆªBâˆªC = A+B+C - Aâˆ©B - Bâˆ©C - Câˆ©A + Aâˆ©Bâˆ©Cï¼‰



å…³é”®æ€æƒ³

- **åŒ…å«**ï¼šå…ˆå°†æ‰€æœ‰é›†åˆçš„å…ƒç´ ä¸ªæ•°ç›¸åŠ ã€‚
- **æ’é™¤**ï¼šå‡å»æ‰€æœ‰ä¸¤ä¸¤äº¤é›†çš„å…ƒç´ ä¸ªæ•°ï¼ˆå› ä¸ºå®ƒä»¬è¢«é‡å¤è®¡ç®—äº†ï¼‰ã€‚
- **å†åŒ…å«**ï¼šåŠ ä¸Šæ‰€æœ‰ä¸‰ä¸ªäº¤é›†çš„å…ƒç´ ä¸ªæ•°ï¼ˆå› ä¸ºå®ƒä»¬è¢«å¤šå‡äº†ä¸€æ¬¡ï¼‰ã€‚
- **äº¤æ›¿è¿›è¡Œ**ï¼šä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å¯èƒ½çš„äº¤é›†éƒ½è¢«å¤„ç†ã€‚

![image-20250401191540844](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250401191540844.png)





åº”ç”¨åœºæ™¯

1. **ç»Ÿè®¡è‡³å°‘æ»¡è¶³ä¸€ä¸ªæ¡ä»¶çš„å…ƒç´ æ•°ç›®**ã€‚
2. **è®¡ç®—å¤šä¸ªäº‹ä»¶ä¸­è‡³å°‘å‘ç”Ÿä¸€ä¸ªçš„æ¦‚ç‡**ã€‚
3. **æ’åˆ—ç»„åˆä¸­çš„å»é‡é—®é¢˜**ã€‚
4. **ç¼–ç¨‹ç«èµ›ä¸­çš„æ•°è®ºé—®é¢˜**ï¼ˆå¦‚è®¡ç®—ä¸è¢«æŸäº›æ•°æ•´é™¤çš„æ•°çš„ä¸ªæ•°ï¼‰





ç»Ÿè®¡ä» 1 åˆ° 100 ä¸­ï¼Œèƒ½è¢« 2ã€3 æˆ–è€… 5 æ•´é™¤çš„æ•´æ•°çš„ä¸ªæ•°ã€‚

```java
package TestField;

import java.util.*;

public class Main {

	public static void count(int n, int a, int b, int c) {

		int countA = n / a;
		int countB = n / b;
		int countC = n / c;

		int countAB = n / lcm(a, b);
		int countAC = n / lcm(a, c);
		int countBC = n / lcm(b, c);
		int countABC = n / lcm(a, lcm(b, c));

		int res = countA + countB + countC - countAB - countAC - countBC + countABC;
		System.out.println(res);

	}

	static int gcd(int a, int b) {
		while (b != 0) {
			int c = b;
			b = a % b;
			a = c;
		}
		return a;
	}

	static int lcm(int a, int b) {
		return a * b / gcd(a, b);
	}
	
	public static void main(String[] args) {
		count(100, 2,3,5);
        
	}
}
```



å¤šä¸ªäº‹ä»¶ä¸­è‡³å°‘å‘ç”Ÿ1ä¸ªçš„æ¦‚ç‡

```java
public class InclusionExclusionExample2 {
    public static void main(String[] args) {
        double pA = 0.3;
        double pB = 0.4;
        double pC = 0.5;
        double pAB = 0.1;
        double pAC = 0.15;
        double pBC = 0.2;
        double pABC = 0.05;

        // æ ¹æ®å®¹æ–¥åŸç†è®¡ç®—è‡³å°‘æœ‰ä¸€ä¸ªäº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡
        double probability = pA + pB + pC - pAB - pAC - pBC + pABC;
        System.out.println("è‡³å°‘æœ‰ä¸€ä¸ªäº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ä¸º: " + probability);
    }
}
```



æ’åˆ—ç»„åˆå»é‡

```java
import java.util.ArrayList;
import java.util.List;

public class InclusionExclusionExample3 {
    public static void main(String[] args) {
        int length = 3;
        char[] chars = {'a', 'b', 'c'};

        // ç”Ÿæˆæ‰€æœ‰é•¿åº¦ä¸º length çš„å­—ç¬¦ä¸²
        List<String> allStrings = generateStrings(chars, length);

        // ç»Ÿè®¡åŒ…å« 'a' çš„å­—ç¬¦ä¸²ä¸ªæ•°
        int countA = countStringsWithChar(allStrings, 'a');
        // ç»Ÿè®¡åŒ…å« 'b' çš„å­—ç¬¦ä¸²ä¸ªæ•°
        int countB = countStringsWithChar(allStrings, 'b');
        // ç»Ÿè®¡åŒæ—¶åŒ…å« 'a' å’Œ 'b' çš„å­—ç¬¦ä¸²ä¸ªæ•°
        int countAB = countStringsWithChars(allStrings, 'a', 'b');

        // æ ¹æ®å®¹æ–¥åŸç†è®¡ç®—ç»“æœ
        int result = countA + countB - countAB;
        System.out.println("åŒ…å«å­—ç¬¦ 'a' æˆ–è€… 'b' çš„å­—ç¬¦ä¸²çš„ä¸ªæ•°ä¸º: " + result);
    }

    // ç”Ÿæˆæ‰€æœ‰é•¿åº¦ä¸º length çš„å­—ç¬¦ä¸²
    public static List<String> generateStrings(char[] chars, int length) {
        List<String> result = new ArrayList<>();
        generateStringsHelper(chars, length, "", result);
        return result;
    }

    private static void generateStringsHelper(char[] chars, int length, String current, List<String> result) {
        if (length == 0) {
            result.add(current);
            return;
        }
        for (char c : chars) {
            generateStringsHelper(chars, length - 1, current + c, result);
        }
    }

    // ç»Ÿè®¡åŒ…å«æŒ‡å®šå­—ç¬¦çš„å­—ç¬¦ä¸²ä¸ªæ•°
    public static int countStringsWithChar(List<String> strings, char c) {
        int count = 0;
        for (String s : strings) {
            if (s.indexOf(c) != -1) {
                count++;
            }
        }
        return count;
    }

    // ç»Ÿè®¡åŒæ—¶åŒ…å«ä¸¤ä¸ªæŒ‡å®šå­—ç¬¦çš„å­—ç¬¦ä¸²ä¸ªæ•°
    public static int countStringsWithChars(List<String> strings, char c1, char c2) {
        int count = 0;
        for (String s : strings) {
            if (s.indexOf(c1) != -1 && s.indexOf(c2) != -1) {
                count++;
            }
        }
        return count;
    }
}
```









### gcd å’Œ lcm

æœ€å¤§å…¬çº¦æ•°å’Œæœ€å°å…¬å€æ•°



gcdå’Œlcmé‡ç‚¹åœ¨gcd



**å¼€å§‹ä¹‹å‰è¯´ä¸€ä¸‹gcdå‡ æ¡æ€§è´¨**



å¦‚æœbæ˜¯Aå’ŒBçš„å…¬çº¦æ•°ï¼Œé‚£ä¹ˆï¼š

bä¹Ÿæ˜¯A+Bçš„çº¦æ•°ï¼Œå³bæ˜¯A,B,A+Bçš„å…¬çº¦æ•°
bä¹Ÿæ˜¯A-Bçš„çº¦æ•°ï¼Œå³bæ˜¯A,B,A-Bçš„å…¬çº¦æ•°
æ›´ä¸€èˆ¬åœ°ï¼Œå¯¹äºä»»æ„æ•´æ•°xã€yï¼Œbä¹Ÿæ˜¯Ax+Byçš„çº¦æ•°ï¼Œå³bæ˜¯A,B,Ax+Byçš„å…¬çº¦æ•°
æ ¹æ®ä¸Šä¸€æ¡æ€§è´¨ï¼Œr = A - kB = A mod Bï¼Œæ‰€ä»¥A mod Bä¹Ÿæ˜¯A+Bçš„çº¦æ•°ï¼Œmodæ˜¯æ±‚ä½™è¿ç®—ï¼Œå³bæ˜¯A,B,A mod Bçš„å…¬çº¦æ•°

```
gcd(A,B) = gcd(B,A) = gcd(A,A+B) = gcd(A,A-B) = gcd(A,Ax+By) = gcd(A,A mod B)
```





#### gcd

å¸¸è§çš„æ±‚æœ€å¤§å…¬çº¦æ•°çš„æ–¹æ³•æœ‰

- åˆ†è§£å› å¼æ³•
- è¾—è½¬ç›¸é™¤æ³•
- æ›´ç›¸å‡æŸæ³•
- Steinç®—æ³•



##### å› å¼åˆ†è§£æ³•

```C++
/*assertï¼ˆè¡¨è¾¾å¼ï¼‰
æ–­è¨€æ–¹æ³•ï¼Œè¡¨è¾¾å¼éçœŸåˆ™æŠ›å‡ºå¼‚å¸¸


åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œä¸€ä¸ªæ•´æ•°çš„æœ€ä½ä½ï¼ˆæœ€å³è¾¹çš„ä½ï¼‰å¦‚æœæ˜¯ 0ï¼Œåˆ™è¿™ä¸ªæ•°æ˜¯å¶æ•°ï¼›å¦‚æœæ˜¯ 1ï¼Œåˆ™è¿™ä¸ªæ•°æ˜¯å¥‡æ•°ã€‚å› æ­¤ï¼Œå½“ä¸€ä¸ªæ•´æ•°ä¸ 1 è¿›è¡Œ&è¿ç®—æ—¶ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨æ£€æŸ¥è¿™ä¸ªæ•´æ•°çš„æœ€ä½ä½çš„å€¼ã€‚
å¦‚æœ (a & 1) == 0ï¼Œè¯´æ˜ a çš„æœ€ä½ä½æ˜¯ 0ï¼Œå³ a æ˜¯å¶æ•°ã€‚
å¦‚æœ (a & 1) == 1ï¼Œè¯´æ˜ a çš„æœ€ä½ä½æ˜¯ 1ï¼Œå³ a æ˜¯å¥‡æ•°ã€‚
*/

// greatest common divisor
int GCD(int a, int b) {
    assert(a != 0);
    assert(b != 0);
    int min = a < b ? a : b;
    int accumulate = 1;

    // ä»¥2è¿›è¡Œåˆ†è§£ï¼Œä¸èƒ½è¿›0ï¼Œ0è¿›æ¥è¿™é‡Œå°±æ­»å¾ªç¯äº†
    while ((a & 1) == 0 && (b & 1) == 0) {
        accumulate *= 2; // ç§¯ç´¯
        a >>= 1;
        b >>= 1;
    }
    // ä»¥å¤§äºç­‰äº3çš„æ•°è¿›è¡Œåˆ†è§£
    for (int i = 3; i <= min; i += 2) {
        while ((a % i) == 0 && (b % i) == 0) {
          accumulate *= i;
          a /= i;
          b /= i;
        }
    }
    // å°†æ‰€æœ‰å…¬å› å­çš„ä¹˜ç§¯ä½œä¸ºè¿”å›å€¼
    return accumulate;
}
```

ä»£ç å†—é•¿æ€§èƒ½ä½ï¼Œä½†æœ‰å‚è€ƒæ„ä¹‰



##### è¾—è½¬ç›¸é™¤æ³•

å› ä¸ºæ•´æ•°é™¤æ³•å…·æœ‰ä¼ é€’æ€§ï¼Œæ‰€ä»¥xå¦‚æœèƒ½é™¤ä»¥aã€b,åˆ™xèƒ½é™¤ä»¥å®ƒä»¬çš„ä»»æ„çº¿æ€§ç»„åˆ

æ‰€ä»¥

ä¸¤ä¸ªæ­£æ•´æ•°Aï¼ŒBçš„æœ€å¤§å…¬çº¦æ•°ç­‰äºå…¶ä¸­è¾ƒå°å€¼ä¸ä¸¤æ•°ç›¸é™¤çš„ä½™æ•°çš„æœ€å¤§å…¬çº¦æ•°

gcd(A, B) = gcd(B, A mod B)   å…¶ä¸­:A > B

```java
// 	æ¨è
int GCD(int a, int b) {
    return b == 0 ? a : GCD(b, a%b);
}

int GCD(int a, int b) {
    int r;
    while (b != 0) {
        r = a % b; a = b; b = r;
    }
    return a;
}


int GCD(int a,int b) {
    while(b^=a^=b^=a%=b);
    /*
    	b^=a
    	a^=t1;
    	b^=a;
    	äº¤æ¢abçš„å€¼
    */
    return a;
}
```

å¦‚æœç”¨è¾—è½¬ç›¸é™¤æ³•è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—ç›¸é‚»2é¡¹çš„æœ€å¤§å…¬çº¦æ•°ï¼Œè¯¥ç®—æ³•ä¼šæœ€ç³Ÿ

å¯ä»¥ç”¨Â±ä»£æ›¿*/ è¿›è¡Œä¼˜åŒ–

##### æ›´ç›¸å‡æŸæ³•

ä¸¤ä¸ªæ­£æ•´æ•°ï¼Œå¦‚æœå®ƒä»¬éƒ½æ˜¯å¶æ•°ï¼Œåˆ™å°†å®ƒä»¬éƒ½é™¤ä»¥ 2ï¼›å¦‚æœä¸æ˜¯å¶æ•°ï¼Œé‚£ä¹ˆç”¨è¾ƒå¤§çš„æ•°å‡å»è¾ƒå°çš„æ•°ï¼Œç„¶åç”¨å¾—åˆ°çš„å·®å’Œè¾ƒå°çš„æ•°ç»§ç»­åšå‡æ³•ï¼Œç›´åˆ°ä¸¤ä¸ªæ•°ç›¸ç­‰ï¼Œæ­¤æ—¶è¿™ä¸ªç›¸ç­‰çš„æ•°å°±æ˜¯åŸæ¥ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬å› æ•°ã€‚



æ¢æˆå…¬å¼çš„å†™æ³•ï¼š

```c
å¦‚æœA > Bï¼Œåˆ™ gcd(A,B) = gcd(B,A-B)
å¦‚æœA < Bï¼Œåˆ™ gcd(A,B) = gcd(A,B-A)
```

è¯æ˜ï¼š

ä¸å¦¨è®¾A>Bï¼Œè®¾Aå’ŒBçš„æœ€å¤§å…¬çº¦æ•°ä¸ºXï¼Œå…¶ä¸­aå’Œbéƒ½ä¸ºæ­£æ•´æ•°ï¼Œa>b	æ‰€ä»¥ A=aXï¼ŒB=bx	C = A-Bï¼Œåˆ™æœ‰ï¼šC=aXâˆ’bX=(aâˆ’b)X

å› ä¸ºaå’Œbå‡ä¸ºæ­£æ•´æ•°ï¼Œæ‰€ä»¥Cä¹Ÿèƒ½è¢«Xæ•´é™¤ï¼Œå³Aã€Bã€Cæœ€å¤§å…¬çº¦æ•°å‡ä¸ºX

æ‰€ä»¥`gcd(A,B) = gcd(B,A-B)`

```c++
public static int GCD(int a, int b) {

    // å…ˆå°†ä¸¤ä¸ªæ•°éƒ½åŒ–ä¸ºéè´Ÿæ•°
    // å…¶å®ç”¨è´Ÿæ•°ä¹Ÿä¸å½±å“ç»“æœï¼Œä½†GCDå®šä¹‰æ˜¯å¯¹äºæ­£æ•°
    a = Math.abs(a);
    b = Math.abs(b);

    // è‹¥ä¸¤ä¸ªæ•°éƒ½æ˜¯å¶æ•°ï¼Œå…ˆåŒæ—¶é™¤ä»¥2ï¼Œè®°å½•çº¦å»çš„2çš„ä¸ªæ•°
    // è¿™æ ·ä¸ä¼šå¯¹ç»“æœé€ æˆå½±å“è¿˜èƒ½æé«˜æ•ˆç‡
    int TwoCount = 0;
    while ((a & 1) == 0 && (b & 1) == 0) {
        a >>= 1;
        b >>= 1;
        TwoCount++;
    }

    // æ›´ç›¸å‡æŸæ³•çš„æ ¸å¿ƒæ­¥éª¤
    while(a != b)
    {
        a > b ? a-=b : b-=a;
    }

    // å°†çº¦å»çš„2ä¹˜å›å»
    return a << TwoCount;
//    return b << factorOfTwo;
}
```

è¾—è½¬ç›¸é™¤æ³•ä¸æ›´ç›¸å‡æŸæœ¯çš„æ¯”è¾ƒ
ï¼ˆ1ï¼‰ä¸¤è€…éƒ½æ˜¯æ±‚æœ€å¤§å…¬å› æ•°çš„æ–¹æ³•ï¼Œè®¡ç®—ä¸Šè¾—è½¬ç›¸é™¤æ³•ä»¥é™¤æ³•ä¸ºä¸»ï¼Œæ›´ç›¸å‡æŸæœ¯ä»¥å‡æ³•ä¸ºä¸»ï¼Œè®¡ç®—æ¬¡æ•°ä¸Šè¾—è½¬ç›¸é™¤æ³•è®¡ç®—æ¬¡æ•°ç›¸å¯¹è¾ƒå°‘ï¼Œç‰¹åˆ«å½“ä¸¤ä¸ªæ•°å­—å¤§å°åŒºåˆ«è¾ƒå¤§æ—¶è®¡ç®—æ¬¡æ•°çš„åŒºåˆ«è¾ƒæ˜æ˜¾ã€‚

ï¼ˆ2ï¼‰ä»ç»“æœä½“ç°å½¢å¼æ¥çœ‹ï¼Œè¾—è½¬ç›¸é™¤æ³•ä½“ç°ç»“æœæ˜¯ä»¥ç›¸é™¤ä½™æ•°ä¸º0åˆ™å¾—åˆ°ï¼Œè€Œæ›´ç›¸å‡æŸæœ¯åˆ™ä»¥å‡æ•°ä¸å·®ç›¸ç­‰è€Œå¾—åˆ°ã€‚



```
è¾—è½¬ç›¸é™¤æ³•ï¼šé€šå¸¸æ•ˆç‡è¾ƒé«˜ï¼Œå°¤å…¶æ˜¯å¯¹äºè¾ƒå¤§çš„æ•°ã€‚å› ä¸ºå®ƒåˆ©ç”¨é™¤æ³•è¿ç®—ï¼Œæ¯æ¬¡è¿­ä»£èƒ½ä½¿æ•°å­—å¿«é€Ÿå‡å°ï¼Œè¿­ä»£æ¬¡æ•°ç›¸å¯¹è¾ƒå°‘ã€‚
æ›´ç›¸å‡æŸæ³•ï¼šåœ¨æ•°å­—ç›¸å·®è¾ƒå¤§æ—¶ï¼Œå¯èƒ½éœ€è¦è¿›è¡Œå¤šæ¬¡å‡æ³•è¿ç®—æ‰èƒ½ä½¿æ•°å­—å˜å°ï¼Œè®¡ç®—æ­¥éª¤ç›¸å¯¹è¾ƒå¤šã€‚ä½†å¯¹äºè¾ƒå°ä¸”ç›¸å·®ä¸å¤§çš„æ•°ï¼Œæ›´ç›¸å‡æŸæ³•å¯èƒ½ä¼šæ›´å¿«ã€‚


è¾—è½¬ç›¸é™¤æ³•ï¼šé€‚åˆå¤„ç†è¾ƒå¤§æ•´æ•°çš„æœ€å¤§å…¬å› æ•°
æ›´ç›¸å‡æŸæ³•ï¼šåœ¨ä¸€äº›å¯¹ç²¾åº¦è¦æ±‚è¾ƒé«˜ï¼Œæˆ–è€…ä¸é€‚åˆä½¿ç”¨é™¤æ³•è¿ç®—ï¼ˆå¦‚åœ¨ä¸€äº›åŠ å¯†ç®—æ³•ä¸­ï¼Œé™¤æ³•å¯èƒ½ä¼šå¯¼è‡´ç²¾åº¦ä¸¢å¤±æˆ–å®‰å…¨é—®é¢˜ï¼‰çš„åœºæ™¯ä¸­ï¼Œæ›´ç›¸å‡æŸæ³•å¯èƒ½æ›´ä¸ºé€‚ç”¨ã€‚
```



##### **Steinç®—æ³•**

ä½¿ç”¨ä½è¿ç®—æ›¿ä»£ç¬¦å·è¿ç®—ï¼Œæé«˜æ•ˆç‡

é™¤äº†è€ƒè™‘å¶æ•°ï¼Œè¿˜è€ƒè™‘äº†å¥‡æ•°



è¾—è½¬ç›¸é™¤æ³•åœ¨è®¡ç®—ä¸¤ä¸ªè¶…è¿‡64ä½çš„æ•´æ•°çš„æ¨¡ï¼Œä¹Ÿè®¸ä¸å¾—ä¸é‡‡ç”¨ç±»ä¼¼äºå¤šä½æ•°é™¤æ³•æ‰‹ç®—è¿‡ç¨‹ä¸­çš„è¯•å•†æ³•ï¼Œé¢‘ç¹ä½¿ç”¨/å’Œ%ï¼Œæ¶ˆè€—ä¸¥é‡



1. è‹¥aå’Œbéƒ½æ˜¯å¶æ•°ï¼Œåˆ™è®°å½•ä¸‹å…¬çº¦æ•°2ï¼Œç„¶åéƒ½é™¤2ï¼ˆå³å³ç§»1ä½ï¼‰ï¼›
2. è‹¥å…¶ä¸­ä¸€ä¸ªæ•°æ˜¯å¶æ•°ï¼Œåˆ™å¶æ•°é™¤2ï¼Œå› ä¸ºæ­¤æ—¶2ä¸å¯èƒ½æ˜¯è¿™ä¸¤ä¸ªæ•°çš„å…¬çº¦æ•°äº†
3. è‹¥ä¸¤ä¸ªéƒ½æ˜¯å¥‡æ•°ï¼Œåˆ™a = |a-b|ï¼Œb = min(a,b)ï¼Œå› ä¸ºè‹¥dæ˜¯aå’Œbçš„å…¬çº¦æ•°ï¼Œé‚£ä¹ˆdä¹Ÿæ˜¯|a-b|å’Œmin(a,b)çš„å…¬çº¦æ•°ã€‚

â€‹	å¯¹2è¿›è¡Œè§£é‡Š

- è‹¥ *b* æ˜¯**å¥‡æ•°**ï¼Œåˆ™ 2 æ— æ³•æ•´é™¤ *b*ï¼Œå³ 2 ä¸æ˜¯ *a* å’Œ *b* çš„å…¬çº¦æ•°ã€‚æ­¤æ—¶å°† *a* é™¤ä»¥ 2ï¼Œå¾—åˆ° *a*/2ï¼Œé—®é¢˜è½¬åŒ–ä¸ºæ±‚ gcd(*a*/2,*b*)ï¼Œç¼©å°è®¡ç®—è§„æ¨¡ä¸”ä¸å½±å“æœ€ç»ˆç»“æœã€‚
- è‹¥ *b* ä¹Ÿæ˜¯**å¶æ•°**ï¼Œåˆ™ 2 æ˜¯å…¬çº¦æ•°ã€‚æ­¤æ—¶å…ˆå°† *a* å’Œ *b* éƒ½é™¤ä»¥ 2ï¼Œè®°å½•å…¬çº¦æ•° 2ï¼Œåç»­å¯¹æ–°çš„ *a*/2 å’Œ *b*/2 ç»§ç»­æ±‚æœ€å¤§å…¬çº¦æ•°ï¼Œæœ€åå°†è®°å½•çš„ 2 ä¸æ–°ç»“æœç›¸ä¹˜ï¼Œå³å¯å¾—åˆ°åŸå§‹ä¸¤æ•°çš„æœ€å¤§å…¬çº¦æ•°ã€‚
- æ€»çš„æ¥è¯´å°±æ˜¯ä¸ºäº†å‡å°è§„æ¨¡



â€‹	å¯¹3è¿›è¡Œè§£é‡Š

ä¸å¦¨è®¾å¥‡æ•°A>Bï¼ŒAå’ŒBçš„å…¬çº¦æ•°ä¸ºXï¼Œå³A=jXï¼ŒB=kXï¼Œå…¶ä¸­jï¼Œkå‡ä¸ºæ­£æ•´æ•°ä¸”j>kã€‚åˆ™ Aâˆ’B=(jâˆ’k)X

æ‰€ä»¥Xä¹Ÿæ˜¯A-Bçš„å…¬çº¦æ•°

min(A,B)=B	æ‰€ä»¥A-Bä¸min(A,B)å…¬çº¦æ•°ç›¸åŒï¼Œå› ä¸ºAï¼ŒBéƒ½æ˜¯å¥‡æ•°ï¼Œæ‰€ä»¥A-Bå¿…ç„¶æ˜¯å¶æ•°ï¼Œå¶æ•°åˆå¯ä»¥äºŒé™¤ç§»ä½äº†ã€‚

```java
	public static int Stein(int a, int b) {
		if (a == 0) return b;
		if (b == 0) return a;

		int twoCount = 0;
		// è®¡ç®—aå’Œbä¸­2çš„å…¬å…±å› å­çš„ä¸ªæ•°
		while (((a | b) & 1) == 0) {
			a >>= 1; b >>= 1;
			twoCount++;
		}

		//ä»…ä»…ç§»é™¤abå…¬å…±2å› å­ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰åœ¨abéƒ½æ˜¯å¶æ•°æ—¶ï¼ŒtwoCount++;
		// å¦åˆ™è¯´æ˜ä¸€å¥‡ä¸€å¶ï¼Œå®ƒä»¬çš„å…¬çº¦æ•°è‚¯å®šä¸æ˜¯å¶æ•°ï¼Œæ‰€ä»¥å•ç‹¬ç§»å»å¶æ•°çš„2å› å­ä¸ä¼šå½±å“ç»“æœ
		// ç§»é™¤aä¸­çš„æ‰€æœ‰2å› å­
		while ((a & 1) == 0) {
			a >>= 1;
		}
        
		// ä¸»å¾ªç¯
		while (b != 0) {
			// ç§»é™¤bä¸­çš„æ‰€æœ‰2å› å­ï¼Œå†™åœ¨è¿™é‡Œæ˜¯å› ä¸ºbä½œå·®åæœ‰å¯èƒ½ä¸ºå¶æ•°
			while ((b & 1) == 0) {
				b >>= 1;
			}
			if (a > b) { int temp = a; a = b; b = temp; }
            // è¿™é‡Œå§‹ç»ˆä¿æŒbæ˜¯å¤§æ•°
			b = b - a;
		}

		// å°†å…¬å…±çš„2å› å­ä¹˜å›å»
        // è¿™é‡Œä¸èƒ½éšä¾¿äº¤æ¢ï¼Œwhileè°ï¼Œå°±å¾—returnå¦ä¸€ä¸ª
		return a << twoCount;
	}





// é€’å½’å½¢å¼
public static int Stein(int a, int b) {
    if (b == 0) return a;
    if (a == 0) return b;

    if (a < b) { int r = a; a = b; b = r; }

    if ((a & 1) == 0 && (b & 1) == 0)
        return Stein(a >> 1, b >> 1) << 1;
    else if ((a & 1) == 0 && (b & 1) != 0)
        return Stein(a >> 1, b);
    else if ((a & 1) != 0 && (b & 1) == 0)
        return Stein(a, b >> 1);
    else
        return Stein(a - b, b);
}



2ç§å®ç°æ–¹å¼çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(log(min(a,b)))
ç©ºé—´å¤æ‚åº¦ 	 ç¬¬1ç§ O(1)
    		ç¬¬2é€’å½’åœ¨æœ€åæƒ…å†µä¸‹O(log(min(a,b)))
```

Steinç®—æ³•ç®—æ˜¯æ›´ç›¸å‡æŸæ³• ç»“åˆ   å¥‡æ•°   ç»“åˆ æ•°äºŒè¿›åˆ¶ç‰¹æ€§çš„ç®—æ³•



[è¾—è½¬ç›¸é™¤æ³•ã€æ›´ç›¸å‡æŸæ³•ã€Steinç®—æ³•-CSDNåšå®¢](https://blog.csdn.net/Holmofy/article/details/76401074)

è¿˜æœ‰ä¸€ç‚¹å¯¹è¾—è½¬ç›¸é™¤æ³•çš„æ‰©å±•ï¼Œæˆ‘æ²¡çœ‹



#### 	lcm

æœ¬è´¨ä¸Šæ±‚æœ€å°å…¬å€æ•°å°±æ˜¯æ±‚æœ€å¤§å…¬å€æ•°ï¼š`x=m*a`ï¼Œ `y=m*b`ï¼›mæ˜¯æœ€å¤§å…¬çº¦æ•°ï¼Œé‚£æœ€å°å…¬å€æ•°å°±æ˜¯`m*a*b`ã€‚æ‰€ä»¥å¯ä»¥å¾—åˆ°æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°çš„å…³ç³»ï¼š

LCM(A,B)Ã—GCD(A,B)=AÃ—B

å®šç†ï¼šaã€b ä¸¤ä¸ªæ•°çš„lcmä¹˜ä»¥gcd ç­‰äºå®ƒä»¬çš„ä¹˜ç§¯ã€‚

æ‰€ä»¥abçš„lcm = ab / gcd

```java
static int gcd(int a, int b){
	return a / (gcd(a, b)) * b; // å…ˆ/å*é˜²æº¢å‡º
}
```











#### **æ¨å¹¿åˆ°3ä¸ªåŠä»¥ä¸Šæ•°çš„GCD**

https://leetcode.cn/problems/maximum-subarray-with-equal-products/

ä¸¤ä¸ªæ•°çš„ LCM ä¸ GCD å…³ç³» 

å¯¹äºä¸¤ä¸ªæ•° a å’Œ bï¼Œæœ‰ï¼š
lcm(a,b)=gcd(a,b)aâ‹…bâ€‹
å› æ­¤ï¼š
aâ‹…b=lcm(a,b)â‹…gcd(a,b)



å½“æ‰©å±•åˆ°ä¸‰ä¸ªæˆ–æ›´å¤šæ•°æ—¶ï¼Œä¸Šè¿°ç­‰å¼ä¸å†æˆç«‹

ä¾‹å¦‚ï¼š 

æ•°ç»„ {6,10,15}ï¼Œåˆ™ï¼š

gcd(6,10)=2ï¼Œgcd(6,15)=3ï¼Œgcd(10,15)=5ã€‚

æ•´ä¸ªæ•°ç»„çš„ gcd(6,10,15)=1

lcm(6,10,15)=30ï¼Œè€Œ 6â‹…10â‹…15=900ï¼Œæ˜¾ç„¶ 30â‹…1 != 900ã€‚



###### è´¨å› æ•°åˆ†è§£æ³•

æ¯ä¸ªæ­£æ•´æ•°éƒ½å¯ä»¥å”¯ä¸€åˆ†è§£ä¸ºç´ æ•°çš„ä¹˜ç§¯ï¼Œå¤šä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°å°±æ˜¯å®ƒä»¬å…¬å…±ç´ å› æ•°çš„ä¹˜ç§¯

1. å¯¹æ¯ä¸ªæ•°è¿›è¡Œè´¨å› æ•°åˆ†è§£ã€‚
2. æ‰¾å‡ºæ‰€æœ‰æ•°å…±æœ‰çš„è´¨å› æ•°ã€‚
3. å°†è¿™äº›å…¬å…±è´¨å› æ•°ç›¸ä¹˜ï¼Œå¾—åˆ°æœ€å¤§å…¬çº¦æ•°ã€‚

```java
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class GCDPrimeFactorization {
    // åˆ†è§£è´¨å› æ•°
    public static List<Integer> primeFactors(int n) {
        List<Integer> factors = new ArrayList<>();
        for (int divisor = 2; n > 1; divisor++) {
            while (n % divisor == 0) {
                factors.add(divisor);
                n /= divisor;
            }
        }
        return factors;
    }

    // è®¡ç®—å¤šä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°
    public static int gcdMultipleNumbersPrime(int[] numbers) {
        if (numbers.length == 0) {
            return 0;
        }
        // å­˜å‚¨ç¬¬ä¸€ä¸ªæ•°çš„è´¨å› æ•°åŠå…¶å‡ºç°æ¬¡æ•°
        Map<Integer, Integer> commonFactors = new HashMap<>();
        List<Integer> firstFactors = primeFactors(numbers[0]);
        for (int factor : firstFactors) {
            commonFactors.put(factor, commonFactors.getOrDefault(factor, 0) + 1);
        }

        // éå†å…¶ä½™çš„æ•°
        for (int i = 1; i < numbers.length; i++) {
            List<Integer> numFactors = primeFactors(numbers[i]);
            Map<Integer, Integer> tempFactors = new HashMap<>();
            for (int factor : numFactors) {
                tempFactors.put(factor, tempFactors.getOrDefault(factor, 0) + 1);
            }
            // æ›´æ–°å…¬å…±è´¨å› æ•°çš„æœ€å°å‡ºç°æ¬¡æ•°
            for (Map.Entry<Integer, Integer> entry : commonFactors.entrySet()) {
                int factor = entry.getKey();
                int count = entry.getValue();
                commonFactors.put(factor, Math.min(count, tempFactors.getOrDefault(factor, 0)));
            }
        }

        int gcd = 1;
        // è®¡ç®—æœ€å¤§å…¬çº¦æ•°
        for (Map.Entry<Integer, Integer> entry : commonFactors.entrySet()) {
            int factor = entry.getKey();
            int count = entry.getValue();
            gcd *= Math.pow(factor, count);
        }
        return gcd;
    }

    public static void main(String[] args) {
        int[] numbers = {24, 36, 48};
        System.out.println("è´¨å› æ•°åˆ†è§£æ³•æ±‚å¾—çš„æœ€å¤§å…¬çº¦æ•°: " + gcdMultipleNumbersPrime(numbers));
    }
}
```











## æ€æƒ³



### æšä¸¾

æšä¸¾ï¼ˆè‹±è¯­ï¼šEnumerateï¼‰æ˜¯åŸºäºå·²æœ‰çŸ¥è¯†æ¥çŒœæµ‹ç­”æ¡ˆçš„ä¸€ç§é—®é¢˜æ±‚è§£ç­–ç•¥ã€‚ä»å¯èƒ½çš„é›†åˆä¸­ä¸€ä¸€å°è¯•ï¼Œç„¶åå†åˆ¤æ–­é¢˜ç›®çš„æ¡ä»¶æ˜¯å¦æˆç«‹



æˆ‘æƒ³çš„é‚£æ ·ä¸€ä¸ªä¸€ä¸ªä¸¾å‡ºæ¥ï¼Œä½†ç¼ºä¹å…³é”®ï¼Œæšä¸¾ä¸æ˜¯å•çº¯çš„ä¸€ä¸ªä¸€ä¸ªä¸¾å‡ºæ¥ï¼Œè€Œæ˜¯ä¼˜åŒ–åä¸¾å‡ºæ¥ï¼Œå°±æ˜¯æ ¹æ®æ¡ä»¶ï¼Œä¸æ–­ç²¾ç®€ï¼Œè®©æœ€åæšä¸¾çš„èŒƒå›´æ˜¯å‰”é™¤ä¸€åˆ‡å¤šä½™ç²¾ç®€åˆ°ä¸èƒ½å†ç²¾ç®€çš„æšä¸¾ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šè§£çš„å½¢å¼ï¼Œæ¯”å¦‚æ»¡è¶³æ¡ä»¶çš„åŒºé—´ä¸ªæ•°ï¼Œé‚£å°±æšä¸¾äºŒå…ƒç»„ï¼ˆå·¦å³ç«¯ç‚¹ï¼‰



â€‹	`è¦ç‚¹`

â€‹	è€ƒè™‘å¯èƒ½æƒ…å†µå’Œè¦æšä¸¾å…ƒç´ 

â€‹	è™½è¯´ä»å¯èƒ½çš„é›†åˆä¸­ä¸€ä¸€å°è¯•ï¼Œä½†å°è¯•è¶Šå°‘è¶Šå¥½ï¼ˆè¿™ä¸ªå°‘ï¼Œ1ç§æ˜¯å‡å°èŒƒå›´ï¼Œå¦1ç§æ˜¯é›†åˆä¸­çš„å†…å®¹ä¸å¿…å…¨éƒ¨æšä¸¾ï¼‰

â€‹	æšä¸¾æ–¹å¼ï¼šå¾ªç¯ã€é€’å½’ã€æ„é€ æ–¹æ³•



```java
//	ä¸€ä¸ªæ•°ç»„ä¸­çš„æ•°äº’ä¸ç›¸åŒï¼Œæ±‚å…¶ä¸­å’Œä¸º 0 çš„æ•°å¯¹çš„ä¸ªæ•°ã€‚


å¦‚æœBFï¼Œè¦åµŒå¥—å¾ªç¯ï¼Œå‡è®¾æœ‰nä¸ªæ˜¯ï¼Œæ¯ä¸ªæ•°éƒ½è¦éªŒnéï¼Œæœ€åè¦éªŒn*2éï¼Œå¾ˆè´¹æ—¶

    ç”¨æšä¸¾æ€æƒ³åˆ†æï¼š
å®ƒä»¬äº’ä¸ºç›¸åæ•°
åªè¦æšä¸¾å…¶ä¸­ä¸€ä¸ªæ•°å°±èƒ½ç¡®å®šäº†å¦ä¸€ä¸ªæ•°
å­˜åœ¨åªéœ€éå†ä¸€éçš„å¯èƒ½
å–ä¸€ä¸ªå‚è€ƒï¼Œç›¸åæ•°ç›¸å¯¹å®ƒæ¥è¯´æ˜¯å¯¹ç§°çš„


public class Main {

	// å®šä¹‰åç§»é‡ MAXNï¼Œè¿™é‡Œå‡è®¾æ•°ç»„å…ƒç´ ç»å¯¹å€¼æœ€å¤§ä¸è¶…è¿‡ 100
	// MAXNå·¦ä¾§æ˜¯åŸæ•°ç»„ç´¢å¼•ï¼Œå³ä¾§(åŒ…æ‹¬MAXN)æ˜¯åç§»åçš„ç´¢å¼•
	// å·¦ä¾§å°±æ˜¯æ­£å¸¸è·‘çš„ï¼Œå³ä¾§ç”¨æ¥è®°å½•å·¦ä¾§å¯¹åº”ä½ç½®å€¼æ˜¯å¦å‡ºç°è¿‡ï¼Œç”¨ å¯¹Â±å€¼ä½œå·®çš„ç‰¹æ€§æ¥éªŒè¯

	// ç”¨åç§»é‡å‡å»arr[i]çš„æ•°å€¼ï¼Œæ— è®ºarr[i]çš„å€¼æ˜¯æ­£æ˜¯è´Ÿï¼Œéƒ½ä¼šå»åˆ°åŒä¸€ç´¢å¼•ä½ç½®
	// å‡è®¾arr[0]å€¼æ˜¯1ï¼Œæ­£å¸¸æƒ…å†µä½ç½®iæ ‡è®°ä¸ºtrueï¼Œä½†å› ä¸ºåç§»çš„ç¼˜æ•…ï¼Œå®é™…æ˜¯1+åç§»é‡ï¼Œå°±æ˜¯101çš„ä½ç½®
	// è¯¥ä½ç½®å› ä¸ºå‡ºç°è¿‡æ ‡è®°ä¸ºtrue
	// å½“arr[0]çš„ç›¸åå€¼-1å‡ºç°ï¼Œå› ä¸º å¯¹Â±å€¼ä½œå·®çš„ç‰¹æ€§ï¼Œå°±ä¼šå›åˆ°1çš„å¯¹åº”ä½ç½®ï¼Œå› ä¸º1ä½ç½®æ˜¯trueï¼Œå¯ç¡®å®šå®ƒä¿©å‡‘æˆä¸€å¯¹ï¼Œans+1

	static final int MAXN = 100;

	public static void main(String[] args) {

		int ans = 0;
		int[] arr = { 1, -1, 2, -2 };
		int n = arr.length;
		boolean[] met = new boolean[MAXN * 2 + 1];

		for (int i = 0; i < n; ++i) {

			if (met[MAXN - arr[i]]) {
				++ans;
			}

			met[MAXN + arr[i]] = true;
		}

		System.out.println(ans);

	}

}
```

 









### æ’åºç®—æ³•



#### 	å¿«é€Ÿæ’åº	quickSort

é€‰æ‹©æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ ä½œä¸ºâ€œåŸºå‡†æ•°â€ï¼Œå°†æ‰€æœ‰å°äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åˆ°å…¶å·¦ä¾§ï¼Œè€Œå¤§äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åˆ°å…¶å³ä¾§ã€‚



å®è´¨æ˜¯å°†ä¸€ä¸ªè¾ƒé•¿æ•°ç»„çš„æ’åºé—®é¢˜ç®€åŒ–ä¸ºä¸¤ä¸ªè¾ƒçŸ­æ•°ç»„çš„æ’åºé—®é¢˜ã€‚

åˆ†æ²»ç­–ç•¥



1. é€‰å–æ•°ç»„æœ€å·¦ç«¯å…ƒç´ ä½œä¸ºåŸºå‡†æ•°ï¼Œåˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆ `i` å’Œ `j` åˆ†åˆ«æŒ‡å‘æ•°ç»„çš„ä¸¤ç«¯ã€‚
2. è®¾ç½®ä¸€ä¸ªå¾ªç¯ï¼Œåœ¨æ¯è½®ä¸­ä½¿ç”¨ `i`ï¼ˆ`j`ï¼‰åˆ†åˆ«å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”åŸºå‡†æ•°å¤§ï¼ˆå°ï¼‰çš„å…ƒç´ ï¼Œç„¶åäº¤æ¢è¿™ä¸¤ä¸ªå…ƒç´ ã€‚
3. å¾ªç¯æ‰§è¡Œæ­¥éª¤ `2.` ï¼Œç›´åˆ° `i` å’Œ `j` ç›¸é‡æ—¶åœæ­¢ï¼Œæœ€åå°†åŸºå‡†æ•°äº¤æ¢è‡³ä¸¤ä¸ªå­æ•°ç»„çš„åˆ†ç•Œçº¿ã€‚







```java
package TestField;

import java.util.*;

public class Main {

	static void quickSort(int[] arr, int left, int right) {

		if (left >= right)
			return;

		int par = partition(arr, left, right);
		quickSort(arr, left, par - 1);
		quickSort(arr, par + 1, right);

	}

	static int partition(int[] arr, int left, int right) {

		int i = left;
		int j = right;

		// å¤–å±‚åªä¿è¯i<j
		while (i < j) {
			// é€šè¿‡å·¦å³æŒ‡é’ˆ i å’Œ j å¯»æ‰¾éœ€è¦äº¤æ¢çš„å…ƒç´ ï¼Œä½¿å·¦è¾¹å…ƒç´  â‰¤ åŸºå‡†å€¼ï¼Œå³è¾¹å…ƒç´  â‰¥ åŸºå‡†å€¼ã€‚
			// æ‰¾åˆ°ç¬¬ä¸€ä¸ª å°äºåŸºå‡†å€¼ çš„å…ƒç´ 
			while (i < j && arr[j] >= arr[left])
				--j;
			// æ‰¾åˆ°ç¬¬ä¸€ä¸ª å¤§äºåŸºå‡†å€¼ çš„å…ƒç´ 
			while (i < j && arr[i] <= arr[left])
				++i;
			// å°çš„ç»™iï¼Œå¤§çš„ç»™j
			// å°çš„æ¢åˆ°åŒºé—´å·¦ï¼Œå¤§çš„æ¢åˆ°åŒºé—´å³
			swap(arr, i, j);
		}
		// åŸºå‡†å€¼å½’ä½ï¼šå°†åŸºå‡†å€¼ä¸iä½ç½®äº¤æ¢ï¼Œä½¿å·¦è¾¹â‰¤åŸºå‡†ï¼Œå³è¾¹â‰¥åŸºå‡†ï¼Œä½¿æœ€å°å€¼å§‹ç»ˆæ˜¯par
		swap(arr, i, left);
		return i;
	}

	public static void swap(int[] arr, int i, int j) {
		int tmp = arr[i];
		arr[i] = arr[j];
		arr[j] = tmp;
	}

	public static void main(String[] args) {
		int[] arr = { 1, 4, 5, 8, 9, 0, 90, 1, 9, 778, 6, 765, 7, 6, 8, 987 };
		quickSort(arr, 0, arr.length - 1);
		for (int m = 0; m < arr.length; ++m)
			System.out.print(arr[m] + " ");
	}

}
```

ğŸ‘‡1

åŸºå‡†æ•°ä¼˜åŒ–

```java
/*å‡è®¾è¾“å…¥æ•°ç»„æ˜¯å®Œå…¨å€’åºçš„ï¼Œç”±äºæˆ‘ä»¬é€‰æ‹©æœ€å·¦ç«¯å…ƒç´ ä½œä¸ºåŸºå‡†æ•°ï¼Œé‚£ä¹ˆåœ¨åŸºå‡†æ•°åˆ’åˆ†å®Œæˆåï¼ŒåŸºå‡†æ•°è¢«äº¤æ¢è‡³æ•°ç»„æœ€å³ç«¯ï¼Œå¯¼è‡´å·¦å­æ•°ç»„é•¿åº¦ä¸ºn-1ã€å³å­æ•°ç»„é•¿åº¦ä¸º0ã€‚å¦‚æ­¤é€’å½’ä¸‹å»ï¼Œæ¯è½®å“¨å…µåˆ’åˆ†åéƒ½æœ‰ä¸€ä¸ªå­æ•°ç»„çš„é•¿åº¦ä¸º0ï¼Œåˆ†æ²»ç­–ç•¥å¤±æ•ˆï¼Œå¿«é€Ÿæ’åºé€€åŒ–ä¸ºâ€œå†’æ³¡æ’åºâ€çš„è¿‘ä¼¼å½¢å¼ã€‚
*/

/*å¯ä»¥é€šè¿‡éšæœºæ•°é€‰å–åŸºå‡†æ•°ï¼Œä½†ä¹Ÿå¯èƒ½å‡ºæ„å¤–ï¼Œæ‰€ä»¥é€šå¸¸ä»æ•°ç»„çš„é¦–ã€å°¾ã€ä¸­é€‰å…ƒç´ ï¼Œå¹¶å°†è¿™ä¸‰ä¸ªå€™é€‰å…ƒç´ çš„ä¸­ä½æ•°ä½œä¸ºåŸºå‡†æ•°ã€‚*/

/*
ä¸­ä½æ•°æ˜¯æŒ‰é¡ºåºæ’åˆ—çš„ä¸€ç»„æ•°æ®ä¸­å±…äºä¸­é—´ä½ç½®çš„æ•°
å¦‚æœè§‚å¯Ÿå€¼æœ‰å¶æ•°ä¸ªï¼Œé€šå¸¸å–æœ€ä¸­é—´çš„ä¸¤ä¸ªæ•°å€¼çš„å¹³å‡æ•°ä½œä¸ºä¸­ä½æ•°ã€‚
*/


/* é€‰å–ä¸‰ä¸ªå€™é€‰å…ƒç´ çš„ä¸­ä½æ•° */
int medianThree(int[] nums, int left, int mid, int right) {
    int l = nums[left], m = nums[mid], r = nums[right];
    if ((l <= m && m <= r) || (r <= m && m <= l))
        return mid; // m åœ¨ l å’Œ r ä¹‹é—´
    if ((m <= l && l <= r) || (r <= l && l <= m))
        return left; // l åœ¨ m å’Œ r ä¹‹é—´
    return right;
}

/* å“¨å…µåˆ’åˆ†ï¼ˆä¸‰æ•°å–ä¸­å€¼ï¼‰ */
int partition(int[] nums, int left, int right) {
    // é€‰å–ä¸‰ä¸ªå€™é€‰å…ƒç´ çš„ä¸­ä½æ•°
    int med = medianThree(nums, left, (left + right) / 2, right);
    // å°†ä¸­ä½æ•°äº¤æ¢è‡³æ•°ç»„æœ€å·¦ç«¯
    swap(nums, left, med);
    // ä»¥ nums[left] ä¸ºåŸºå‡†æ•°
    int i = left, j = right;
    while (i < j) {
        while (i < j && nums[j] >= nums[left])
            j--;          // ä»å³å‘å·¦æ‰¾é¦–ä¸ªå°äºåŸºå‡†æ•°çš„å…ƒç´ 
        while (i < j && nums[i] <= nums[left])
            i++;          // ä»å·¦å‘å³æ‰¾é¦–ä¸ªå¤§äºåŸºå‡†æ•°çš„å…ƒç´ 
        swap(nums, i, j); // äº¤æ¢è¿™ä¸¤ä¸ªå…ƒç´ 
    }
    swap(nums, i, left);  // å°†åŸºå‡†æ•°äº¤æ¢è‡³ä¸¤å­æ•°ç»„çš„åˆ†ç•Œçº¿
    return i;             // è¿”å›åŸºå‡†æ•°çš„ç´¢å¼•
}
```

ğŸ‘‡2

```python

åœ¨æ™®é€šé€’å½’ä¸­ï¼Œå› ä¸ºå½“å‰é€’å½’å¹¶æœªç»“æŸï¼Œæ¯æ¬¡é€’å½’è°ƒç”¨åœ¨è°ƒç”¨æ ˆä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„æ ˆå¸§æ¥ä¿å­˜å½“å‰å‡½æ•°è°ƒç”¨çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆå¦‚å±€éƒ¨å˜é‡ã€è¿”å›åœ°å€ç­‰ï¼‰ã€‚å½“é€’å½’æ·±åº¦è¿‡æ·±ä¼šå¯¼è‡´æ ˆæº¢å‡ºé”™è¯¯

å°¾ä¼ é€’ä¼˜åŒ–
å‡½æ•°çš„æœ€åä¸€æ­¥æ“ä½œæ˜¯è°ƒç”¨è‡ªèº«ï¼Œè°ƒç”¨æ˜¯å‡½æ•°çš„æœ€åä¸€ä¸ªåŠ¨ä½œï¼Œæ²¡æœ‰å…¶ä»–é¢å¤–çš„æ“ä½œéœ€è¦åœ¨è°ƒç”¨è¿”å›åæ‰§è¡Œã€‚
è¿™å°±æ˜¯å°¾ä¼ é€’
å®ç°å°¾ä¼ é€’ï¼Œæœ‰æ¡ä»¶çš„ç¼–è¯‘å™¨æˆ–è§£é‡Šå™¨å°±ä¼šå°†å°¾é€’å½’ä¼˜åŒ–æˆè¿­ä»£å½¢å¼ï¼Œè¿™å°±æ˜¯å°¾ä¼ é€’ä¼˜åŒ–
å°¾ä¼ é€’é¿å…é€’å½’è°ƒç”¨å¸¦æ¥çš„æ ˆç©ºé—´ç´¯ç§¯é—®é¢˜ï¼Œä½¿å¾—é€’å½’æ·±åº¦å§‹ç»ˆä¿æŒä¸º 1ã€‚

Aé€’å½’è°ƒç”¨ï¼Œæœ€åAçš„è¿”å›æ˜¯é€’å½’å‡½æ•°çš„ç»“æœ


def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n - 1) + fibonacci(n - 2)
çœ‹ç€é€’å½’è°ƒç”¨æ˜¯æœ€å1æ­¥æ“ä½œï¼Œå…¶å®+æ‰æ˜¯ï¼Œå› ä¸ºå‡½æ•°è¿˜æ²¡ç»“æŸï¼Œå°±æŒ‚ç€æ²¡é‡Šæ”¾äº†

def fibonacci_tail(n, a=0, b=1):
    if n == 0:
        return a
    return fibonacci_tail(n - 1, b, a + b)

é€’å½’è°ƒç”¨æ˜¯æœ€å1æ­¥æ“ä½œ

```



æ˜ç™½å°¾é€’å½’è°ƒç”¨åï¼Œå†çœ‹å®ƒä¼˜åŒ–quick_sort

ï¼ˆé™¤äº†å°¾é€’å½’è°ƒç”¨æ€æƒ³ï¼Œè¿˜æœ‰åˆ«çš„ï¼‰

å…¶å®ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼Œåœ¨æŸäº›è¾“å…¥ä¸‹ï¼Œå¿«é€Ÿæ’åºå ç”¨ç©ºé—´è¾ƒå¤šï¼Œå°±å¦‚ä¸Šé¢æ‰€è¯´çš„å®Œå…¨é€†åºè¾“å…¥ï¼Œæ¯æ¬¡éƒ½åˆ’åˆ†å‡ºé•¿åº¦ä¸º0å’Œ  n-1çš„å­æ•°ç»„ï¼Œæ¯å±‚é€’å½’åªå‡å°‘äº†1ä¸ªå…ƒç´ 
å¯ä»¥åœ¨å“¨å…µåˆ’åˆ†åæ¯”è¾ƒå­æ•°ç»„é•¿åº¦ï¼Œåªå¯¹è¾ƒçŸ­æ•°ç»„ï¼ˆé•¿åº¦ä¸ä¼šè¶…è¿‡n/2ï¼‰é€’å½’,æœ€å·®ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–è‡³logns



ä¼˜å…ˆé€’å½’å¤„ç†è¾ƒçŸ­çš„å­æ•°ç»„ï¼Œè€Œå°†è¾ƒé•¿çš„å­æ•°ç»„ç•™åœ¨å¾ªç¯ä¸­ç»§ç»­å¤„ç†ã€‚è¿™ç§ç­–ç•¥çš„æ ¸å¿ƒæ€æƒ³æ˜¯**å‡å°‘é€’å½’æ·±åº¦**ï¼Œä»è€Œé™ä½æ ˆç©ºé—´çš„ä½¿ç”¨ï¼Œé¿å…æ ˆæº¢å‡ºã€‚

è¾ƒé•¿çš„å­æ•°ç»„å› ä¸ºåœ¨whileä¸­ï¼Œå®ƒå°±ä¼šé€æ¸è¢«æ‹†ä¸ºè¾ƒçŸ­æ•°ç»„

```java
/* å¿«é€Ÿæ’åºï¼ˆå°¾é€’å½’ä¼˜åŒ–ï¼‰ */
void quickSort(int[] nums, int left, int right) {
    // å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢
    while (left < right) {
        // å“¨å…µåˆ’åˆ†æ“ä½œ
        int pivot = partition(nums, left, right);
        // å¯¹ä¸¤ä¸ªå­æ•°ç»„ä¸­è¾ƒçŸ­çš„é‚£ä¸ªæ‰§è¡Œå¿«é€Ÿæ’åº
        if (pivot - left < right - pivot) {
            quickSort(nums, left, pivot - 1); // é€’å½’æ’åºå·¦å­æ•°ç»„
            left = pivot + 1; // å‰©ä½™æœªæ’åºåŒºé—´ä¸º [pivot + 1, right]
        } else {
            quickSort(nums, pivot + 1, right); // é€’å½’æ’åºå³å­æ•°ç»„
            right = pivot - 1; // å‰©ä½™æœªæ’åºåŒºé—´ä¸º [left, pivot - 1]
        }
    }
}
```







#### 	å½’å¹¶æ’åº	mergeSort



åˆ’åˆ†-åˆå¹¶

ä¸æ–­åœ°å°†æ•°ç»„ä»ä¸­ç‚¹å¤„åˆ†å¼€ï¼Œå°†é•¿æ•°ç»„çš„æ’åºé—®é¢˜è½¬æ¢ä¸ºçŸ­æ•°ç»„çš„æ’åºé—®é¢˜ã€‚

å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢åˆ’åˆ†ï¼Œå¼€å§‹åˆå¹¶ï¼ŒæŒç»­åœ°å°†å·¦å³ä¸¤ä¸ªè¾ƒçŸ­çš„æœ‰åºæ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªè¾ƒé•¿çš„æœ‰åºæ•°ç»„ï¼Œç›´è‡³ç»“æŸã€‚

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250228195138595.png" alt="image-20250228195138595" style="zoom: 33%;" />



```java
public static int[] mergeSort(int[] nums, int l, int h) {
    if (l == h)
        return new int[] { nums[l] };

    int mid = l + ((h - l) >> 1);
    int[] leftArr = mergeSort(nums, l, mid); // å·¦æœ‰åºæ•°ç»„
    int[] rightArr = mergeSort(nums, mid + 1, h); // å³æœ‰åºæ•°ç»„
    int[] newNum = new int[leftArr.length + rightArr.length]; // æ–°æœ‰åºæ•°ç»„

    int m = 0, i = 0, j = 0;
    while (i < leftArr.length && j < rightArr.length) {
        newNum[m++] = leftArr[i] < rightArr[j] ? leftArr[i++] : rightArr[j++];
    }
    while (i < leftArr.length)
        newNum[m++] = leftArr[i++];
    while (j < rightArr.length)
        newNum[m++] = rightArr[j++];
    return newNum;
}
```









#### æ¡¶æ’åºï¼ˆBucket Sortï¼‰

æŠŠå¾…æ’åºæ•°å°½å¯èƒ½å‡åŒ€åˆ†é…åˆ°ä¸€äº›æ¡¶é‡Œï¼Œå†å¯¹æ¡¶å†…éƒ¨æ’åºï¼Œæœ€åæŒ‰åºè¾“å‡º



æ•°æ®è¦å‡åŒ€æ”¾å…¥æ¡¶

è€ƒè™‘æ¡¶æ•°é‡å’Œæ¡¶çš„æ•°æ®èŒƒå›´





æ¡¶è£…çš„æ•°æ®èŒƒå›´ = ï¼ˆæœ€å¤§å€¼ - æœ€å°å€¼ï¼‰/ æ•°æ®é‡ + 1

å› ä¸ºè‡³å°‘è¦æœ‰1ä¸ªæ¡¶ï¼Œæ‰€ä»¥+1



æ¡¶æ•°é‡ = ï¼ˆæœ€å¤§å€¼ - æœ€å°å€¼ï¼‰ / æ¡¶æ•°æ®èŒƒå›´ + 1

å› ä¸ºè‡³å°‘æœ‰1ä¸ªæ¡¶ï¼Œæ¡¶å¾—æœ‰å®¹é‡å§ï¼Œå®¹é‡è‡³å°‘ä¸º1å§ï¼Œæ‰€ä»¥+1



å¯¹æ¡¶ä¸­æ•°æ®æ’åºå¯ç”¨å…¶å®ƒæ’åºæ–¹å¼

æœ€åä¾æ¬¡è¾“å‡ºæ•°æ®



1. **åˆ›å»ºæ¡¶**ï¼šæ ¹æ®æ•°æ®èŒƒå›´å’Œæ¡¶çš„æ•°é‡ï¼Œå®šä¹‰è‹¥å¹²ä¸ªæ¡¶ï¼ˆé€šå¸¸æ˜¯æ•°ç»„æˆ–é“¾è¡¨ï¼‰ã€‚
2. **åˆ†é…å…ƒç´ **ï¼šå°†æ¯ä¸ªæ•°æ®å…ƒç´ æŒ‰è§„åˆ™æ”¾å…¥å¯¹åº”çš„æ¡¶ä¸­ï¼ˆä¾‹å¦‚ï¼šé€šè¿‡å“ˆå¸Œå‡½æ•°æˆ–èŒƒå›´åˆ’åˆ†ï¼‰ã€‚
3. **æ¡¶å†…æ’åº**ï¼šå¯¹æ¯ä¸ªéç©ºçš„æ¡¶å†…æ•°æ®è¿›è¡Œæ’åºï¼ˆå¯ä½¿ç”¨æ’å…¥æ’åºã€å¿«é€Ÿæ’åºç­‰ï¼‰ã€‚
4. **åˆå¹¶ç»“æœ**ï¼šæŒ‰é¡ºåºå°†æ‰€æœ‰æ¡¶ä¸­çš„å…ƒç´ åˆå¹¶ï¼Œå¾—åˆ°æœ€ç»ˆæœ‰åºæ•°ç»„ã€‚





```java
package TestField;

import java.util.*;

public class Main {

	static void bucketSort(int[] arr) {

		int len = arr.length;
		int max = arr[0];
		int min = arr[0];
		for (int i = 1; i < len; ++i) {
			max = Math.max(max, arr[i]);
			min = Math.min(min, arr[i]);
		}

		// è®¡ç®—æ¡¶èŒƒå›´å’Œæ¡¶æ•°é‡
		int size = (max - min) / len + 1;
		int cnt = (max - min) / size + 1;

		// åˆå§‹åŒ–æ¡¶
		List<Integer>[] buckets = new List[cnt];//è¿™é‡Œè¦æ³¨æ„
		for (int i = 0; i < cnt; ++i)
			buckets[i] = new ArrayList<>();

		// å°†å…ƒç´ æ”¾å…¥æ¡¶ï¼Œå¯ä»¥é‡‡ç”¨å“ˆå¸Œå‡½æ•°
		for (int i = 0; i < len; ++i) {
			int idx = (arr[i] - min) / size;//è¿™é‡Œè¦æ³¨æ„
			buckets[idx].add(arr[i]);
		}

		// æ¡¶å†…æ’åºå¹¶åˆå¹¶ç»“æœ
		int index = 0;
		for (List<Integer> bucket : buckets) {
			Collections.sort(bucket); // æ¡¶å†…æ’åºï¼ˆä¹Ÿå¯ç”¨æ’å…¥æ’åºç­‰ï¼‰
			for (int num : bucket) {
				arr[index++] = num;
			}
		}

	}

	public static void main(String[] args) {
		int[] arr = { 78, 65, 90, 82, 73, 88, 55, 95, 0, 0, 0 };
		bucketSort(arr);
		for (int num : arr) {
			System.out.print(num + " "); // è¾“å‡ºï¼š55 65 73 78 82 88 90 95
		}
	}
}

```









#### é€‰æ‹©æ’åº

```java
package TestField;

import java.util.*;

public class Main {

	static void selectionSort(int[] arr) {
		int len = arr.length;
		for (int i = 0; i < len - 1; i++) {
			int minIndex = i;
			for (int j = i + 1; j < len; j++) {
				if (arr[j] < arr[minIndex]) {
					minIndex = j;
				}
			}
			// äº¤æ¢æœ€å°å…ƒç´ å’Œå½“å‰ä½ç½®çš„å…ƒç´ 
			if (minIndex != i) {
				int temp = arr[i];
				arr[i] = arr[minIndex];
				arr[minIndex] = temp;
			}
		}
	}

	public static void main(String[] args) {
		int[] arr = { 78, 65, 90, 82, 73, 88, 55, 95, 0, 0, 0 };
		selectionSort(arr);
		for (int num : arr) {
			System.out.print(num + " "); // è¾“å‡ºï¼š55 65 73 78 82 88 90 95
		}
	}
}

```























### æœç´¢



æœç´¢ç®—æ³•å¯æ ¹æ®å®ç°æ€è·¯åˆ†ä¸ºä»¥ä¸‹ä¸¤ç±»ã€‚

- **é€šè¿‡éå†æ•°æ®ç»“æ„æ¥å®šä½ç›®æ ‡å…ƒç´ **ï¼Œä¾‹å¦‚æ•°ç»„ã€é“¾è¡¨ã€æ ‘å’Œå›¾çš„éå†ç­‰ã€‚
- **åˆ©ç”¨æ•°æ®ç»„ç»‡ç»“æ„æˆ–æ•°æ®åŒ…å«çš„å…ˆéªŒä¿¡æ¯ï¼Œå®ç°é«˜æ•ˆå…ƒç´ æŸ¥æ‰¾**ï¼Œä¾‹å¦‚äºŒåˆ†æŸ¥æ‰¾ã€å“ˆå¸ŒæŸ¥æ‰¾å’ŒäºŒå‰æœç´¢æ ‘æŸ¥æ‰¾ç­‰ã€‚





#### äºŒåˆ†æŸ¥æ‰¾

```java
// äºŒåˆ†æŸ¥æ‰¾çš„æ•°ç»„å¿…é¡»æ˜¯æœ‰åºçš„
// å¯ä»¥é€‰æ‹©é€’å½’æˆ–ä¸é€’å½’ï¼Œè¿™é‡Œé€’å½’

package TestField;

import java.util.Arrays;

public class Main {

	static int binarySearch(int[] arr, int tar, int left, int right) {

		if (left > right)
			return -1;

		int mid = left + ((right - left) >> 1);
        // é˜²æ­¢left + right è¶…å‡ºå–å€¼èŒƒå›´

		if (arr[mid] == tar)
			return mid;

		if (arr[mid] < tar) {
			return binarySearch(arr, tar, mid + 1, right);

		} else {
			return binarySearch(arr, tar, left, mid - 1);
		}

	}

	public static void main(String[] args) {

		int[] arr = { 1, 5, 6, 7, 8, 90, 3, 45, 6, 3, 2 };
		Arrays.sort(arr);
		int target = binarySearch(arr, 7, 0, arr.length - 1);
		System.out.println(target);

	}

}
```







### åˆ†æ²»



æ¯”å¦‚å½’å¹¶æ’åºï¼Œå°±æ˜¯åˆ†æ²»æ€æƒ³çš„å…¸å‹åº”ç”¨	



ä½•æ—¶ç”¨åˆ†æ²»

- é—®é¢˜å¯ä»¥åˆ†è§£
- å­é—®é¢˜æ˜¯ç‹¬ç«‹çš„
- å­é—®é¢˜è§£å¯ä»¥åˆå¹¶



åˆ†æ²»è§£å†³çš„é—®é¢˜

- **å¯»æ‰¾æœ€è¿‘ç‚¹å¯¹**ï¼šè¯¥ç®—æ³•é¦–å…ˆå°†ç‚¹é›†åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œç„¶ååˆ†åˆ«æ‰¾å‡ºä¸¤éƒ¨åˆ†ä¸­çš„æœ€è¿‘ç‚¹å¯¹ï¼Œæœ€åæ‰¾å‡ºè·¨è¶Šä¸¤éƒ¨åˆ†çš„æœ€è¿‘ç‚¹å¯¹ã€‚
- **å¤§æ•´æ•°ä¹˜æ³•**ï¼šä¾‹å¦‚ Karatsuba ç®—æ³•ï¼Œå®ƒå°†å¤§æ•´æ•°ä¹˜æ³•åˆ†è§£ä¸ºå‡ ä¸ªè¾ƒå°çš„æ•´æ•°çš„ä¹˜æ³•å’ŒåŠ æ³•ã€‚
- **çŸ©é˜µä¹˜æ³•**ï¼šä¾‹å¦‚ Strassen ç®—æ³•ï¼Œå®ƒå°†å¤§çŸ©é˜µä¹˜æ³•åˆ†è§£ä¸ºå¤šä¸ªå°çŸ©é˜µçš„ä¹˜æ³•å’ŒåŠ æ³•ã€‚
- **æ±‰è¯ºå¡”é—®é¢˜**ï¼šæ±‰è¯ºå¡”é—®é¢˜å¯ä»¥é€šè¿‡é€’å½’è§£å†³ï¼Œè¿™æ˜¯å…¸å‹çš„åˆ†æ²»ç­–ç•¥åº”ç”¨ã€‚
- **æ±‚è§£é€†åºå¯¹**ï¼šåœ¨ä¸€ä¸ªåºåˆ—ä¸­ï¼Œå¦‚æœå‰é¢çš„æ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ•°å­—æ„æˆä¸€ä¸ªé€†åºå¯¹ã€‚æ±‚è§£é€†åºå¯¹é—®é¢˜å¯ä»¥åˆ©ç”¨åˆ†æ²»çš„æ€æƒ³ï¼Œå€ŸåŠ©å½’å¹¶æ’åºè¿›è¡Œæ±‚è§£ã€‚



æ ¹æ®äºŒå‰æ ‘çš„ä»»æ„2åºåˆ—æ„å»ºäºŒå‰æ ‘

```java

```















### å›æº¯

ç©·ä¸¾ï¼Œæ‰¾åˆ°è§£æˆ–ç¡®è®¤æ— è§£

æ— æ³•å‰è¿›ã€æ— æ»¡è¶³æ¡ä»¶è§£æ—¶ï¼Œå›æº¯



å›æº¯ç®—æ³•é€šå¸¸é‡‡ç”¨â€œæ·±åº¦ä¼˜å…ˆæœç´¢â€æ¥éå†è§£ç©ºé—´

äºŒå‰æ ‘çš„å‰ä¸­ååºéå†éƒ½å±äºæ·±åº¦ä¼˜å…ˆ

```java
//	æœç´¢å‰åºäºŒå‰æ ‘ä¸­å€¼ä¸º7çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›æ ¹èŠ‚ç‚¹åˆ°è¿™äº›èŠ‚ç‚¹çš„è·¯å¾„

//	path è®°å½•è®¿é—®è¿‡çš„èŠ‚ç‚¹è·¯å¾„
//	reså­˜å‚¨ç»“æœ
//	é€šè¿‡DFSä¸æ–­è®¿é—®èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹å·¦å³å­èŠ‚ç‚¹éƒ½å·²éå†ç»“æŸåï¼Œåœ¨é€’å½’è¿‡ç¨‹ä¸­  åˆ å»å¯¹å½“å‰èŠ‚ç‚¹è®¿é—®çš„è®°å½•ï¼ˆpath = path.size-1 ï¼‰ï¼Œå®ç°å›æº¯æ•ˆæœ


void preOrder(TreeNode root){
    
    if(root == null)
        return;
    
    path.add(root);
    
    if(root.val == 7)
        res.add(new ArrayList<>(path));
    
    preOrder(root.left);
    preOrder(root.right);
    
    path.remove(path.size() - 1);
    
        
}
```



```java
//	å®Œæ•´ä»£ç 

package TestField;

import java.util.ArrayList;
import java.util.List;

public class Main {

	public static class TreeNode {

		int val;
		TreeNode left;
		TreeNode right;

		public TreeNode(int val) {
			this.val = val;
		}

	}

	public static class BinaryTreeSearch {

		List<List<TreeNode>> res = new ArrayList<>();
		List<TreeNode> path = new ArrayList<>();

		void preOrder(TreeNode root) {

			if (root == null)
				return;

			path.add(root);
			if (root.val == 7)
                //	å°†å½“å‰ path åˆ—è¡¨çš„ä¸€ä¸ªå‰¯æœ¬æ·»åŠ åˆ° res åˆ—è¡¨ä¸­ã€‚
				res.add(new ArrayList<>(path));

			preOrder(root.left);
			preOrder(root.right);
			//	åˆ«å¿˜äº†ï¼Œè¿™æ˜¯é€’å½’ï¼Œåœ¨å®ƒä¸Šä¸€æ­¥æ˜¯å…ˆå»å­èŠ‚ç‚¹é‚£ï¼Œå­èŠ‚ç‚¹å·²ç»æ‰§è¡Œè¿‡è¿™ä¸€æ­¥äº†ï¼Œè¿™é‡Œæ˜¯é€’å½’å›æ¥äº†
            //	æ‰€ä»¥-1å¾ˆåˆç†
			path.remove(path.size() - 1);

		}

	}

	public static void main(String[] args) {
		// æ„å»ºä¸€ä¸ªç®€å•çš„äºŒå‰æ ‘
		TreeNode root = new TreeNode(1);
		root.left = new TreeNode(2);
		root.right = new TreeNode(7);
		root.left.left = new TreeNode(3);
		root.left.right = new TreeNode(4);
		root.right.left = new TreeNode(7);

		BinaryTreeSearch solution = new BinaryTreeSearch();
		// è°ƒç”¨å‰åºéå†æ–¹æ³•è¿›è¡Œæœç´¢
		solution.preOrder(root);

		// è¾“å‡ºæ‰€æœ‰å€¼ä¸º 7 çš„èŠ‚ç‚¹æ‰€åœ¨çš„è·¯å¾„
		for (List<TreeNode> path : solution.res) {
			for (TreeNode node : path) {
				System.out.print(node.val + " ");
			}
			System.out.println();
		}
	}

}
```





#### å‰ªæ

å¯¹å›æº¯é—®é¢˜çš„çº¦æŸæ¡ä»¶ï¼Œå°±æ˜¯å‰ªæ

```java
//åœ¨äºŒå‰æ ‘ä¸­æœç´¢æ‰€æœ‰å€¼ä¸º7çš„èŠ‚ç‚¹ï¼Œè¯·è¿”å›æ ¹èŠ‚ç‚¹åˆ°è¿™äº›èŠ‚ç‚¹çš„è·¯å¾„ï¼Œå¹¶è¦æ±‚è·¯å¾„ä¸­ä¸åŒ…å«å€¼ä¸º3çš„èŠ‚ç‚¹

void preOrder(TreeNode root) {
    // å‰ªæ
    // ç›´æ¥å›é€€åˆ°ä¸Šä¸€æ­¥
    if (root == null || root.val == 3) {
        return;
    }
    
    // å°è¯•
    path.add(root);
    if (root.val == 7) {
        // è®°å½•è§£
        res.add(new ArrayList<>(path));
    }
    preOrder(root.left);
    preOrder(root.right);
    // å›é€€
    path.remove(path.size() - 1);
}

```









#### `å›æº¯ç®—æ³•é€šç”¨æ¡†æ¶`

å°†å›æº¯çš„â€œå°è¯•ã€å›é€€ã€å‰ªæâ€çš„ä¸»ä½“æ¡†æ¶æç‚¼å‡ºæ¥



- `state`ï¼šè®°å½•å·¥å…·ï¼Œè®°å½•äº†å½“å‰æœç´¢åˆ†æ”¯ä¸­å·²ç¡®å®šçš„é€‰æ‹©ï¼ˆä¸ä¸€å®šæ˜¯resï¼‰
- `choices`ï¼šåŒ…å«æ‰€æœ‰å¯èƒ½é€‰æ‹©çš„åˆ—è¡¨ï¼Œåœ¨æ¯ä¸€æ­¥æœç´¢ä¸­ï¼Œä»è¿™ä¸ªåˆ—è¡¨é‡ŒæŒ‘é€‰åˆé€‚çš„é€‰æ‹©ã€‚
- `res`ï¼šå­˜å‚¨è§£å†³æ–¹æ¡ˆã€‚

```java
/*
	ç”¨ä¸Šé¢å‰åºäºŒå‰æ ‘çš„ä¾‹å­
	choice  å½“å‰é€‰æ‹©çš„èŠ‚ç‚¹
    state	ç›¸å½“äºpath
*/

	// å›æº¯
void backtrack(State state, List<Choice> choices, List<State> res){
	
    // æ˜¯å¦ä¸ºè§£
    if(isSolution(state)){
        // è®°å½•æ–¹æ¡ˆ
		recordSolution(state, res);
        // ä¸å†æœç´¢
        return;
        // å› ä¸ºå…·ä½“é—®é¢˜çš„å®ç°ï¼Œè¿˜æœ‰å‰ªæï¼Œç®—æ³•è®¾è®¡é¿å…é‡å¤ä»€ä¹ˆçš„ï¼Œè¿™é‡Œreturnä¹Ÿä¸ä¼šé”™è¿‡è§£
    }
    
    // éå†æ‰€æœ‰å¯èƒ½
    for(Choice choice : choices){

        // åˆ¤æ–­é€‰æ‹©æ˜¯å¦åˆæ³•ï¼Œä¸åˆæ³•å‰ªå»ï¼Œè¿™æ­¥ç®—æ˜¯å®ç°äº†å‰ªæ
    	if(isValid(state, choice)){
            //åˆæ³•ï¼Œè¿›è¡Œæ“ä½œ
            makeChoice(state, choice);
            //æ“ä½œåæ›´æ–°çŠ¶æ€
            backtrack(state, choices, res);
            // å›æº¯
            undoChoice(state, choice);
        }
    }
    
}

```







æ¨¡æ¿è§£å†³ä¸Šè¿°é—®é¢˜

```java
package TestField;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

// å®šä¹‰äºŒå‰æ ‘èŠ‚ç‚¹ç±»
class TreeNode {
	int val;
	TreeNode left;
	TreeNode right;

	TreeNode(int val) {
		this.val = val;
	}
}

public class Main {

	/* åˆ¤æ–­å½“å‰çŠ¶æ€æ˜¯å¦ä¸ºè§£ */
	boolean isSolution(List<TreeNode> state) {
		return !state.isEmpty() && state.get(state.size() - 1).val == 7;
	}

	/* è®°å½•è§£ */
	void recordSolution(List<TreeNode> state, List<List<TreeNode>> res) {
		res.add(new ArrayList<>(state));
	}

	/* åˆ¤æ–­åœ¨å½“å‰çŠ¶æ€ä¸‹ï¼Œè¯¥é€‰æ‹©æ˜¯å¦åˆæ³• */
	boolean isValid(List<TreeNode> state, TreeNode choice) {
		return choice != null && choice.val != 3;
	}

	/* æ›´æ–°çŠ¶æ€ */
	void makeChoice(List<TreeNode> state, TreeNode choice) {
		state.add(choice);
	}

	/* æ¢å¤çŠ¶æ€ */
	void undoChoice(List<TreeNode> state, TreeNode choice) {
		state.remove(state.size() - 1);
	}

	/* å›æº¯ç®—æ³•ï¼šä¾‹é¢˜ä¸‰ */
	void backtrack(List<TreeNode> state, List<TreeNode> choices, List<List<TreeNode>> res) {
		// æ£€æŸ¥æ˜¯å¦ä¸ºè§£
		if (isSolution(state)) {
			// è®°å½•è§£
			recordSolution(state, res);
		}
		// éå†æ‰€æœ‰é€‰æ‹©
		for (TreeNode choice : choices) {
			// å‰ªæï¼šæ£€æŸ¥é€‰æ‹©æ˜¯å¦åˆæ³•
			if (isValid(state, choice)) {
				// å°è¯•ï¼šåšå‡ºé€‰æ‹©ï¼Œæ›´æ–°çŠ¶æ€
				makeChoice(state, choice);
				// è¿›è¡Œä¸‹ä¸€è½®é€‰æ‹©
				backtrack(state, Arrays.asList(choice.left, choice.right), res);
				// å›é€€ï¼šæ’¤é”€é€‰æ‹©ï¼Œæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€
				undoChoice(state, choice);
			}
		}
	}

	public static void main(String[] args) {
		// æ„å»ºä¸€ä¸ªç®€å•çš„äºŒå‰æ ‘
		TreeNode root = new TreeNode(1);
		root.left = new TreeNode(2);
		root.right = new TreeNode(7);
		root.left.left = new TreeNode(3);
		root.left.right = new TreeNode(4);
		root.right.left = new TreeNode(7);

		Main solution = new Main();
		List<List<TreeNode>> res = new ArrayList<>();
		List<TreeNode> state = new ArrayList<>();
		state.add(root); // åˆå§‹çŠ¶æ€åŒ…å«æ ¹èŠ‚ç‚¹

		// è°ƒç”¨å›æº¯ç®—æ³•
		solution.backtrack(state, Arrays.asList(root.left, root.right), res);

		// è¾“å‡ºæ‰€æœ‰è§£
		for (List<TreeNode> path : res) {
			for (TreeNode node : path) {
				System.out.print(node.val + " ");
			}
			System.out.println();
		}
	}
}
```



å›æº¯å…¸å‹ä¾‹é¢˜

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250313173641758.png" alt="image-20250313173641758" style="zoom:67%;" />

åœ¨å¤§è§„æ¨¡æ•°æ®ä¸Šå›æº¯çš„æ•ˆæœä¸ç†æƒ³



#### **`å›æº¯å…¸å‹åº”ç”¨`**

##### å…¨æ’åˆ—

æ‰¾å‡ºç»™å®šé›†åˆä¸­å…ƒç´ æ‰€æœ‰å¯èƒ½çš„æ’åˆ—

è€ƒè™‘æœ‰æ— ç›¸ç­‰å…ƒç´ 



â€‹	æ— ç›¸ç­‰å…ƒç´ 

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250306173434534.png" alt="image-20250306173434534" style="zoom: 25%;" />

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250323113512643.png" alt="image-20250323113512643" style="zoom:33%;" />



æ— ç›¸ç­‰å…ƒç´ ï¼Œä½†å­˜åœ¨ é‡å¤é€‰æ‹© çš„æƒ…å†µï¼Œé¿å…è¿™ä¸€æƒ…å†µ

```java
package TestField;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class Main {

    static class Permutations {

        static List<List<Integer>> permutations(int[] choices) {
            List<List<Integer>> res = new ArrayList<>();
            List<Integer> state = new ArrayList<>();
            boolean[] visited = new boolean[choices.length];
            // å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œä»¥ä¾¿å¤„ç†é‡å¤å…ƒç´ 
            Arrays.sort(choices);
            backtrack(choices, res, state, visited);
            return res;
        }

        static void backtrack(int[] choices, List<List<Integer>> res, List<Integer> state, boolean[] visited) {
            if (state.size() == choices.length) {
                res.add(new ArrayList<>(state));
                return;
            }

            for (int i = 0; i < choices.length; ++i) {
                // å¦‚æœå½“å‰å…ƒç´ å·²ç»è¢«è®¿é—®è¿‡ï¼Œè·³è¿‡
                if (visited[i]) continue;
                // å¤„ç†é‡å¤å…ƒç´ 
                if (i > 0 && choices[i] == choices[i - 1] && !visited[i - 1]) continue;

                visited[i] = true;
                state.add(choices[i]);

                backtrack(choices, res, state, visited);

                visited[i] = false;
                state.remove(state.size() - 1);
            }
        }
    }

    public static void main(String[] args) {
        int[] arr = {1, 1, 5, 6};
        List<List<Integer>> res = Permutations.permutations(arr);
        for (List<Integer> re : res) {
            System.out.println(re);
        }
    }
}
```









æœ‰ç›¸ç­‰å…ƒç´ 

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250323115752689.png" alt="image-20250323115752689" style="zoom:67%;" />

å› ä¸ºå…ƒç´ ç›¸ç­‰ï¼ŒåŒä¸€è½®ä¸­é€‰ä½ è¿˜æ˜¯é€‰æˆ‘æ²¡åŒºåˆ«ï¼Œç”Ÿæˆçš„åºåˆ—éƒ½æ˜¯ä¸€æ ·çš„



è¦åšçš„å°±æ˜¯è¿™ä¸€è½®å†…ï¼Œåœ¨é€‰æŸå…ƒç´ æ—¶ï¼Œç¡®å®šæœ‰æ²¡æœ‰å·²ç»é€‰è¿‡å®ƒäº†

åŒä¸€è½®äº’ç›¸æ’æ–¥ï¼Œæˆ–è€…è¯´åªèƒ½æœ‰1ä¸ªï¼Œç”¨Setï¼Œä¸ºäº†ä¾¿äºç»Ÿè®¡ç”¨HashSet

å› ä¸ºé€’å½’å®ç°ï¼Œæ¯ä¸€è®ºéƒ½æ–°åˆ›å»ºä¸€ä¸ªHashSetä»…è®°å½•æœ¬è½®çŠ¶æ€ï¼Œæ‰€ä»¥å®ƒæ— éœ€å›é€€

```java
/* å›æº¯ç®—æ³•ï¼šå…¨æ’åˆ— II */
void backtrack(List<Integer> state, int[] choices, boolean[] selected, List<List<Integer>> res) {
    // å½“çŠ¶æ€é•¿åº¦ç­‰äºå…ƒç´ æ•°é‡æ—¶ï¼Œè®°å½•è§£
    if (state.size() == choices.length) {
        res.add(new ArrayList<Integer>(state));
        return;
    }
    // éå†æ‰€æœ‰é€‰æ‹©
    Set<Integer> duplicated = new HashSet<Integer>();
    for (int i = 0; i < choices.length; i++) {
        int choice = choices[i];
        // å‰ªæï¼šä¸å…è®¸é‡å¤é€‰æ‹©å…ƒç´  ä¸” ä¸å…è®¸é‡å¤é€‰æ‹©ç›¸ç­‰å…ƒç´ 
        if (!selected[i] && !duplicated.contains(choice)) {
            // å°è¯•ï¼šåšå‡ºé€‰æ‹©ï¼Œæ›´æ–°çŠ¶æ€
            duplicated.add(choice); // è®°å½•é€‰æ‹©è¿‡çš„å…ƒç´ å€¼
            selected[i] = true;
            state.add(choice);
            // è¿›è¡Œä¸‹ä¸€è½®é€‰æ‹©
            backtrack(state, choices, selected, res);
            // å›é€€ï¼šæ’¤é”€é€‰æ‹©ï¼Œæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€
            selected[i] = false;
            state.remove(state.size() - 1);
        }
    }
}

/* å…¨æ’åˆ— II */
List<List<Integer>> permutationsII(int[] nums) {
    List<List<Integer>> res = new ArrayList<List<Integer>>();
    backtrack(new ArrayList<Integer>(), nums, new boolean[nums.length], res);
    return res;
}
```









##### å­é›†å’Œ é—®é¢˜

ç»™å®šä¸€ä¸ªæ•°ç»„ `nums` å’Œä¸€ä¸ªç›®æ ‡ `target` ï¼Œæ‰¾å‡ºå…ƒç´ å’Œç­‰äº `target`çš„å­é›† 



â€‹	**æ— é‡å¤å…ƒç´ æƒ…å†µ**

ç»™å®šæ•°ç»„æ— é‡å¤å…ƒç´ ï¼Œ**æ¯ä¸ªå…ƒç´ å¯ä»¥è¢«é€‰å–å¤šæ¬¡ã€‚**



ç”±ä¸Šå¯çŸ¥ï¼Œå•ä¸ªå…ƒç´ å¯é‡å¤é€‰æ‹©ã€{x,y}å’Œ{y,x}ç®—é‡å¤ç»“æœ

æ¯”å¦‚{3ï¼Œ4ï¼Œ5}ï¼Œtarget 9 ï¼Œåˆ™{3,3,3}ã€{4ï¼Œ5}æ˜¯ç»“æœ

```java
å› ä¸ºå¯ä»¥é‡å¤é€‰ï¼Œæ‰€ä»¥ä¸éœ€è¦visitedæ•°ç»„


å¦‚ä½•å‰ªæ
    
{3ï¼Œ4ï¼Œ5}å’Œ{5ï¼Œ4ï¼Œ3}æ˜¯åŒç»“æœé‡å¤é›†åˆ

æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œè‹¥é€‰å‡ºé›†åˆ3ï¼Œ4ï¼Œ5 åˆ™åé¢é€‰5åï¼Œé‡åˆ°4ï¼Œ3å°±è·³è¿‡ï¼Œè¿™æ ·å°±é¿å…äº†é‡å¤é›†åˆ
ä¹Ÿå°±æ˜¯è¯´ï¼Œé€‰æ‹©åºåˆ—åº”æ»¡è¶³i1 â‰¤ i2 â‰¤ i3 â€¦â€¦ â‰¤ in   ï¼Œå…¶ä½™æƒ…å†µå‰ªæ
è¿™æ ·é€‰å°çš„è¿˜æ²¡æœ‰å¤§çš„ï¼Œé€‰å¤§çš„ä¸€å®šæ²¡æœ‰å°çš„

ä¸ºäº†å®ç°ä¸Šè¿°æ•ˆæœï¼Œå…ˆå¯¹åºåˆ—æ’åº
ç„¶åç”¨start è¡¨ç¤ºå½“å‰é€’å½’æœç´¢çš„èµ·å§‹ç´¢å¼•ï¼Œç”¨äºé¿å…é‡å¤é€‰æ‹©åŒä¸€å…ƒç´ 


æ’åºååˆæœ‰ä¸¤ä¸ªä¼˜åŒ–ç‚¹
    è‹¥å½“å‰å­é›†å’Œ > target åˆ™ã€‚ç»“æŸå¾ªç¯ï¼Œåé¢çš„ç»“æœè‚¯å®šè¶…äº†
    ä¸éœ€è¦æ±‚å’Œäº†ï¼Œç›´æ¥ç”¨target - ç›®å‰å·²ç»Ÿè®¡çš„å…ƒç´ å’Œ
    

/* å›æº¯ç®—æ³•ï¼šå­é›†å’Œ I */
void backtrack(List<Integer> state, int target, int[] choices, int start, List<List<Integer>> res) {
    // å­é›†å’Œç­‰äº target æ—¶ï¼Œè®°å½•è§£
    if (target == 0) {
        res.add(new ArrayList<>(state));
        return;
    }
    // éå†æ‰€æœ‰é€‰æ‹©
    // å‰ªæäºŒï¼šä» start å¼€å§‹éå†ï¼Œé¿å…ç”Ÿæˆé‡å¤å­é›†
    for (int i = start; i < choices.length; i++) {
        // å‰ªæä¸€ï¼šè‹¥å­é›†å’Œè¶…è¿‡ target ï¼Œåˆ™ç›´æ¥ç»“æŸå¾ªç¯
        // è¿™æ˜¯å› ä¸ºæ•°ç»„å·²æ’åºï¼Œåè¾¹å…ƒç´ æ›´å¤§ï¼Œå­é›†å’Œä¸€å®šè¶…è¿‡ target
        if (target - choices[i] < 0) {
            break;
        }
        // å°è¯•ï¼šåšå‡ºé€‰æ‹©ï¼Œæ›´æ–° target, start
        state.add(choices[i]);
        // è¿›è¡Œä¸‹ä¸€è½®é€‰æ‹©
        // è‹¥iæ”¹ä¸ºi + 1ï¼Œåˆ™æ²¡æœ‰{3ï¼Œ3ï¼Œ3}è¿™ç§é‡å¤æƒ…å†µäº†
        backtrack(state, target - choices[i], choices, i, res);
        // å›é€€ï¼šæ’¤é”€é€‰æ‹©ï¼Œæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€
        state.remove(state.size() - 1);
    }
    
    
    
}

/* æ±‚è§£å­é›†å’Œ I */
List<List<Integer>> subsetSumI(int[] nums, int target) {
    List<Integer> state = new ArrayList<>(); // çŠ¶æ€ï¼ˆå­é›†ï¼‰
    Arrays.sort(nums); // å¯¹ nums è¿›è¡Œæ’åº
    int start = 0; // éå†èµ·å§‹ç‚¹
    List<List<Integer>> res = new ArrayList<>(); // ç»“æœåˆ—è¡¨ï¼ˆå­é›†åˆ—è¡¨ï¼‰
    backtrack(state, target, nums, start, res);
    return res;
}
```



â€‹	é‡å¤å…ƒç´ 

æ¯ä¸ªå…ƒç´ åªèƒ½é€‰1æ¬¡

è™½ç„¶æ˜¯ä¸åŒå…ƒç´ ï¼Œä½†æ˜¯å› ä¸ºå€¼ç›¸åŒï¼Œæ‰€ä»¥è¢«è®¤ä¸ºæ˜¯åŒä¸€å…ƒç´ 

{4(i2)ï¼Œ5}  {4(i3)ï¼Œ5}	è¿™ç®—æ˜¯é‡å¤å­é›†ï¼Œä¸å…è®¸

äº§ç”Ÿçš„åŸå› æ˜¯å€¼ç›¸åŒçš„ä¸åŒç´¢å¼•å…ƒç´ åœ¨åŒä¸€è½®ä¸­è¢«é€‰æ‹©ï¼Œè¿™æ ·åœ¨æ¥ä¸‹æ¥å®ƒä»¬å„è‡ªçš„é€’å½’ç»“æŸåï¼Œäº§ç”Ÿäº†ç›¸åŒçš„å­é›†



é™åˆ¶å€¼ç›¸åŒå…ƒç´ åœ¨åŒä¸€è½®ä¸­è¢«é€‰æ‹©å³å¯

```java
package TestField;

import java.util.ArrayList;
import java.util.List;
import java.util.Arrays;

public class Main {

	static List<List<Integer>> subsetSumINaive(int[] arr, int tar) {

		List<List<Integer>> res = new ArrayList<>();
		List<Integer> path = new ArrayList<>();
		int start = 0;
		Arrays.sort(arr);
		backtrack(arr, path, res, tar, start);
		return res;

	}

	static void backtrack(int[] arr, List<Integer> path, List<List<Integer>> res, int tar, int start) {

		if (0 == tar) {
			res.add(new ArrayList<>(path));
			return;
		}

		for (int i = start; i < arr.length; ++i) {

			if (tar - arr[i] < 0)
				break;
            // i > startï¼Œè¯´æ˜æœ¬è½®é€‰è¿‡ç¬¬1ä¸ªå…ƒç´ äº†
            // å› ä¸ºæ’è¿‡åºï¼Œæ‰€ä»¥å€¼ç›¸åŒå…ƒç´ æŒ¨ç€
			if (i > start && arr[i] == arr[i - 1])
				continue;

			path.add(arr[i]);
            // ä¸å…è®¸é‡å¤å…ƒç´ ï¼Œé€‰æ‹©xiåï¼Œä¸‹ä¸€è½®ä»ç´¢å¼•x+1éå†	
			backtrack(arr, path, res, tar - arr[i], i + 1);

			path.remove(path.size() - 1);

		}
	}

	public static void main(String[] args) {

		int[] arr = {4, 4, 5 };
		List<List<Integer>> res = subsetSumINaive(arr, 9);
		for (List<Integer> item : res) {
			for (Integer i : item) {
				System.out.print(i + " ");
			}
			System.out.println();
		}

	}

}
```







##### Nçš‡åé—®é¢˜

çš‡åæ‰€åœ¨çš„è¡Œã€åˆ—ã€å¯¹è§’çº¿ä¸èƒ½æœ‰å…¶å®ƒçš‡å



çš‡åæ•°å’Œæ£‹ç›˜è¡Œæ•°ç›¸ç­‰ï¼Œæ‰€æœ‰é€è¡Œæ”¾ç½®ï¼Œå‰ªæåŒè¡Œå¤šçš‡åçš„æƒ…å†µ

ä½¿ç”¨æ•°ç»„è®°å½•æ¯åˆ—æ˜¯å¦æœ‰çš‡å

![image-20250327195523063](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250327195523063.png)

![image-20250327195549902](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250327195549902.png)



```java
package TestField;

import java.util.ArrayList;
import java.util.List;
import java.util.Arrays;

public class Main {

	static List<List<List<String>>> nQueens(int n) {

		List<List<List<String>>> res = new ArrayList<>();
		List<List<String>> phanel = new ArrayList<>();
		for (int i = 0; i < n; ++i) {
			List<String> row = new ArrayList<>();
			for (int j = 0; j < n; ++j) {
				row.add("#");
			}
			phanel.add(row);
		}
		boolean[] cols = new boolean[n];
		boolean[] diags = new boolean[2 * n + 1];
		boolean[] diags2 = new boolean[2 * n + 1];

		backtrack(0, n, phanel, cols, diags, diags2, res);
		return res;

	}

	static void backtrack(int row, int n, List<List<String>> state, boolean[] cols, boolean[] diags, boolean[] diags2,
			List<List<List<String>>> res) {

		if (row == n) {
			List<List<String>> Cstate = new ArrayList<>();
			for (List<String> CRow : state) {
				Cstate.add(new ArrayList<String>(CRow));
			}
			res.add(Cstate);
			return;
		}

		for (int col = 0; col < n; ++col) {

			int diag = n - 1 + col - row;
			int diag2 = col + row;
			if (!diags[diag] && !diags2[diag2] && !cols[col]) {
				state.get(row).set(col, "Q");
				diags[diag] = diags2[diag2] = cols[col] = true;
				backtrack(row + 1, n, state, cols, diags, diags2, res);

				state.get(row).set(col, "#");
				diags[diag] = diags2[diag2] = cols[col] = false;

			}

		}
	}

	public static void main(String[] args) {
		int n = 5;
		List<List<List<String>>> res = nQueens(n);

		int solutionIndex = 0;
		for (List<List<String>> solution : res) {
			System.out.println("Solution " + (++solutionIndex) + ":");
			for (List<String> row : solution) {
				System.out.println(String.join("", row)); // å°† List<String> è½¬æ¢ä¸ºå­—ç¬¦ä¸²
			}
			System.out.println(); // æ¢è¡Œåˆ†éš”ä¸åŒè§£
		}
	}
    

}
```











































































































### åŠ¨æ€è§„åˆ’

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250331174126364.png" alt="image-20250331174126364" style="zoom:50%;" />

ç¬¬ié˜¶æ¥¼æ¢¯çš„ä¸Šä¸€è½®åªå¯èƒ½æ˜¯åœ¨i-1æˆ–i-2é˜¶ï¼Œæ ¹æ®è¿™ä¸ªè¿›è¡Œé€’å½’è¶…è¿‡æœ€é«˜é˜¶åˆ™å›æº¯ï¼Œç”±æ­¤é€šè¿‡  å›æº¯ è¿›è¡Œç©·ä¸¾è§£å†³

```java

package TestField;

import java.util.*;

public class Main {

	public static void climb(int state, List<Integer> res, List<Integer> choices, int upstairs) {

		if (state == upstairs)
			res.set(0, res.get(0) + 1);

		for (Integer choice : choices) {
			if (state + choice > upstairs)
				continue;
			climb(state + choice, res, choices, upstairs);
		}
	}

	public static void main(String[] args) {

		List<Integer> choices = Arrays.asList(1, 2);
		int state = 0;
		int upstairs = 9;
		List<Integer> res = new ArrayList<>();
		res.add(0);
		climb(state, res, choices, upstairs);
		System.out.println(res + " ");
	}
}

```

å¦‚æœæš´åŠ›æœç´¢ï¼Œä»¥ dp[n] ä¸ºèµ·å§‹ç‚¹ï¼Œ**é€’å½’åœ°å°†ä¸€ä¸ªè¾ƒå¤§é—®é¢˜æ‹†è§£ä¸ºä¸¤ä¸ªè¾ƒå°é—®é¢˜çš„å’Œ**ï¼Œç›´è‡³åˆ°è¾¾æœ€å°å­é—®é¢˜ dp[1] å’Œ dp[2] æ—¶è¿”å›

```java
/* æœç´¢ */
int dfs(int i) {
    // å·²çŸ¥ dp[1] å’Œ dp[2] ï¼Œè¿”å›ä¹‹
    if (i == 1 || i == 2)
        return i;
    // dp[i] = dp[i-1] + dp[i-2]
    int count = dfs(i - 1) + dfs(i - 2);
    return count;
}

/* çˆ¬æ¥¼æ¢¯ï¼šæœç´¢ */
int climbingStairsDFS(int n) {
    return dfs(n);
}
```

å¯¹äºé—®é¢˜ dp[n] ï¼Œå…¶é€’å½’æ ‘çš„æ·±åº¦ä¸º n ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(2n) ã€‚æŒ‡æ•°é˜¶å±äºçˆ†ç‚¸å¼å¢é•¿ï¼Œå…¶åŸå› æ˜¯é‡å å­é—®é¢˜å¯¼è‡´

ä¾‹å¦‚ dp[9] è¢«åˆ†è§£ä¸º dp[8] å’Œ dp[7] ï¼Œdp[8] è¢«åˆ†è§£ä¸º dp[7] å’Œ dp[6] ï¼Œä¸¤è€…éƒ½åŒ…å«å­é—®é¢˜ dp[7] ã€‚



#### è®°å¿†åŒ–æœç´¢

åœ¨é—®é¢˜æ‹†è§£è¿‡ç¨‹ä¸­ï¼Œä¼šæœ‰å¾ˆå¤šé‡å å­é—®é¢˜ï¼Œè¿™äº›é‡å å­é—®é¢˜è¢«åå¤è®¡ç®—ï¼ŒæŸè€—æ€§èƒ½

è®°å¿†åŒ–æœç´¢é€šè¿‡è®°å¿†å­é—®é¢˜çš„è§£ï¼Œéœ€è¦æ—¶å–ï¼Œè§£å†³é‡å å­é—®é¢˜

è®°å¿†åŒ–æœç´¢ å°±æ˜¯ é€šè¿‡å­˜å‚¨å­é—®é¢˜çš„è§£ è§£å†³é‡å å­é—®é¢˜ 

```java
/* è®°å¿†åŒ–æœç´¢ */

public static int dfs(int n, int[] dp) {

    if (n == 1 || n == 2)
        return n;
    if (dp[n] != -1)
        return dp[n];

    int count = dfs(n - 1, dp) + dfs(n - 2, dp);
    dp[n] = count;

    return count;
}

public static int climb(int n) {

    int[] mem = new int[n + 1];
    // mem[i] è®°å½•çˆ¬åˆ°ç¬¬ i é˜¶çš„æ–¹æ¡ˆæ€»æ•°ï¼Œ-1 ä»£è¡¨æ— è®°å½•
    Arrays.fill(mem, -1);
    return dfs(n, mem);

}
```

æ‰€æœ‰é‡å å­é—®é¢˜éƒ½åªéœ€è®¡ç®—ä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¼˜åŒ–è‡³ O(n) 





#### åŠ¨æ€è§„åˆ’

è®°å¿†åŒ–æœç´¢æ˜¯åŸå¤§é—®é¢˜æ‹†ä¸ºä¸å¯åˆ†å­é—®é¢˜ï¼Œç„¶åå›æº¯é€å±‚æ”¶å›å­é—®é¢˜çš„è§£



ç”±äºé—®é¢˜çš„è§£å¯èƒ½ç”±æ›´å°é—®é¢˜çš„è§£å¾—åˆ°ï¼Œæœ€ç»ˆå‘ç°ï¼Œä¸éœ€è¦dpè¡¨ï¼Œå­è§£å¯é€’æ¨ï¼Œå®ç°ç©ºé—´ä¼˜åŒ–

å› æ­¤åŠ¨æ€è§„åˆ’ä¸è®°å¿†åŒ–æœç´¢ç›¸å	çœç•¥å›æº¯å’Œé€’å½’

```java
/* çˆ¬æ¥¼æ¢¯ï¼šåŠ¨æ€è§„åˆ’ */
int climbingStairsDP(int n) {
    if (n == 1 || n == 2)
        return n;
    // åˆå§‹åŒ– dp è¡¨ï¼Œç”¨äºå­˜å‚¨å­é—®é¢˜çš„è§£
    int[] dp = new int[n + 1];
    // åˆå§‹çŠ¶æ€ï¼šé¢„è®¾æœ€å°å­é—®é¢˜çš„è§£
    dp[1] = 1;
    dp[2] = 2;
    // çŠ¶æ€è½¬ç§»ï¼šä»è¾ƒå°å­é—®é¢˜é€æ­¥æ±‚è§£è¾ƒå¤§å­é—®é¢˜
    for (int i = 3; i <= n; i++) {
        dp[i] = dp[i - 1] + dp[i - 2];
    }
    return dp[n];
}


// è¿™é“é¢˜å…¶å®å’Œæ–æ³¢é‚£å¥‘æ•°åˆ—æœ¬è´¨ä¸€è‡´
// è¿™é‡Œå…¶å®ä¸è¦dpä¹Ÿè¡Œï¼Œä½†ä¸ºäº†ä½“ç°åŠ¨æ€è§„åˆ’æ€æƒ³ï¼Œæ²¡æœ‰ä¼˜åŒ–
// ä»¥åçš„åŠ¨æ€è§„åˆ’ï¼Œåƒè¿™ç§æŸä¸ªçŠ¶æ€åªå’Œå‰é¢æœ‰é™ä¸ªçŠ¶æ€ç›¸å…³ï¼Œå¯ä»¥ä¸è¦dp
```



åŠ¨æ€è§„åˆ’çš„å¸¸ç”¨æœ¯è¯­

- å°†æ•°ç»„ `dp` ç§°ä¸º dp è¡¨ï¼Œdp[i] è¡¨ç¤ºçŠ¶æ€ i å¯¹åº”å­é—®é¢˜çš„è§£ã€‚
- å°†æœ€å°å­é—®é¢˜å¯¹åº”çš„çŠ¶æ€ï¼ˆç¬¬ 1 é˜¶å’Œç¬¬ 2 é˜¶æ¥¼æ¢¯ï¼‰ç§°ä¸ºåˆå§‹çŠ¶æ€ã€‚
- å°†é€’æ¨å…¬å¼ dp[i]=dp[iâˆ’1]+dp[iâˆ’2] ç§°ä¸ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚

å®ƒèµ·åˆ°äº†ä¸è®°å¿†åŒ–æœç´¢ä¸­æ•°ç»„ `mem` ç›¸åŒçš„è®°å½•ä½œç”¨















**åˆ†æ²»ã€å›æº¯ã€åŠ¨æ€è§„åˆ’	åŒºåˆ†**

3è€…æœ¬èº«å°±æœ‰å¾ˆå¤šé‡åˆçš„åœ°æ–¹

å…³é”®åŒºåˆ«ï¼š

åˆ†æ²»ä¸æ–­é€’å½’åˆ†è§£é—®é¢˜ï¼Œå¹¶åœ¨å›æº¯ä¸­åˆå¹¶é—®é¢˜çš„è§£  å­é—®é¢˜ç›¸äº’ç‹¬ç«‹

**å…¸å‹åº”ç”¨**ï¼š
æ’åºï¼ˆå½’å¹¶æ’åºã€å¿«é€Ÿæ’åºï¼‰ã€æœç´¢ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰ã€çŸ©é˜µä¹˜æ³•ï¼ˆStrassen ç®—æ³•ï¼‰

å›æº¯å…³é”®åœ¨äº ç©·ä¸¾	åœ¨ç©·ä¸¾è¿‡ç¨‹ä¸­ å°è¯•ã€å›é€€ã€å‰ªæ	é—®é¢˜çš„è§£ç”±è¿™ä¸€ç³»åˆ—å†³ç­–ç»„æˆ

**å…¸å‹åº”ç”¨**ï¼š
æ–æ³¢é‚£å¥‘æ•°åˆ—ã€èƒŒåŒ…é—®é¢˜ã€æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLCSï¼‰ã€æœ€çŸ­è·¯å¾„é—®é¢˜

åŠ¨æ€è§„åˆ’ ä¸éœ€è¦é€’å½’ï¼Œå¦‚æœé€’å½’æ˜¯è‡ªé¡¶å‘åº•ï¼Œé‚£åŠ¨æ€è§„åˆ’å°±æ˜¯è‡ªåº•å‘é¡¶ï¼Œ å­é—®é¢˜å­˜åœ¨é‡å ï¼Œéœ€è¦è®°å¿†åŒ–å­˜å‚¨æ¥å»é‡

**å…¸å‹åº”ç”¨**ï¼š
å…«çš‡åé—®é¢˜ã€æ•°ç‹¬æ±‚è§£ã€å­é›†å’Œé—®é¢˜ã€å…¨æ’åˆ—ç”Ÿæˆ

â€‹	



åŠ¨æ€è§„åˆ’çš„ç‰¹æ€§ï¼šé‡å å­é—®é¢˜ã€æœ€ä¼˜å­ç»“æ„ã€æ— åæ•ˆæ€§





â€‹	`æœ€ä¼˜å­ç»“æ„`

åŸé—®é¢˜æœ€ä¼˜è§£æ¥è‡ªå­é—®é¢˜æœ€ä¼˜è§£

â€‹	`æ— åæ•ˆæ€§`

å½“å‰çŠ¶æ€ä»…ä¸è¿‡å»æœ‰å…³ï¼Œä¸ä¼šå› æœªæ¥çš„å†³ç­–è€Œæ”¹å˜



æ— åæ•ˆæ€§ä¸å­é—®é¢˜ç›¸äº’ç‹¬ç«‹ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå­é—®é¢˜æ˜¯è§£å†³ä¸€ä¸ªå­é—®é¢˜ä¸ä¼šå½±å“å¦ä¸€ä¸ªå­é—®é¢˜çš„è§£





**ä¿®æ”¹åŸé—®é¢˜ï¼Œä½“ç°åŠ¨æ€è§„åˆ’ç‰¹æ€§**

ä¿®æ”¹åŸé—®é¢˜ï¼Œä½“ç°æœ€ä¼˜å­ç»“æ„

![image-20250331205045103](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250331205045103.png)

è®¾ dp[i] ä¸ºçˆ¬åˆ°ç¬¬ i é˜¶ç´¯è®¡ä»˜å‡ºçš„ä»£ä»·ï¼Œç”±äºç¬¬ i é˜¶åªå¯èƒ½ä» iâˆ’1 é˜¶æˆ– iâˆ’2 é˜¶èµ°æ¥ï¼Œå› æ­¤ dp[i] åªå¯èƒ½ç­‰äº dp[iâˆ’1]+cost[i] æˆ– dp[iâˆ’2]+cost[i] ã€‚ä¸ºäº†å°½å¯èƒ½å‡å°‘ä»£ä»·ï¼Œæˆ‘ä»¬åº”è¯¥é€‰æ‹©ä¸¤è€…ä¸­è¾ƒå°çš„é‚£ä¸€ä¸ª

```java
package TestField;

import java.util.*;

public class Main {

	/* çˆ¬æ¥¼æ¢¯ï¼šåŠ¨æ€è§„åˆ’ */
	static int climb(int[] cost) {
		int n = cost.length - 1;
        // åªæœ‰1é˜¶æˆ–2é˜¶
		if(n == 1 || n == 2)
			return cost[n];
		int a = cost[1], b = cost[2];
		for(int i = 3; i <=n; ++i) {
			int tmp = b;
			b = Math.min(a, tmp) + cost[i];
			a = tmp;
            /*ä¸€å¼€å§‹a=1,b=2ã€‚éšç€å‘å±•ï¼Œbä¸æ–­ä¸Šå‡1é˜¶ï¼Œaä¹Ÿä¸Šå‡1é˜¶ï¼Œä¹Ÿå°±æˆäº†åŸæ¥çš„bé˜¶
            */
		}
        // bå­˜å‚¨äº†åˆ°è¾¾ç»ˆç‚¹çš„æ¶ˆè€—
		return b;
	}

	public static void main(String[] args) {

		// æ¯é˜¶æ¥¼æ¢¯çš„æ¶ˆè€—
		int[] cost = {1,4,5,7,8,9,3};
		System.out.println(climb(cost) + " ");
	}
}
```





çº¦æŸåŸé—®é¢˜ï¼Œå¤±å»  æ— åæ•ˆæ€§

![image-20250401112723837](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250401112723837.png)

è¿™æ—¶å€™ åŠ¨æ€è§„åˆ’ éœ€è¦ç»“åˆ è®°å¿†åŒ–æœç´¢çš„ä¼˜ç‚¹ï¼šè®°å½•å­é—®é¢˜è§£	

**çŠ¶æ€ [i,j] è¡¨ç¤ºå¤„åœ¨ç¬¬ i é˜¶å¹¶ä¸”ä¸Šä¸€è½®è·³äº† j é˜¶**ï¼Œå…¶ä¸­ jâˆˆ{1,2} ã€‚æ­¤çŠ¶æ€å®šä¹‰æœ‰æ•ˆåœ°åŒºåˆ†äº†ä¸Šä¸€è½®è·³äº† 1 é˜¶è¿˜æ˜¯ 2 é˜¶

```java

package TestField;

import java.util.*;

public class Main {

	/* çˆ¬æ¥¼æ¢¯ï¼šåŠ¨æ€è§„åˆ’ */
	static int climb(int n) {
		
		if(n == 1 || n == 2)
			return 1;
		// éœ€è¦åŒ…æ‹¬næœ¬èº«ã€2ï¼Œç”±äºæ•°ç»„ç‰¹æ€§ï¼Œæ‰€ä»¥å†™æˆè¿™æ ·
		int[][] dp = new int[n + 1][2 + 1];
		
		// è®¾ç½®åŸºæœ¬å€¼çŠ¶æ€
		dp[1][1] = 1; 
		dp[1][2] = 0;//ä¸å­˜åœ¨
		dp[2][1] = 0;//å—çº¦æŸï¼Œä¸èƒ½å®ç°
		dp[2][2] = 1;
		
		for(int i = 3; i <= n; ++i) {
			dp[i][1] = dp[i - 1][2];
            // è¿™é‡Œè¦æ³¨æ„ï¼Œå› ä¸ºæ˜¯è·³2é˜¶è¿‡æ¥çš„ï¼Œå®é™…æ˜¯ä»i-2ä½ç½®è¿‡æ¥çš„
			dp[i][2] = dp[i - 2][1] + dp[i - 2][2];
		}
		
		return dp[n][1] + dp[n][2];
		
	}
	

	public static void main(String[] args) {

		// æ¯é˜¶æ¥¼æ¢¯çš„æ¶ˆè€—
		int n = 9;
		System.out.println(climb(n) + " ");
	}
}
```



ä¸Šé¢çš„åªéœ€è¦è€ƒè™‘å‰1ä¸ªçŠ¶æ€ï¼Œæ‰€ä»¥é€šè¿‡æ‰©å±•çŠ¶æ€å®šä¹‰ï¼Œé—®é¢˜é‡æ–°æ»¡è¶³æ— åæ•ˆæ€§

ä½†å¦‚æœä¸æ­¢è€ƒè™‘1ä¸ªçŠ¶æ€

![image-20250401115515591](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250401115515591.png)

æ¯æ¬¡è·³è·ƒéƒ½ä¾èµ–è¿‡å»æ‰€æœ‰çŠ¶æ€ï¼ŒåŠ¨æ€è§„åˆ’éš¾ä»¥è§£å†³



æ€»ç»“æ¥è¯´ï¼Œè‹¥é—®é¢˜èƒ½è¢«åˆ†è§£ä¸ºå¯é‡å¤è®¡ç®—çš„å­é—®é¢˜ï¼Œä¸”å­é—®é¢˜çš„æœ€ä¼˜è§£å¯ç»„åˆæˆåŸé—®é¢˜çš„æœ€ä¼˜è§£ï¼Œåˆ™åŠ¨æ€è§„åˆ’æ˜¯åˆé€‚çš„é€‰æ‹©ã€‚å®ƒé€šè¿‡å­˜å‚¨ä¸­é—´ç»“æœï¼ˆè®°å¿†åŒ–æˆ–è¡¨æ ¼ï¼‰å’Œ è‡ªåº•å‘é¡¶çš„è®¾è®¡  æ˜¾è‘—æå‡æ•ˆç‡ï¼Œé¿å…é€’å½’ä¸­çš„æŒ‡æ•°çº§æ—¶é—´å¤æ‚åº¦ã€‚

ä½†å¦‚æœå­é—®é¢˜**ä¸æ»¡è¶³**æ— åæ•ˆæ€§ï¼Œå¯å°è¯•æ‰©å±•çŠ¶æ€å®šä¹‰è§£å†³

åŠ¨æ€è§„åˆ’ä¸é€‚åˆ åæ•ˆæ€§ä¸¥é‡çš„é—®é¢˜



é™¤äº†ä¸Šè¿°ï¼Œè¿˜æœ‰ä¸€äº›åˆ¤æ–­æ˜¯ä¸æ˜¯åŠ¨æ€è§„åˆ’é—®é¢˜çš„åŠ å‡é¡¹

â€œåŠ åˆ†é¡¹â€

- é—®é¢˜åŒ…å«æœ€å¤§ï¼ˆå°ï¼‰æˆ–æœ€å¤šï¼ˆå°‘ï¼‰ç­‰æœ€ä¼˜åŒ–æè¿°
- é—®é¢˜çš„çŠ¶æ€èƒ½å¤Ÿä½¿ç”¨ä¸€ä¸ªåˆ—è¡¨ã€å¤šç»´çŸ©é˜µæˆ–æ ‘æ¥è¡¨ç¤ºï¼Œå¹¶ä¸”ä¸€ä¸ªçŠ¶æ€ä¸å…¶å‘¨å›´çš„çŠ¶æ€å­˜åœ¨é€’æ¨å…³ç³»

â€œå‡åˆ†é¡¹â€

- é—®é¢˜çš„ç›®æ ‡æ˜¯æ‰¾å‡ºæ‰€æœ‰å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œä¸æ˜¯æ‰¾å‡ºæœ€ä¼˜è§£
- é—®é¢˜æè¿°ä¸­æœ‰æ˜æ˜¾çš„æ’åˆ—ç»„åˆçš„ç‰¹å¾ï¼Œéœ€è¦è¿”å›å…·ä½“çš„å¤šä¸ªæ–¹æ¡ˆ





åŠ¨æ€è§„åˆ’ä¸€èˆ¬æ±‚è§£æ­¥éª¤

æè¿°å†³ç­–ï¼Œå®šä¹‰çŠ¶æ€ï¼Œå»ºç«‹ dp è¡¨ï¼Œæ¨å¯¼çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œç¡®å®šè¾¹ç•Œæ¡ä»¶ç­‰

![image-20250401122627184](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250401122627184.png)







#### æœ€é•¿å…¬å…±å­åºåˆ—-LCS



#### æœ€é•¿ä¸Šå‡å­åºåˆ—-LIS



















### è´ªå¿ƒ

ä¸æ–­åšå‡ºå½“ä¸‹æœ€åˆ©çš„é€‰æ‹©

ä¸æ–­å±€éƒ¨æœ€å¥½



- åŠ¨æ€è§„åˆ’ä¼šæ ¹æ®ä¹‹å‰é˜¶æ®µçš„æ‰€æœ‰å†³ç­–æ¥è€ƒè™‘å½“å‰å†³ç­–ï¼Œå¹¶ä½¿ç”¨è¿‡å»å­é—®é¢˜çš„è§£æ¥æ„å»ºå½“å‰å­é—®é¢˜çš„è§£ã€‚ï¼ˆç»éªŒï¼‰
- è´ªå¿ƒç®—æ³•ä¸ä¼šè€ƒè™‘è¿‡å»çš„å†³ç­–ï¼Œè€Œæ˜¯ä¸€è·¯å‘å‰åœ°è¿›è¡Œè´ªå¿ƒé€‰æ‹©ï¼Œä¸æ–­ç¼©å°é—®é¢˜èŒƒå›´ï¼Œç›´è‡³é—®é¢˜è¢«è§£å†³ã€‚ï¼ˆçœ¼å‰ï¼‰









### ç´ æ•°

ç´ æ•°æ˜¯å¤§äº1ã€é™¤äº†1å’Œæœ¬èº«æ²¡æœ‰ä»»ä½•å› å­çš„è‡ªç„¶æ•°



#### è¯•é™¤æ³•	ä¸€ä¸ªä¸€ä¸ªå› å­ç®—çš„å°±ä¸è¯´äº†



#### `æ±‚ç´ æ•°çš„å‡ ç§æ–¹æ³•ï¼š`

åˆ¤æ–­å•ä¸ªæ•°å­—æ˜¯å¦ä¸ºç´ æ•°
è¯•é™¤æ³•ï¼ˆç©·ä¸¾æ³•ï¼‰
ä¼˜åŒ–æ–¹æ³•ä¸€ï¼šèŒƒå›´ç¼©å°åˆ°n/2ï¼ŒåŸå› æ˜¯åˆæ•°å› å­èŒƒå›´ä¸º[2ï¼Œn/2]
ä¼˜åŒ–æ–¹æ³•äºŒï¼šä½¿ç”¨å¥‡å¶æ•°æ€§è´¨ä¼˜åŒ–ï¼ŒåŸå› æ˜¯ç´ æ•°æ˜¯å¥‡æ•°ï¼Œå¥‡æ•°ä¸èƒ½è¢«2çš„æ•´æ•°å€(å¶æ•°)æ•´é™¤
ä¼˜åŒ–æ–¹æ³•ä¸‰ï¼šä¸Šé¢ä¸¤ç§æ–¹æ³•ç»“åˆ
ä¼˜åŒ–åˆ°sqrt(n)çš„è¯•é™¤æ³•ï¼ŒåŸå› æ˜¯å› å­æˆå¯¹ä¸”åˆ†å¸ƒåœ¨sqrt(n)ä¸¤ä¾§ï¼Œæ£€æµ‹ä¸€ä¾§å³å¯
ä¼˜åŒ–æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¥‡å¶æ€§è´¨ä¼˜åŒ–ï¼ŒåŸå› ä¸é‡å¤
ç­›é€‰åŒºé—´èŒƒå›´å†…çš„ç´ æ•°
åŸƒæ°ç­›
å¼•å…¥ä¸­ï¼Œåˆ©ç”¨ä»»ä½•æ•°å­—çš„å€æ•°éƒ½ä¸æ˜¯ç´ æ•°çš„æ€§è´¨
åŸƒæ°ç­›ï¼Œåªå¯¹ç´ æ•°è¿›è¡Œå€å¢ï¼Œåˆ©ç”¨å”¯ä¸€åˆ†è§£å®šç†ï¼Œåˆæ•°å¿…ç„¶å¯ä»¥åˆ†è§£å‡ºç´ å› å­
ä¼˜åŒ–æ–¹æ³•ä¸€ï¼šå€å¢ä» i å¼€å§‹
ä¼˜åŒ–æ–¹æ³•äºŒï¼šåªå¯¹å¥‡æ•°è¿›è¡Œç´ æ•°åˆ¤å®šï¼Œä»¥ä¸ºç´ æ•°ä¸€å®šæ˜¯å¥‡æ•°
ä¼˜åŒ–æ–¹æ³•ä¸‰ï¼šå¼€å¹³æ–¹ä¼˜åŒ–ï¼ŒåŒæ ·æ˜¯å› ä¸ºæ•°å­—çš„å› å­æˆå¯¹å‡ºç°ä¸”åˆ†å¸ƒåœ¨sqrt(n)ä¸¤ä¾§
æ¬§æ‹‰ç­›
1.
è¿™é‡Œæœ‰å¤šç§ä¼˜åŒ–æ–¹æ³•ï¼Œæœ‰çš„ç”šè‡³æ˜¯å¤šç§ä¼˜åŒ–æ–¹æ³•å¤åˆä½¿ç”¨ã€‚ä½†åœ¨å¤åˆä½¿ç”¨å‰ï¼Œéœ€è¦å…ˆåˆ¤æ–­ä¸€ä¸‹è¿™æ ·åšæ˜¯å¦ä¼šå½±å“ç¨‹åºçš„æ­£ç¡®æ€§ã€‚





#### ç¼©å°æŸ¥æ‰¾èŒƒå›´

ä¸€ä¸ªæ•°å­—xæœ‰å› å­a,bï¼Œå¯ä»¥å†™æˆx=a*bçš„å½¢å¼ã€‚

aå’Œbæ˜¯ä¸€ç§è´Ÿç›¸å…³çš„å…³ç³»ï¼Œä¸ä¼šåŒæ—¶å˜å¤§æˆ–è€…å˜å°ã€‚å½“aæœ€å°ä¸º2æ—¶ï¼Œbæœ€å¤§ä¸ºx/2ã€‚

åä¹‹äº¦ç„¶ã€‚å› æ­¤ï¼Œå¯ä»¥æ¨æ–­å‡ºxå¦‚æœæœ‰å…¶ä»–å› å­ï¼Œé‚£ä¹ˆè¿™ä¸ªå› å­ä¸€å®šæ˜¯åœ¨[2ï¼Œx/2]èŒƒå›´å†…ã€‚åŸºæœ¬åŸç†å’Œä¸Šé¢ä¸€è‡´ï¼Œéƒ½æ˜¯è¯•é™¤æ³•ã€‚åœ¨æ–°çš„èŒƒå›´å†…å¦‚æœæ²¡æœ‰å¯ä»¥æ•´é™¤çš„æ•°å­—ï¼Œé‚£ä¹ˆå°±è¯´æ˜næ²¡æœ‰å…¶ä»–å› å­ï¼Œè¯´æ˜næ˜¯ç´ æ•°ã€‚



```java
#include<stdio.h>

int IsPrime(int n)
{
    int i,m;
    if(n<2)
        return 0;
    else
    {
        m=n/2;//å…¶ä»–ä»£ç éƒ½æ²¡æœ‰å˜ï¼Œåªæ˜¯è¿™é‡ŒèŒƒå›´å˜åŠ¨äº†ä¸€ä¸‹
        for(i=2;i<=m;i++)//è¿™é‡Œåº”è¯¥å–ç­‰å·ï¼Œä¿è¯åŒºé—´å³ä¾§å¤§äºç­‰äºå·¦ä¾§ã€‚ä¸ç„¶å¯èƒ½ä¼šé€ æˆ4çš„è¯¯åˆ¤
        {//2å’Œ3ä¸èƒ½ä¿è¯åŒºé—´å³ä¾§å¤§äºå·¦ä¾§ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæ•°å­—æ˜¯ç´ æ•°ï¼Œå› æ­¤æ²¡æœ‰å…³ç³»ã€‚
            if(n%i==0)
                return 0;
        }
        return 1;
    }
}

int main()//ä¸»å‡½æ•°ä¸å˜
{
    int n;
    printf("è¯·è¾“å…¥è¦æ£€éªŒçš„æ•°å­—\n");
    while(scanf("%d",&n)!=EOF)
    {
        if(IsPrime(n)==1)
            printf("%dæ˜¯ç´ æ•°\n\n",n);
        else
            printf("%dä¸æ˜¯ç´ æ•°\n\n",n);
    }
    return 0;
}


```





#### ä»æ€§è´¨å…¥æ‰‹



é™¤äº†2ï¼Œæ²¡æœ‰å¶ç´ æ•°äº†

é‚£åªå¯¹å¥‡æ•°è¿›è¡Œç­›é€‰å°±è¡Œäº†



å†åŠ ä¸Šç¼©å°æŸ¥æ‰¾èŒƒå›´çš„æ–¹æ³•ï¼Œæé€Ÿ

```c
#include<stdio.h>

int IsPrime(int n)
{
    int i,m;
    if(n<2||(n!=2&&n%2==0))//å¦‚æœnå°äº2æˆ–è€…næ˜¯ä¸ç­‰äº2çš„å¶æ•°ï¼Œåˆ™nä¸æ˜¯ç´ æ•°
        return 0;//ç›´æ¥è¿”å›0
    else
    {//åˆ°è¿™é‡Œçš„néƒ½æ˜¯å¥‡æ•°
        m=n/2;//åŠ äº†è¿™ä¸€æ­¥
        for(i=3;i<m;i+=2)//èŒƒå›´å·¦ç«¯ä¸å–2ï¼Œå› æ­¤å³ç«¯ä¸å–m=n/2
        {
            if(n%i==0)
                return 0;
        }
        return 1;
    }
}

int main()//ä¸»å‡½æ•°ä¸å˜
{
    int n;
    printf("è¯·è¾“å…¥è¦æ£€éªŒçš„æ•°å­—\n");
    while(scanf("%d",&n)!=EOF)
    {
        if(IsPrime(n)==1)
            printf("%dæ˜¯ç´ æ•°\n\n",n);
        else
            printf("%dä¸æ˜¯ç´ æ•°\n\n",n);
    }
    return 0;
}

// æ—¶é—´å¤æ‚åº¦ä»è¯•é™¤æ³•çš„O(n)é™åˆ°äº†O(n/4)
```



å› å­è™½ç„¶éƒ½æ˜¯åœ¨[2ï¼Œnum/2]è¿™ä¸ªèŒƒå›´å†…ï¼Œä½†å› å­åœ¨æ•°è½´ä¸Šï¼Œæ€»æ˜¯ä¸€ä¸ªå‰ä¸€ä¸ªåã€‚åœ¨æ­¤èŒƒå›´å†…ï¼Œå¦‚æœå‰åŠéƒ¨åˆ†éƒ½æ²¡æœ‰æ‰¾åˆ°å› å­ï¼Œé‚£ä¹ˆå¿…ç„¶ååŠéƒ¨åˆ†çš„æ•°å­—ä¹Ÿä¸æ˜¯å› å­ã€‚é‚£ä¹ˆè¿™ä¸ªå‰åçš„åˆ†ç•Œçº¿åœ¨å“ªé‡Œå‘¢ï¼Ÿ

è¿™ä¸ªåˆ†ç•Œçº¿å°±æ˜¯æ ¹å·numï¼Œä¸‹é¢ç”¨sqrt(num)è¡¨ç¤ºã€‚



æ•°å­—çš„å› å­æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯æˆå¯¹å‡ºç°çš„ï¼ˆä¸¤ä¸ªæˆå¯¹çš„å› å­ç›¸ä¹˜æ‰ç­‰äºåŸæ¥çš„æ•°å­—ï¼‰ï¼Œå¹¶ä¸”æˆå¯¹å‡ºç°çš„å› å­åˆ†å¸ƒåœ¨sqrt(n)çš„ä¸¤ä¾§

ç®€å•è¯æ˜ä¸€ä¸‹ä¸ºä»€ä¹ˆä¸€å®šåˆ†å¸ƒåœ¨sqrt(n)ä¸¤ä¾§ï¼šå‡è®¾k=sqrt(n)ï¼Œé‚£ä¹ˆk*k=n

å¦‚æœæˆå¯¹çš„ä¸¤ä¸ªå› å­ä¸åˆ†å¸ƒåœ¨kçš„ä¸¤ä¾§ï¼Œæ¯”å¦‚åŒæ—¶å¤§äºkæˆ–è€…åŒæ—¶å°äºkã€‚å› ä¸ºk*k=nï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæˆå¯¹å› å­ç›¸ä¹˜çš„ç»“æœè¦ä¹ˆæ˜¯å¤§äºnï¼Œè¦ä¹ˆæ˜¯å°äºnã€‚æ—¢ç„¶ç›¸ä¹˜ç»“æœéƒ½ä¸æ˜¯nï¼Œé‚£ä¹ˆå°±ä¸æ˜¯nçš„å› å­ï¼Œåˆ™ä¸æœ€å¼€å§‹çš„å‡è®¾ç›¸æ‚–ã€‚

å¾—åˆ°ä¸Šé¢çš„æ€§è´¨ä¹‹åï¼Œå°±å¯ä»¥å¯¹æœ´ç´ ç®—æ³•å†è¿›è¡Œä¼˜åŒ–ã€‚

å› ä¸ºå› å­æ˜¯æˆå¯¹å‡ºç°ï¼Œå¹¶ä¸”åˆ†å¸ƒåœ¨sqrt(n)ä¸¤ä¾§ã€‚é‚£ä¹ˆåˆ¤æ–­æ•°å­—æœ‰æ— å…¶ä»–å› å­çš„æ—¶å€™ï¼Œåˆ¤æ–­èŒƒå›´å¯ä»¥ä»[2ï¼Œn-1]ç¼©å°åˆ°[ 2ï¼Œsqrt(n) ]ã€‚ï¼ˆå¦‚æœ[2ï¼Œ sqrt(n) ]æ²¡æœ‰å› å­ï¼Œé‚£ä¹ˆ[ sqrt(n) ï¼Œ n-1]ä¹Ÿä¸ä¼šæœ‰å› å­ã€‚åŸå› å°±æ˜¯å‰é¢æåˆ°çš„ï¼Œå› å­æ˜¯æˆå¯¹å‡ºç°çš„ï¼‰



```java
// å¯¹æœ´ç´ ç®—æ³•çš„ä¼˜åŒ–
#include<stdio.h>
#include<math.h>//sqrtçš„å¤´æ–‡ä»¶

int IsPrime(int n)
{
    int i,m;
    if(n<2)
        return 0;
    else
    {
        m=(int)sqrt((double)n)//sqrtå‡½æ•°ä¸­å½¢å‚ç±»å‹æ˜¯doubleç±»å‹ï¼Œè¿™é‡Œè¿›è¡Œä¸€ä¸‹è½¬æ¢é˜²æ­¢å‡ºé”™
        for(i=2;i<=m;i++)//ç¼©å°åˆ¤æ–­èŒƒå›´ï¼Œåˆ¤æ–­2-sqrt(n)èŒƒå›´å†…æœ‰æ— å…¶ä»–å› å­å³å¯
        {//æ•°å­—çš„å› å­æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œä¸”åˆ†å¸ƒåœ¨sqrt(n)ä¸¤ä¾§ã€‚å› æ­¤åˆ¤æ–­ä¸€ä¾§æ²¡æœ‰å› å­ï¼Œå°±å¯çŸ¥å¦ä¸€ä¾§ä¹Ÿæ²¡æœ‰
            if(n%i==0)//å…¶ä»–æ­¥éª¤ä¸å˜
                return 0;
        }
        return 1;
    }
}

int main()//ä¸»å‡½æ•°ä¸å˜
{
    int n;

    printf("è¯·è¾“å…¥è¦æ£€éªŒçš„æ•°å­—\n");
    while(scanf("%d",&n)!=EOF)
    {
        if(IsPrime(n)==1)
            printf("%dæ˜¯è´¨æ•°\n\n",n);
        else
            printf("%dä¸æ˜¯è´¨æ•°\n\n",n);
    }
    return 0;
}




// ä¸ä½¿ç”¨sqrtå‡½æ•°
int IsPrime(int n)
{
    int i;
    if(n<2)
        return 0;
    else
    {//å‡½æ•°å…¶ä»–éƒ¨åˆ†ä¸å˜
        for(i=2;i*i<=n;i++)//è¿™é‡Œç”¨iæ›¿ä»£äº†å¼€æ ¹å·çš„è¿‡ç¨‹
        {//è¿™é‡Œåº”è¯¥å–ç­‰å·ï¼Œéœ€è¦å–åˆ°i=sqrt(n)è¿™ä¸ªå€¼
            if(n%i==0)
                return 0;
        }
        return 1;
    }
}


```





è¿™ä¸ªæ€§è´¨ä¹Ÿå¯ä»¥ç”¨åˆ°å¥‡ç´ æ•°

```java
int IsPrime(int n)
{
    int i;
    if(n<2||(n!=2&&n%2==0))//nå°äº2æˆ–è€…næ˜¯ä¸ç­‰äº2çš„å¶æ•°ï¼Œå¿…ç„¶éç´ æ•°
        return 0;
    else//è¿™é‡Œnéƒ½æ˜¯å¥‡æ•°
    {//è¿™é‡Œä½¿ç”¨ä¸Šé¢åˆšæåˆ°çš„å†™æ³•ï¼Œç”¨iä»£æ›¿å¼€æ ¹å·çš„è¿‡ç¨‹
        for(i=3;i*i<=n;i+=2)//è¿™é‡Œæ³¨æ„å¾ªç¯æ¡ä»¶
        {//2å¿…ç„¶ä¸æ˜¯å› å­ï¼Œä»3å¼€å§‹ï¼Œæ¯æ¬¡é€’å¢2ï¼Œç›´åˆ°sqrt(n)ä¸ºæ­¢
            if(n%i==0)
                return 0;
        }
        return 1;
    }
}

```





#### ç´ æ•°ç­›

ä¹‹å‰çš„ç®—æ³•éƒ½æ˜¯æŠŠæ•°å­—æ‹†åˆ†ä¸ºå› å­ç›¸ä¹˜çš„å½¢å¼ã€‚å¯¹èŒƒå›´åŒºé—´å†…çš„æ•°å­—è¿›è¡Œåˆ¤æ–­æ—¶ï¼Œæ¯ä¸ªæ•°å­—éƒ½è¦æ‹†ã€‚



**å¯ä»¥åå‘æ„é€ **

æ ¹æ®åˆæ•°çš„æ€§è´¨ï¼Œæ‰¾åˆæ•°

äº‹å…ˆä¸çŸ¥é“ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•°ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡åˆ›é€ åˆæ•°ï¼ˆéç´ æ•°ï¼‰è¾¾åˆ°æ‰¾å‡ºç´ æ•°çš„ç›®çš„

æ•°å­—å¯ä»¥åˆ’åˆ†ä¸ºç´ æ•°å’Œåˆæ•°ä¸¤å¤§ç±»ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬æŠŠæŸä¸€èŒƒå›´å†…çš„åˆæ•°éƒ½æ ‡è®°å‡ºæ¥ï¼Œåˆ™å‰©ä¸‹çš„æ•°å­—å°±æ˜¯ç´ æ•°ã€‚

å¦‚ä½•æ„é€ åˆæ•°å‘¢ï¼Ÿåœ¨å¤§äº1çš„æ•°å­—ä¸­ä»»å–ä¸¤ä¸ªæ•°å­—aï¼Œbç›¸ä¹˜å³å¯ï¼Œè¿™æ ·å¾—åˆ°çš„ç»“æœcå¿…ç„¶æœ‰1ï¼Œaï¼Œbï¼Œcå››ä¸ªå› å­ï¼ˆå½“a=bæ—¶ä¸ºä¸‰ä¸ªå› å­ï¼‰é‚£ä¹ˆcå¿…ç„¶æ˜¯åˆæ•°



ç”¨ç®—æ³•æ¥è¯´å°±æ˜¯

æºæ•°æ®å®¹å™¨ï¼Œè®¿é—®æ•°ç»„

æ¯å¾—åˆ°1ä¸ªåˆæ•°å°±å¯¹å®ƒ åœ¨å¯»æ‰¾èŒƒå›´å†… è¿›è¡Œå€å¢æ“ä½œ

åŒæ—¶æ ‡è®°ä¸ºè®¿é—®è¿‡

ä¸€æ¬¡å°±å¯ä»¥å¾—åˆ°è‹¥å¹²ç»“æœ

æ²¡è¢«è®¿é—®è¿‡çš„å°±æ˜¯ç´ æ•°



```java
package TestField;

import java.io.*;
import java.util.*;

public class Main {

	static Scanner sc = new Scanner(System.in);

	public static void main(String[] args) {

		int a = sc.nextInt();
		int b = sc.nextInt();
		isPrime(a, b);
		sc.close();

	}

	public static void isPrime(int a, int b) {

		if (a < 2)
			return;

		boolean[] vis = new boolean[b + 1];
		vis[0] = vis[1] = true;
		// 01ä¸ç®—ï¼Œæ ‡è®°ä¸ºè®¿é—®è¿‡ 	å¯ä»¥ä¸å†™

		for (int i = 2; i * i <= b; ++i) {
			if (!vis[i]) {
				// ä¸éœ€è¦æ ‡è®°iã€‚å› ä¸ºiä»2å¼€å§‹ï¼Œ2ã€3æ˜¯ç´ æ•°ï¼Œåé¢çš„æ•°è¦ä¹ˆæ˜¯å®ƒä¿©çš„å€æ•°ï¼Œè¦ä¹ˆæ˜¯å®ƒä¿©å€æ•°çš„å€æ•°ï¼Œæ²¡æœ‰ä¾‹å¤–
				for (int j = i * i; j <= b; j += i) {
					vis[j] = true;
				}
			}

		}

		List<Integer> res = new ArrayList<>();
		for (int i = a; i <= b; ++i) {
			if (!vis[i])
				res.add(i);
		}
		
		for (int i = 0; i < res.size(); ++i)
			System.out.print(res.get(i) + " ");
	}

}
```



```c++
#include<stdio.h>
#include<string.h>//memsetå‡½æ•°çš„å¤´æ–‡ä»¶

//è®¾å®šä¸€ä¸ªå®ï¼Œå®šä¹‰æ•°ç»„å¤§å°
#define maxn 20010

int vis[maxn];//visç”¨æ¥åˆ¤æ–­æ•°å­—æ˜¯å¦è®¿é—®è¿‡
int prime[maxn];//primeç”¨æ¥å­˜å‚¨ç­›é€‰å‡ºæ¥çš„ç´ æ•°


int sieve(int n)
{
    int i,j,k;
    k=0;//iç”¨æ¥æ§åˆ¶é€ä¸ªè®¿é—®ï¼Œjç”¨æ¥ç¬¬äºŒè½®æ ‡è®°ï¼Œkç”¨æ¥æ ‡è®°primeæ•°ç»„ä½ç½®
    //è¿™é‡Œåœ¨å‡½æ•°ä¸­ç½®ä¸º0ï¼Œä¿è¯æ¯ä¸€æ¬¡å‡½æ•°è°ƒç”¨æ—¶éƒ½æ¸…ç©ºï¼Œä¸ä¼šå—åˆ°ä¸Šæ¬¡ä½¿ç”¨å®Œåçš„ç»“æœ
    //ç†è®ºä¸Šéœ€è¦è¿™æ ·åšï¼Œä½†æ˜¯åœ¨æ­¤ç¨‹åºä¸­å¯ä»¥çœç•¥ï¼Œå› ä¸ºæ•°å­—èŒƒå›´å½¼æ­¤ä¹‹é—´æ˜¯å­é›†çš„å…³ç³»ï¼Œè€ŒèŒƒå›´çš„æ”¹å˜ä¸ä¼šæ”¹å˜æ•°å­—çš„æ€§è´¨
    memset(vis,0,sizeof(int)*maxn);//å°†è®¿é—®æ•°ç»„æ¸…é›¶ã€‚å¯ä»¥ä½¿ç”¨shortæˆ–è€…C++çš„boolç±»å‹èŠ‚çœå†…å­˜ã€
    vis[0]=vis[1]=1;//å°†0å’Œ1æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œä¸æ ‡è®°å…¶å®ä¹Ÿå¯ä»¥ï¼Œå› ä¸ºæˆ‘ä»¬ç´ æ•°çš„è®¡æ•°æ˜¯ä»2å¼€å§‹
    for(i=2;i<=n;i++)//ä»æœ€å°çš„ç´ æ•°2å¼€å§‹ç­›é€‰ï¼Œ2ä»¥ä¸‹å°±æ²¡å¿…è¦ç­›é€‰
    {
        if(vis[i]==0)//è¿™ä¸ªæ•°æ˜¯ç›®å‰æœ€å°çš„ï¼Œä¸”æœªè¢«è®¿é—®è¿‡çš„
            prime[k++]=i;//å› æ­¤è¿™ä¸ªæ•°æ˜¯ç´ æ•°
        for(j=2;i*j<=n;j++)//jè¡¨ç¤ºå€æ•°ï¼Œä»ä¸¤å€å¼€å§‹å€å¢ï¼Œç›´åˆ°ä¸Šç•Œä¸ºæ­¢
            vis[i*j]=1;//å°†å€æ•°æ ‡è®°ä¸ºå·²è®¿é—®
    }
    return k;//è¿”å›èŒƒå›´å†…ç´ æ•°çš„ä¸ªæ•°
}

void print(int k)//æ‰“å°ç»“æœå‡½æ•°
{
    int i;
    for(i=0;i<k;i++)
    {
        printf("%5d ",prime[i]);//æ¯ä¸ªæ•°å­—å 5ä¸ªå®½åº¦ï¼Œå³å¯¹é½ï¼Œä¿æŒè¾“å‡ºç»“æœæ•´æ´
        if((i+1)%5==0)//æ¯äº”ä¸ªä¸ºä¸€ç»„æ¢è¡Œ
            printf("\n");
    }
    printf("\n\n");
}

int main()
{
    int n;//æ±‚nä»¥å†…çš„ç´ æ•°
    int k;//ä¿å­˜è¿”å›çš„ç´ æ•°ä¸ªæ•°
    while(scanf("%d",&n)!=EOF)
    {
        k=sieve(n);
        if(k==0)
            printf("(1-%d]èŒƒå›´å†…æ²¡æœ‰ç´ æ•°\n",n);
        else
            printf("(1-%d]èŒƒå›´å†…çš„ç´ æ•°æœ‰:\n",n);
        print(k);
    }
}


```

ä¸Šè¿°å­˜åœ¨é‡å¤æ ‡è®°çš„æƒ…å†µ

å¼•å…¥

å”¯ä¸€åˆ†è§£å®šä¹‰ï¼šä»»ä½•ä¸€ä¸ªå¤§äº 1 çš„è‡ªç„¶æ•°N, å¦‚æœ N ä¸ä¸ºç´ æ•°ï¼Œé‚£ä¹ˆ N å¯ä»¥å”¯ä¸€åˆ†è§£æˆæœ‰é™ä¸ªç´ æ•°çš„ä¹˜ç§¯

ä¹Ÿå°±æ˜¯è¯´åˆæ•°çš„å› å­ä¸€å®šæœ‰ç´ æ•°

æ¢æˆå¯¹ç´ æ•°è¿›è¡Œå€å¢ï¼Œæ ‡è®°ä¸ºtrueçš„å‡ä¸ºç´ æ•°

è¿™æ˜¯ğŸ‘‡åŸƒæ°ç­›

#### åŸƒæ°ç­›

```java
//åŸƒæ°ç´ æ•°ç­›å‡½æ•°
int Eratosthenes_sieve(int n)//è¿™é‡Œç”¨äº†è‹±æ–‡å…¨ç§°ï¼Œå¹³æ—¶ç”¨sieveç­‰å‘½åå°±å¥½
{
    int i,j,k;
    k=0;
    memset(vis,0,sizeof(int)*maxn);
    vis[0]=vis[1]=1;
    for(i=2;i<=n;i++)//ä»æœ€å°çš„ç´ æ•°2å¼€å§‹ç­›é€‰ï¼Œ2ä»¥ä¸‹å°±æ²¡å¿…è¦ç­›é€‰
    {
        if(vis[i]==0)//è¿™ä¸ªæ•°æ˜¯ç›®å‰æœ€å°çš„ï¼Œä¸”æœªè¢«è®¿é—®è¿‡çš„
        {
            prime[k++]=i;//å› æ­¤è¿™ä¸ªæ•°æ˜¯ç´ æ•°,å­˜å‚¨èµ·æ¥
            for(j=2;i*j<=n;j++)//è¿™é‡Œçš„æ”¹å˜å°±æ˜¯æŠŠæŸåæ”¾å…¥ifåˆ¤æ–­è¯­å¥ä¹‹å†…
                vis[i*j]=1;//åªå¯¹ç´ æ•°è¿›è¡Œå€å¢ç­›é€‰ï¼Œå…¶ä»–åŸºæœ¬ä¸å˜
        }
    }
    /*for(i=2;i<=n;i++)
    {
        if(vis[i]==0)
        // å’Œä¸Šæ–‡åŒºåˆ«ä»è¿™é‡Œå¼€å§‹äº†
            prime[k++]=i;
        for(j=2;i*j<=n;j++)
            vis[i*j]=1;
        // å°±æ˜¯åˆ¤æ–­ä¸ºç´ æ•°ï¼Œç”¨{}åŒ…è£¹èµ·æ¥
    }*/
    
    return k;//è¿”å›èŒƒå›´å†…ç´ æ•°çš„ä¸ªæ•°
}
```

ä½†åŸƒæ°ç­›ä»å­˜åœ¨é‡å¤æ ‡è®°æƒ…å†µ

â€‹	

â€‹	ä¼˜åŒ–æ–¹å¼ä¸€

è¿™æ˜¯å€å¢èµ·ç‚¹é€‰æ‹©çš„é—®é¢˜ï¼šå‡è®¾i = b, åˆ™æ•°å­—b å€å¢2å€ å’Œ æ•°å­—2 å€å¢bå€æ˜¯åŒä¸€æƒ…å†µ

æŠŠåŸƒæ°ç­›ä»2å¼€å§‹å€å¢æ”¹ä¸ºä»iå¼€å§‹å€å¢ï¼Œè§£å†³é‡å¤æ ‡è®°

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250327115641328.png" alt="image-20250327115641328" style="zoom: 67%;" />

```c++
//åŸƒæ°ç´ æ•°ç­›å‡½æ•°
int Eratosthenes_sieve(int n)
{
    int i,j,k;
    k=0;
    memset(vis,0,sizeof(int)*maxn);
    vis[0]=vis[1]=1;
    for(i=2;i<=n;i++)
    {
        if(vis[i]==0)
        {
            prime[k++]=i;
            for(j=i;i*j<=n;j++)//ä»…ä»…æ˜¯è¿™é‡Œï¼ŒæŠŠj=2æ”¹ä¸ºj=i
                vis[i*j]=1;
        }
    }
    return k;
}

```



â€‹	ä¼˜åŒ–æ–¹å¼äºŒ

åŠ ä¸Šä¹‹å‰è¯´çš„åªå¯¹å¥‡æ•°åˆ¤æ–­æ˜¯å¦ä¸ºç´ æ•°

```c++
//åŸƒæ°ç´ æ•°ç­›å‡½æ•°-å¥‡æ•°ä¼˜åŒ–ç‰ˆ
int Eratosthenes_sieve(int n)
{
    if(n<2)//ä¹‹å‰ä¸åŠ ä¸Šè¿™å¥ï¼Œæ˜¯å› ä¸ºå¯ä»¥é€šè¿‡å¾ªç¯æ¡ä»¶è¿›è¡Œåˆ¤å®š
        return 0;//ç°åœ¨å‰é¢æœ‰é¢„å¤„ç†ï¼Œéœ€è¦å…ˆåˆ¤æ–­
    int i,j,k;
    k=0;
    memset(vis,0,sizeof(int)*maxn);
    vis[0]=vis[1]=1;
    vis[2]=0;//è¿™æ­¥å¯ä»¥çœç•¥ï¼ŒåŠ ä¸Šåæ–¹ä¾¿ç†è§£
    prime[k++]=2;//è¿™æ­¥å¾ˆé‡è¦ï¼Œä¸èƒ½çœç•¥ï¼Œå®¹æ˜“å¿˜è®°
    for(i=3;i<=n;i+=2)//åªå¯¹å¥‡æ•°åˆ¤å®šï¼Œå› æ­¤ä»3å¼€å§‹ï¼Œæ­¥é•¿ä¸º2
    {
        vis[i+1]=1;//æŠŠå¶æ•°çš„æ ‡è®°è¡¥ä¸Š
        //è¿™é‡Œå­˜åœ¨å¤§äºnçš„é£é™©ï¼Œå› æ­¤éœ€è¦æŠŠæ•°ç»„å¼€å¤§ä¸€ç‚¹
        //å¦‚æœæ˜¯i-1ï¼Œåˆ™å½“nä¸ºå¶æ•°æ—¶ï¼Œnçš„æ ‡è®°ä¸èƒ½è¡¥ä¸Š
        if(vis[i]==0)
        {
            prime[k++]=i;
            for(j=i;i*j<=n;j++)//è¿™é‡ŒæŠŠj=2æ”¹ä¸ºj=i
                vis[i*j]=1;
        }
    }
    return k;
}
```



ç»§ç»­ä¼˜åŒ–ï¼ŒåŠ ä¸Šsqrt

```c++
//åŸƒæ°ç´ æ•°ç­›å‡½æ•°
int Eratosthenes_sieve(int n)
{
    if(n<2)
        return 0;
    int i,j,k;
    k=0;
    memset(vis,0,sizeof(int)*maxn);
    vis[0]=vis[1]=1;
    vis[2]=0;
    for(i=4;i<=n;i+=2)//è¿™é‡ŒæŠŠå¶æ•°å…¨éƒ¨æ ‡è®°ä¸º1ï¼Œéç´ æ•°
        vis[i]=1;

    for(i=3;i*i<=n;i+=2)//è¿™é‡Œåªæ˜¯æŠŠ i<=n æ”¹ä¸º i*i<=n  å®ç°sqrt()
    {
        if(vis[i]==0)//å¯¹ç´ æ•°è¿›è¡Œå€å¢
        {
            for(j=i;i*j<=n;j++)//è¿™é‡ŒæŠŠj=2æ”¹ä¸ºj=i
                vis[i*j]=1;
        }
    }

    //ä¸Šé¢çš„å¾ªç¯ï¼Œåªå¾ªç¯åˆ°sqrt(n),å› æ­¤è¦å­˜å‚¨èŒƒå›´å†…çš„ç´ æ•°ï¼Œéœ€è¦é‡å¤´éå†ä¸€é
    prime[k++]=2;
    for(i=3;i<=n;i+=2)//åªéå†å¥‡æ•°
    {
        if(vis[i]==0)
            prime[k++]=i;
    }
    return k;//è¿”å›ç´ æ•°çš„ä¸ªæ•°
}


```





#### æ¬§æ‹‰ç­›

é€šè¿‡ä¸Šé¢ç§ç§ä¼˜åŒ–ï¼ˆå¯¹ç´ å¥‡æ•°å€å¢ã€ä»2å¼€å§‹æ”¹æˆä»iå¼€å§‹ï¼Œsqrtâ€¦â€¦ï¼‰ï¼Œè§£å†³äº†é‡å¤å€å¢é—®é¢˜ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé‡å¤ç­›é™¤

æ¯”å¦‚è¯´12ï¼Œå¯èƒ½åœ¨2çš„æ—¶å€™è¢«ç­›é™¤ï¼Œå¯èƒ½åœ¨6çš„æ—¶å€™è¢«ç­›é™¤ã€‚é€šè¿‡ä¸Šé¢çš„ä¼˜åŒ–ä¹Ÿä¼šåœ¨3çš„æ—¶å€™è¢«ç­›é™¤ï¼Œåˆæ•°è¶Šå¤§å®ƒçš„ç´ å› å­è¶Šå¤šï¼Œåˆ™é‡å¤è¢«ç­›é™¤çš„æ¬¡æ•°å°±è¶Šå¤šã€‚èƒ½ä¸èƒ½åªç­›é™¤1æ¬¡ï¼Ÿåˆå› ä¸ºå¾ªç¯æ˜¯ä»å°åˆ°è¾¾å¾ªç¯ï¼Œè‡ªç„¶æƒ³åˆ°åœ¨æœ€å°ç´ å› å­å¤„ç­›é™¤ï¼Œååºå°±ä¸ç”¨åå¤ç­›é™¤äº†

è¿™æ˜¯æ¬§æ‹‰ç­›è¦å®ç°çš„

æ¬§æ‹‰ç­›çš„æ¡†æ¶å’ŒåŸƒæ°ç­›å¤§è‡´ç›¸åŒï¼ŒåŒºåˆ«ç‚¹åœ¨äºç¬¬äºŒå±‚å¾ªç¯å¯¹å€å¢è¿‡ç¨‹çš„æ“ä½œã€‚åŸƒæ°ç­›æ˜¯ï¼Œåªè¦æ˜¯ç´ æ•°å°±è¿›è¡Œå€å¢ã€‚è€Œæ¬§æ‹‰ç­›æ˜¯ç”¨  å½“å‰éå†çš„æ•°å­—å»ä¹˜ä»¥ç´ æ•°è¡¨ä¸­çš„ç´ æ•°ã€‚

é‡å¤ç­›é™¤ä¹Ÿç”¨ä¸Š ä¸Šè¿°ç§ç§ä¼˜åŒ–

â€‹	ç”¨ç´ æ•°å€å¢ï¼Œç´ æ•°å€å¢ä»ä»å¹³æ–¹å¼€å§‹

â€‹	æ¯”å¦‚ i å¾ªç¯åˆ°6ï¼Œå‰é¢æœ‰ç´ æ•°2,3,5ï¼Œè¿™ä¸‰ä¸ªç´ æ•°ä¼šä»¥2Ã—2ï¼Œ3Ã—3ï¼Œ5Ã—5çš„å¹³æ–¹æ–¹å¼å€å¢ï¼Œä¸ä¼šå‡ºç°2Ã—3ï¼Œ3Ã—2çš„æƒ…å†µ



å®ç°ç­›é€‰1æ¬¡ï¼š

æ¬§æ‹‰ç­›çš„æ ¸å¿ƒæ€æƒ³æ˜¯è®©æ¯ä¸ªåˆæ•°éƒ½è¢«å®ƒçš„æœ€å°è´¨å› æ•°ç­›é™¤ã€‚åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç”¨`i`éå†ä» 2 åˆ°`n`çš„æ‰€æœ‰æ•°ï¼Œå¯¹äºæ¯ä¸ª`i`ï¼Œæˆ‘ä»¬ç”¨å®ƒä¹˜ä»¥ä¹‹å‰æ‰¾åˆ°çš„ç´ æ•°`prime[j]`æ¥æ ‡è®°åˆæ•°ã€‚

å…³é”®è¯­å¥`if(i % prime[j] == 0) break;`

```java
//å…ˆçœ‹æ ¸å¿ƒä»£ç 
int Euler_sieve(int n)
{
    int i,j,k;
    k=0;//ä¿å­˜ç´ æ•°çš„ä¸ªæ•°
    memset(vis,0,sizeof(int)*maxn);//åˆå§‹åŒ–æ•°ç»„
    for(i=2;i<=n;i++)
    {
        if(vis[i]==0)//iæ˜¯ç´ æ•°ï¼Œåˆ™å­˜èµ·æ¥
            prime[k++]=i;
        for(j=0;j<k;j++)//è¿›è¡Œå€å¢ï¼Œç”¨iå»ä¹˜ä»¥iä¹‹å‰(åŒ…æ‹¬i)çš„ç´ æ•°
        {
            if(i*prime[j]>n)//å€å¢ç»“æœè¶…å‡ºèŒƒå›´ï¼Œé€€å‡º
                break;

            vis[ i*prime[j] ]=1;//å°†å€å¢ç»“æœè¿›è¡Œæ ‡è®°

            if(i%prime[j]==0)//iæ˜¯å‰é¢æŸä¸ªç´ æ•°çš„å€æ•°æ—¶ï¼Œä¹Ÿéœ€è¦é€€å‡º
                break;
        }
    }
    return k;
}
```

å½“`i % prime[j] == 0`æ—¶ï¼Œæ„å‘³ç€`prime[j]`æ˜¯`i`çš„ä¸€ä¸ªç´ å› æ•°ï¼Œå¹¶ä¸”ç”±äº`prime`æ•°ç»„æ˜¯æŒ‰ç´ æ•°ä»å°åˆ°å¤§æ’åˆ—çš„ï¼Œæ‰€ä»¥`prime[j]`æ˜¯`i`çš„æœ€å°è´¨å› æ•°ã€‚ä¸‹é¢è¯¦ç»†è§£é‡Šä¸ºä»€ä¹ˆæ­¤æ—¶è¦è·³å‡ºå†…å±‚å¾ªç¯ï¼š

å‡è®¾`i % prime[j] == 0`ï¼Œé‚£ä¹ˆå¯ä»¥è®¾`i = a * prime[j]`ï¼ˆå…¶ä¸­`a`æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼‰ã€‚æ­¤æ—¶æˆ‘ä»¬è€ƒè™‘`i * prime[j + 1]`ï¼Œå°†`i = a * prime[j]`ä»£å…¥å¯å¾—ï¼š

iÃ—prime[j+1]=*a*Ã—prime[j]Ã—prime[j+1]

è¿™è¡¨æ˜`i * prime[j + 1]`æ˜¯`prime[j]`çš„å€æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ`i * prime[j + 1]`è¿™ä¸ªåˆæ•°çš„æœ€å°è´¨å› æ•°æ˜¯`prime[j]`ã€‚

å½“æˆ‘ä»¬ç»§ç»­å¾€åéå†`i`æ—¶ï¼Œä¸€å®šä¼šé‡åˆ°ä¸€ä¸ªæ•°`x`ï¼Œä½¿å¾—`x * prime[j] = i * prime[j + 1]`ã€‚ä¾‹å¦‚ï¼Œå½“`i = 12`ï¼Œ`prime[j] = 2`ï¼Œ`prime[j + 1] = 3`æ—¶ï¼Œ12Ã—3=36ï¼Œè€Œå½“`x = 18`æ—¶ï¼Œ18Ã—2=36ã€‚

è¿™å°±æ„å‘³ç€ï¼Œåé¢ä¸€å®šè¿˜ä¼šé‡åˆ°è¿™ä¸ªæ•°ï¼Œå¦‚æœç°åœ¨ä¸è·³å‡ºå†…å±‚å¾ªç¯ï¼Œç»§ç»­ç”¨`i`ä¹˜ä»¥`prime[j + 1]`ã€`prime[j + 2]`ç­‰ç´ æ•°å°±é‡å¤æ ‡è®°åˆæ•°äº†ï¼Œé€šè¿‡`if(i % prime[j] == 0) break;`è¿™æ¡è¯­å¥ï¼Œæˆ‘ä»¬å¯ä»¥é¿å…è¿™ç§é‡å¤æ ‡è®°ï¼Œä¿è¯æ¯ä¸ªåˆæ•°åªè¢«å®ƒçš„æœ€å°è´¨å› æ•°ç­›é™¤ä¸€æ¬¡ã€‚

```java
package TestField;

import java.util.ArrayList;
import java.util.List;

public class Main {

	public static List<Integer> sieveOfEuler(int n) {
		boolean[] vis = new boolean[n + 1];
		List<Integer> prime = new ArrayList<>();
		for (int i = 2; i <= n; i++) {
			if (!vis[i]) {
				prime.add(i);
			}
			for (int j = 0; j < prime.size() && i * prime.get(j) <= n; j++) {
				vis[i * prime.get(j)] = true;
				if (i % prime.get(j) == 0) {
					break;
				}
			}
		}
		return prime;
	}

	public static void main(String[] args) {
		int n = 50;
		List<Integer> primes = sieveOfEuler(n);
		System.out.println("å°äºç­‰äº " + n + " çš„ç´ æ•°æœ‰ï¼š");
		for (int p : primes) {
			System.out.print(p + " ");
		}
	}

}
```



```java
// æŸ¥æ‰¾æŒ‡å®šèŒƒå›´å†…çš„ç´ æ•°
import java.util.ArrayList;
import java.util.List;

public class EulerSieve {
    public static List<Integer> sieveOfEuler(int a, int b) {
        boolean[] vis = new boolean[b + 1];
        List<Integer> prime = new ArrayList<>();
        for (int i = 2; i <= b; i++) {
            if (!vis[i]) {
                // è‹¥å½“å‰ç´ æ•°åœ¨æŒ‡å®šèŒƒå›´å†…ï¼Œåˆ™æ·»åŠ åˆ°ç»“æœåˆ—è¡¨
                if (i >= a) {
                    prime.add(i);
                }
                for (int j = 0; j < prime.size() && i * prime.get(j) <= b; j++) {
                    vis[i * prime.get(j)] = true;
                    if (i % prime.get(j) == 0) {
                        break;
                    }
                }
            }
        }
        return prime;
    }

    public static void main(String[] args) {
        int a = 10;
        int b = 50;
        List<Integer> primes = sieveOfEuler(a, b);
        System.out.println("åœ¨ " + a + " åˆ° " + b + " èŒƒå›´å†…çš„ç´ æ•°æœ‰ï¼š");
        for (int p : primes) {
            System.out.print(p + " ");
        }
    }
}    
```























































### å¹¶æŸ¥é›†

æ ‘å½¢ã€å¯¹ä¸ç›¸äº¤é›†åˆ æŸ¥è¯¢ã€åˆå¹¶

pre[] è®°å½•å‰é©±

find(x) 

join(x, y)



```java
public int find(int x){ // é€šè¿‡é›†åˆçš„ä»£è¡¨å…ƒåˆ¤æ–­ï¼ŒåŒä¸€ä»£è¡¨å…ƒï¼Œåˆ™å±äºåŒä¸€é›†åˆ
    while(find[x] != x)	//åªæœ‰ä»£è¡¨å…ƒçš„preæ˜¯è‡ªå·±ï¼Œæ ¹æ®è¿™ä¸ªæ‰¾ä»£è¡¨å…ƒ
        x = pre[x];
    return x;
}
```



```java
public void join(int x, int y){
    int fx = find(x);	//åˆå¹¶ä¸ç›¸äº¤é›†åˆå‰ å…ˆç¡®å®šæ˜¯å¦æ¥è‡ªåŒä¸€é›†åˆ
    int fy = find(y);
    if(fx != fy)		// ç¡®å®šæ˜¯ä¸åŒé›†åˆï¼Œåˆå¹¶ï¼Œè¿™é‡Œæˆ‘å°±éšæ„æŒ‡å®šäº†
        pre[fx] = fy;
    
}
```





â€‹	**è·¯å¾„å‹ç¼©ä¸€ï¼ˆä¼˜åŒ–findï¼ˆï¼‰ï¼‰**

å› ä¸ºèŠ‚ç‚¹æŸ¥è¯¢æ ¹èŠ‚ç‚¹ç¡®å®šæ˜¯å¦åŒä¸€é›†åˆï¼Œæ— è®ºç»è¿‡å¤šå°‘èŠ‚ç‚¹éƒ½è¦åˆ°è¾¾ä»£è¡¨å…ƒï¼ˆç›®æ ‡å›ºå®šï¼‰ï¼Œè¿˜æœ‰å°±æ˜¯æ ‘ç»“æ„ä¸ç¡®å®šï¼ˆå¯èƒ½æœ1ä¸ªæ–¹å‘æ’ï¼Œæˆé“¾è¡¨äº†ï¼‰ï¼Œç´¢æ€§ç›´æ¥è®©æ‰€æœ‰èŠ‚ç‚¹çš„preéƒ½æ˜¯æ ¹èŠ‚ç‚¹ï¼Œä¸€æ­¥åˆ°ä½

```java
int find(int x){
    if(pre[x] == x) return x;
    pre[x] = find(pre[x]);
}
```

æœ‰ä¸ªé—®é¢˜ï¼Œåªæœ‰æ‰¾åˆ°ä»£è¡¨å…ƒ å¹¶ å®Œæˆé€’å½’åï¼Œå‹ç¼©æ‰ç®—å®Œæˆï¼Œæ‰€ä»¥é¦–æ¬¡æ‰¾åˆ°ä»£è¡¨å…ƒå‰çš„æŸ¥è¯¢è¿‡ç¨‹æ˜¯æ²¡æ•ˆæœçš„

```java
// æŸ¥æ‰¾ç»“ç‚¹ x çš„æ ¹ç»“ç‚¹ 
int find(int x) {
    int root = x;
    // æ‰¾åˆ°æ ¹èŠ‚ç‚¹
    while (pre[root] != root) {
        root = pre[root];
    }
    // è·¯å¾„å‹ç¼©ï¼šå°†è·¯å¾„ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ç›´æ¥è®¾ä¸ºæ ¹èŠ‚ç‚¹
    while (x != root) {
        int next = pre[x];
        pre[x] = root;
        x = next;
    }
    return root;
}
```

â€‹	

â€‹	**è·¯å¾„å‹ç¼©äºŒï¼ˆåŠ æƒæ ‡è®°ï¼‰**

èŠ‚ç‚¹å¢è®¾æƒå€¼ï¼Œæ ¹æ®æƒå€¼å†³å®šè°æ˜¯ä¸Šçº§ï¼ˆæ ‘å±‚çº§ç»“æ„ç”±æƒå€¼å†³å®šï¼‰

è·¯å¾„å‹ç¼©ä¸€è§£å†³äº†é€€åŒ–ä¸ºé“¾è¡¨çš„é—®é¢˜ï¼Œè·¯å¾„å‹ç¼©äºŒä¹Ÿè¦è§£å†³

å•è¯¾æ ‘çš„æƒ…å†µå°±ä¸çœ‹äº†ï¼ˆè™½ç„¶æƒå€¼åˆ†é…ä¸å½“ä¹Ÿä¼šå¯¼è‡´æ ‘å˜ä¸ºé“¾è¡¨ï¼‰

åœ¨åˆå¹¶çš„æ—¶å€™ï¼Œå¦‚æœæ ¹æ®æƒå€¼å†³å®šè°å½’å…¥è°ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´å˜ä¸ºé“¾è¡¨ï¼Œä¸ºæ­¤ï¼Œå†å¼•å…¥rank[]æ•°ç»„ä½œä¸ºé«˜åº¦ï¼Œä¸»è¦åŠŸèƒ½ä¼¼æ˜¯è¡¨è¾¾å­æ ‘å†…èŠ‚ç‚¹é«˜åº¦ï¼Œå…¶ä¸­ä»£è¡¨å…ƒçš„é«˜åº¦è‡ªç„¶å°±æ˜¯æ•´æ£µå­æ ‘çš„é«˜åº¦ï¼Œåœ¨åˆå¹¶æ—¶ç”¨ä»£è¡¨å…ƒä¹‹é—´çš„rankè¿›è¡Œæ¯”è¾ƒï¼Œå±‚æ•°ä½çš„å½’å…¥å±‚æ•°é«˜çš„

![image-20250319173658479](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250319173658479.png)



```java
void union(int x, int y){
    x = find(x);
    y = find(y);
    if(x == y) return;
    
    if(rank[x] < rank[y])
        pre[x] = y;
    else{
        // rank[x]<ran[y]ä¸æˆç«‹ï¼Œå‰©ä¸‹æƒ…å†µä¸­rank[x] == rank[y]åªæ¯”rank[x]>rank[y]å¤šäº†æ­¥rank[x]+1
        //ç›´æ¥åˆå¹¶
        if(rank[x] == rank[y])	rank[x]++;
        pre[y] = x;
    }

}
```





å®æˆ˜

```
Cå›½ç”±nä¸ªå°å²›ç»„æˆï¼Œä¸ºäº†æ–¹ä¾¿å°å²›ä¹‹é—´è”ç»œï¼ŒCå›½åœ¨å°å²›é—´å»ºç«‹äº†måº§å¤§æ¡¥ï¼Œæ¯åº§å¤§æ¡¥è¿æ¥ä¸¤åº§å°å²›ã€‚ä¸¤ä¸ªå°å²›é—´å¯èƒ½å­˜åœ¨å¤šåº§æ¡¥è¿æ¥ã€‚ç„¶è€Œï¼Œç”±äºæµ·æ°´å†²åˆ·ï¼Œæœ‰ä¸€äº›å¤§æ¡¥é¢ä¸´ç€ä¸èƒ½ä½¿ç”¨çš„å±é™©ã€‚

å¦‚æœä¸¤ä¸ªå°å²›é—´çš„æ‰€æœ‰å¤§æ¡¥éƒ½ä¸èƒ½ä½¿ç”¨ï¼Œåˆ™è¿™ä¸¤åº§å°å²›å°±ä¸èƒ½ç›´æ¥åˆ°è¾¾äº†ã€‚ç„¶è€Œï¼Œåªè¦è¿™ä¸¤åº§å°å²›çš„å±…æ°‘èƒ½é€šè¿‡å…¶ä»–çš„æ¡¥æˆ–è€…å…¶ä»–çš„å°å²›äº’ç›¸åˆ°è¾¾ï¼Œä»–ä»¬å°±ä¼šå®‰ç„¶æ— äº‹ã€‚ä½†æ˜¯ï¼Œå¦‚æœå‰ä¸€å¤©ä¸¤ä¸ªå°å²›ä¹‹é—´è¿˜æœ‰æ–¹æ³•å¯ä»¥åˆ°è¾¾ï¼Œåä¸€å¤©å´ä¸èƒ½åˆ°è¾¾äº†ï¼Œå±…æ°‘ä»¬å°±ä¼šä¸€èµ·æŠ—è®®ã€‚

ç°åœ¨Cå›½çš„å›½ç‹å·²ç»çŸ¥é“äº†æ¯åº§æ¡¥èƒ½ä½¿ç”¨çš„å¤©æ•°ï¼Œè¶…è¿‡è¿™ä¸ªå¤©æ•°å°±ä¸èƒ½ä½¿ç”¨äº†ã€‚ç°åœ¨ä»–æƒ³çŸ¥é“å±…æ°‘ä»¬ä¼šæœ‰å¤šå°‘å¤©è¿›è¡ŒæŠ—è®®ã€‚

ä¸‹æ–‡ä¸­çš„æ ·ä¾‹è¯´æ˜
ç¬¬ä¸€å¤©å2å’Œ3ä¹‹é—´çš„æ¡¥ä¸èƒ½ä½¿ç”¨ï¼Œä¸å½±å“ã€‚
ç¬¬äºŒå¤©å1å’Œ2ä¹‹é—´ï¼Œä»¥åŠ1å’Œ3ä¹‹é—´çš„æ¡¥ä¸èƒ½ä½¿ç”¨ï¼Œå±…æ°‘ä»¬ä¼šæŠ—è®®ã€‚
ç¬¬ä¸‰å¤©å3å’Œ4ä¹‹é—´çš„æ¡¥ä¸èƒ½ä½¿ç”¨ï¼Œå±…æ°‘ä»¬ä¼šæŠ—è®®ã€‚
æ•°æ®è§„æ¨¡å’Œçº¦å®š
å¯¹äº100%çš„æ•°æ®ï¼Œ1< =n< =10000ï¼Œ1< =m< =100000ï¼Œ1< =a,  b< =nï¼Œ  1< =t< =100000ã€‚

è¾“å…¥

è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°n,  mï¼Œåˆ†åˆ«è¡¨ç¤ºå°å²›çš„ä¸ªæ•°å’Œæ¡¥çš„æ•°é‡ã€‚ 
æ¥ä¸‹æ¥mè¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ•´æ•°a,  b,  tï¼Œåˆ†åˆ«è¡¨ç¤ºè¯¥åº§æ¡¥è¿æ¥aå·å’Œbå·ä¸¤ä¸ªå°å²›ï¼Œèƒ½ä½¿ç”¨tå¤©ã€‚å°å²›çš„ç¼–å·ä»1å¼€å§‹é€’å¢ã€‚

è¾“å‡º

è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå±…æ°‘ä»¬ä¼šæŠ—è®®çš„å¤©æ•°ã€‚

æ ·ä¾‹è¾“å…¥

4  4 
1  2  2 
1  3  2 
2  3  1 
3  4  3 
æ ·ä¾‹è¾“å‡º

2
```



```java
/*
	å¦‚æœæ¨¡æ‹Ÿæƒ…å†µï¼Œè¦æ³¨æ„ä¸¤ä¸ªç‚¹
	1.åŒä¸€å¤©å¯èƒ½æŸåå¤šåº§æ¡¥ï¼Œä½†åªèƒ½è®¡æ•°1æ¬¡ï¼Œç”±äºç¨‹åºæ¨¡æ‹Ÿï¼Œå¾ªç¯æ‰§è¡Œï¼Œä¼šå¯¼è‡´æŸåä¸€åº§æ¡¥å°±è®¡æ•°ä¸€æ¬¡
	////æˆ‘ä»¬åªéœ€è¦åœ¨iå¾ªç¯å†…ï¼Œé¢„å…ˆæ¢æµ‹ä¸‹ä¸€ä¸ªæ¡¥çš„å¯ç”¨æ—¶é™(bridge[i+1].day)ã€‚è¿™æ ·åœ¨å¾ªç¯æ—¶ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½å…ˆç”¨bridge[i+1].dayæ¥å’Œå½“å‰æ¡¥çš„ä½¿ç”¨æ—¶é™(bridge[i].day)è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœä¸¤ä¸ªå¤©æ•°ä¸ä¸€è‡´ï¼Œåˆ™ç›´æ¥æ¨¡æ‹Ÿå½“å‰æ¡¥è¢«æŸåçš„è¿‡ç¨‹ï¼›å¦åˆ™ï¼Œè·³è¿‡å½“å‰å¾ªç¯ã€‚
	
	2.æ¯æ¬¡æ¡¥æ¯ï¼Œéƒ½è¦å¯¹å‰©ä¸‹çš„å²›é‡æ–°è¿›è¡Œuniteå’Œæ‰«ææ‰€æœ‰å¹¶æŸ¥é›†æ“ä½œï¼Œ2ä¸ªæ“ä½œå„æ˜¯nï¼Œå…±n^2å¤æ‚åº¦,æé™æƒ…å†µä¼šè¶…æ—¶
	////ä½†å¦‚æœåè¿‡æ¥ï¼Œæ¨¡æ‹Ÿæ¡¥æ„å»ºè¿‡ç¨‹ï¼Œåªè¿›è¡Œ1æ¬¡å°±å¤Ÿäº†
	ä¸ºæ­¤è¿˜è¦å¯¹æ¡¥çš„ä½¿ç”¨æ—¶é™è¿›è¡Œé™åºæ’åºï¼Œï¼ˆä½¿ç”¨æ—¶é™çŸ­çš„æ˜¯æœ€å…ˆå¡Œçš„ï¼Œé‚£å°±æ˜¯æœ€å…ˆæŠ—è®®çš„ï¼Œé‚£å°±é€†å‘å½“ä½œæœ€å…ˆä¿®å¥½çš„ï¼Œæœ€å…ˆæ¬¢å‘¼çš„ï¼‰
	
	
	
	
	

*/


```

















### å·®åˆ†

åœ¨è®¡ç®—æœºç®—æ³•ä¸­ï¼Œ**å·®åˆ†æ•°ç»„** æ˜¯ä¸€ç§é«˜æ•ˆå¤„ç† **åŒºé—´æ›´æ–°** å’Œ **å•ç‚¹æŸ¥è¯¢** çš„æ•°æ®ç»“æ„

æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡é¢„å¤„ç†å°†**åŒºé—´æ“ä½œ**çš„æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–åˆ° *O*(1)ã€‚



å¸¸è§„æ“ä½œåŒºé—´æ˜¯éå†ï¼Œä½†å¦‚æœåŒºé—´è¿‡å¤§ï¼Œæ•ˆç‡å°±ä½

å·®åˆ†åªæ“ä½œåŒºé—´ä¸¤ç«¯ï¼ˆå·¦ç«¯å’Œå³ç«¯+1ï¼ˆä¹Ÿå°±æ˜¯å³ç«¯çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå¦‚æœè¶…è¿‡æ•°ç»„é•¿åº¦ï¼Œé‚£ç›´æ¥ä¸ç®¡äº†å°±è¡Œï¼‰ï¼‰

å·¦ç«¯åŠ ï¼Œå³ç«¯å‡



ç”¨ä»¥ä¸Šè¿™ç§åšæ³•çš„è¯ï¼ŒåŸæ•°ç»„çš„è®¡ç®—ä¹Ÿå˜äº†ï¼š

â€‹	åŸæ•°ç»„æ¯ä¸ªä½ç½®çš„å€¼ç­‰äºå·®åˆ†æ•°ç»„çš„ **å‰ç¼€å’Œ**ï¼ˆä»ç¬¬ä¸€ä¸ªå…ƒç´ ç´¯åŠ åˆ°å½“å‰å…ƒç´ ï¼‰



å‡è®¾åŸæ•°ç»„a = [0, 0, 0, 0, 0]ï¼Œå·®åˆ†æ•°ç»„ d = [0, 0, 0, 0, 0]

l=2, r=4, c=1

åˆ™d[2] += 1` â†’ `d = [0, 1, 0, 0, 0]	d[5] -= 1` â†’ `d = [0, 1, 0, 0, -1]

è®¡ç®—å‰ç¼€å’Œï¼š
a[1] = d[1] = 0
a[2] = d[1] + d[2] = 0 + 1 = 1
a[3] = 0 + 1 + 0 = 1
a[4] = 0 + 1 + 0 + 0 = 1
a[5] = 0 + 1 + 0 + 0 + (-1) = 0
ç»“æœå°±æ˜¯ a = [0, 1, 1, 1, 0]



æ‰€ä»¥ï¼Œå·®åˆ†åªè®°å½•åŒºé—´çš„è¾¹ç•Œï¼Œä¹Ÿåªæ“ä½œè¾¹ç•Œï¼Œå·¦è¾¹ç•ŒåŠ ï¼Œå³è¾¹ç•Œå‡

å·®åˆ†æ•°ç»„ç”±åŸæ•°ç»„ç›¸é‚»å…ƒç´ ä½œå·®æ„å»º

åŸæ•°ç»„é€šè¿‡å·®åˆ†æ•°ç»„å‰ç¼€å’Œè®¡ç®—



**åŸåºåˆ—æ˜¯å·®åˆ†åºåˆ—çš„å‰ç¼€å’Œï¼Œæ‰€ä»¥æŠŠå·®åˆ†çœ‹åšå‰ç¼€å’Œçš„\**é€†è¿ç®—\****



å¯¹æ¯”

```java
int[] a = new int[6]; // ä¸‹æ ‡1-5
for (int i=2; i<=4; i++) {
    a[i] += 5;
}
// è¾“å‡ºï¼š[0,5,5,5,0]
```

```java
int[] d = new int[6]; // å·®åˆ†æ•°ç»„ï¼Œä¸‹æ ‡1-5
int l = 2, r = 4, c = 5;
d[l] += c; // èµ·ç‚¹åŠ c
if (r+1 <= 5) { // ç»ˆç‚¹çš„ä¸‹ä¸€ä¸ªä½ç½®å‡cï¼ˆå¦‚æœå­˜åœ¨ï¼‰
    d[r+1] -= c;
}
// è®¡ç®—å‰ç¼€å’Œå¾—åˆ°åŸæ•°ç»„
int[] a = new int[6];
a[1] = d[1];
a[2] = a[1] + d[2];
a[3] = a[2] + d[3];
a[4] = a[3] + d[4];
a[5] = a[4] + d[5];
// è¾“å‡ºï¼š[0,5,5,5,0]
```





```java
package TestField;

/*
 æŠŠStringè½¬æ¢æˆDateå¯¹è±¡
*/
public class Main {

	static int[] cf(int[] arr, int left, int right, int val) {

		int len = arr.length;
		int[] diff = new int[len];

		diff[0] = arr[0];
		for (int i = 1; i < len; ++i) {
			diff[i] = arr[i] - arr[i - 1];
		}

		diff[left] += val;
		if (right + 1 < diff.length)
			diff[right + 1] -= val;

		int[] res = new int[len];
		int dLen = diff.length;
		res[0] = diff[0];
		for (int i = 1; i < len; ++i) {
			res[i] = res[i - 1] + diff[i];
		}

		return res;

	}

	public static void main(String[] args) {

		int[] arr = { 1, 4, 5, 78, 89, 890, 98, 7, 69, 87, 765 };
		int[] res = cf(arr, 2, 5, 6);
		for (int i = 0; i < arr.length; ++i)
			System.out.println(res[i]);
	}
}

```













### å‰ç¼€å’Œ

å‰ç¼€å’Œ ä¸   å·®åˆ† å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€å¯¹é€†è¿ç®—

å¯¹äºä¸€ä¸ªæ•°ç»„ `a = [aâ‚, aâ‚‚, ..., aâ‚™]`ï¼Œå®ƒçš„ **å‰ç¼€å’Œæ•°ç»„** `s` å®šä¹‰ä¸ºï¼š*s$$_{i}$$*=a$$_1$$+â€¦â€¦+a$$_i$$
å³ `s[i]` è¡¨ç¤ºåŸæ•°ç»„å‰ `i` ä¸ªå…ƒç´ çš„å’Œï¼ˆä»ç¬¬ä¸€ä¸ªå…ƒç´ åˆ°ç¬¬ `i` ä¸ªå…ƒç´ ï¼‰ã€‚

å‰ç¼€å’Œçš„æ ¸å¿ƒç”¨é€”æ˜¯ å¿«é€Ÿæ±‚åŒºé—´å’Œ

å¸¸è§„æ“ä½œæ˜¯éå†ï¼Œè€Œé€šè¿‡å‰ç¼€å’Œï¼Œå…¬å¼ä¸ºï¼šåŒºé—´å’Œ = *s*[ r ]âˆ’*s*[ lâˆ’1 ]

`s[r]` æ˜¯å‰ `r` é¡¹çš„å’Œï¼Œ`s[l-1]` æ˜¯å‰ `l-1` é¡¹çš„å’Œï¼Œä¸¤è€…ç›¸å‡å°±æ˜¯ç¬¬ `l` åˆ°ç¬¬ `r` é¡¹çš„å’Œ



å‰ç¼€å’Œæ•°ç»„çš„ä¸‹æ ‡ä» **1 å¼€å§‹** ä¸»è¦æ˜¯ä¸ºäº† **ç®€åŒ–åŒºé—´å’Œçš„è®¡ç®—å…¬å¼**ï¼Œé¿å…å¤„ç†ä¸‹æ ‡ä¸º 0 çš„è¾¹ç•Œæƒ…å†µã€‚

```java
package TestField;

/*
 æŠŠStringè½¬æ¢æˆDateå¯¹è±¡
*/
public class Main {

	static int qzh(int[] arr, int left, int right) {

		int len = arr.length;
		int[] s = new int[arr.length + 1]; // å‰ç¼€å’Œæ•°ç»„ï¼ˆä¸‹æ ‡1-4ï¼Œs[0]=0ï¼‰

		s[0] = 0;
		for (int i = 1; i <= arr.length; i++) {
		    s[i] = s[i - 1] + arr[i - 1]; // arr[i - 1] æ˜¯åŸæ•°ç»„ç¬¬iä¸ªå…ƒç´ 
		}

		return s[right] - s[left - 1];
	}

	public static void main(String[] args) {

		int[] arr = { 1, 3, 5, 7 }; // åŸæ•°ç»„ï¼ˆä¸‹æ ‡0-3ï¼‰
		System.out.println(qzh(arr, 2, 3));
	}
}

```









### å‰ç¼€å’Œ vs å·®åˆ†ï¼ˆå¯¹æ¯”è®°å¿†ï¼‰

| **æ“ä½œ**       | å‰ç¼€å’Œ                   | å·®åˆ†                     |
| -------------- | ------------------------ | ------------------------ |
| **æ ¸å¿ƒåŠŸèƒ½**   | å¿«é€Ÿæ±‚åŒºé—´å’Œï¼ˆæŸ¥è¯¢ï¼‰     | å¿«é€ŸåšåŒºé—´åŠ ï¼ˆæ›´æ–°ï¼‰     |
| **æ—¶é—´å¤æ‚åº¦** | é¢„å¤„ç† O (n)ï¼ŒæŸ¥è¯¢ O (1) | é¢„å¤„ç† O (n)ï¼Œæ›´æ–° O (1) |
| **å…¸å‹åœºæ™¯**   | å¤šæ¬¡æŸ¥è¯¢åŒºé—´å’Œ           | å¤šæ¬¡åŒºé—´åŠ ï¼Œæœ€åæ±‚å•ç‚¹å€¼ |
| **æ•°ç»„å…³ç³»**   | åŸæ•°ç»„æ˜¯å‰ç¼€å’Œçš„å·®åˆ†     | åŸæ•°ç»„æ˜¯å·®åˆ†çš„å‰ç¼€å’Œ     |











### åŒæŒ‡é’ˆ



- å¿«æ…¢æŒ‡é’ˆ
- å¯¹æ’æŒ‡é’ˆ
- æ»‘åŠ¨çª—å£



#### å¿«æ…¢æŒ‡é’ˆ

ä¸€å¿«ä¸€æ…¢ï¼Œæ­¥é•¿ä¸€å¤§ä¸€å°ã€‚å…¸å‹åº”ç”¨ æ˜¯å¦æœ‰ç¯é—®é¢˜ï¼ˆçœ‹æ…¢æŒ‡é’ˆæ˜¯å¦èƒ½è¿½ä¸Šå¿«æŒ‡é’ˆï¼‰ï¼Œå•é“¾è¡¨æ‰¾ä¸­é—´èŠ‚ç‚¹é—®é¢˜ï¼ˆå¿«æŒ‡é’ˆåˆ°å•é“¾è¡¨ç»“å°¾ï¼Œæ…¢æŒ‡é’ˆåˆšå¥½åˆ°ä¸€åŠï¼‰



#### å¯¹æ’æŒ‡é’ˆ

ä»ä¸¤ç«¯ å¾€ä¸­é—´å»



#### æ»‘åŠ¨çª—å£

ä¸€èˆ¬æ˜¯å³ç«¯å‘å·¦ç§»åŠ¨ï¼Œæ»¡è¶³æ¡ä»¶ååœæ­¢ï¼Œç„¶åå·¦ç«¯å‘å³ç«¯ç§»åŠ¨ï¼Œä¹Ÿæ˜¯æ»¡è¶³æ¡ä»¶ååœæ­¢ï¼Œå¦‚æ­¤åå¤

ç›´åˆ°è¾¾åˆ°ç›®æ ‡æˆ–ç›¸é‡







å¿«æ…¢æŒ‡é’ˆæ‰¾ç¯

```java
package TestField;

/*
 æŠŠStringè½¬æ¢æˆDateå¯¹è±¡
*/
public class Main {

	static class ListNode {

		int val;
		ListNode next;

		public ListNode(int val) {
			this.val = val;
			next = null;
		}

		public static boolean hasCycle(ListNode head) {
			ListNode slow = head;
			ListNode fast = head;

			while (fast != null && slow.next != null) {

				slow = slow.next;
				fast = fast.next.next;

				// ç›¸é‡ï¼Œè¯´æ˜æœ‰ç¯
				if (slow == fast)
					return true;
			}
			return false;

		}
	}

	public static void main(String[] args) {
		// åˆ›å»ºä¸€ä¸ªæœ‰ç¯çš„é“¾è¡¨ç”¨äºæµ‹è¯•
		ListNode node1 = new ListNode(1);
		ListNode node2 = new ListNode(2);
		ListNode node3 = new ListNode(3);
		ListNode node4 = new ListNode(4);

		node1.next = node2;
		node2.next = node3;
		node3.next = node4;
		node4.next = node2; // å½¢æˆç¯

		boolean result = ListNode.hasCycle(node1);
		System.out.println("é“¾è¡¨æ˜¯å¦æœ‰ç¯: " + result);
	}
}

```







### å­—ç¬¦ä¸²



#### LCS	æœ€é•¿å…¬å…±å­ä¸²





#### LIS	æœ€é•¿é€’å¢å­—ä¸²

åºåˆ—çš„å­åºåˆ—ï¼Œå¯ä»¥ç©ºï¼Œä¸åŒ…æ‹¬è‡ªå·±ï¼Œå…¶ä¸­å…ƒç´ æ»¡è¶³i < i + 1

LISåä¹‹æœ€é•¿é™åºå­åºåˆ—

è¿˜æœ‰éæœ€é•¿å¢åºå­åºåˆ—ï¼ˆæœ‰ç›¸ç­‰å…ƒç´ ï¼‰



LCSã€LISä¸å”¯ä¸€ï¼Œä½†æ˜¯å®ƒä»¬é•¿åº¦ä¸€å®šæ˜¯ç›¸ç­‰çš„









## **ç™¾**èˆ¬çº¢ç´«æ–—èŠ³è²

 

### é¢„å¤„ç†æŠ€æœ¯

è¿›è¡Œæ ¸å¿ƒä»»åŠ¡å‰ï¼Œå¯¹æ•°æ®å’Œé—®é¢˜è¿›è¡Œé¢„å¤„ç†

æ¯”å¦‚stè¡¨ã€åŸƒæ°ç­›ã€å‰ç¼€å’Œæ•°ç»„

- **åŸç†**ï¼šé€šè¿‡é¢„å¤„ç†ï¼Œå°†æ•°ç»„ä¸­æ‰€æœ‰é•¿åº¦ä¸º 2^*k*ï¼ˆ*k*=0,1,2,â‹¯ï¼‰çš„åŒºé—´çš„æœ€å€¼è®¡ç®—å¹¶å­˜å‚¨èµ·æ¥ã€‚åœ¨è¿›è¡ŒåŒºé—´æŸ¥è¯¢æ—¶ï¼Œåˆ©ç”¨è¿™äº›é¢„å¤„ç†ç»“æœï¼Œé€šè¿‡ç»„åˆä¸¤ä¸ªä¸é‡å çš„ 2*k* é•¿åº¦åŒºé—´çš„æœ€å€¼ï¼Œå¿«é€Ÿå¾—åˆ°ä»»æ„åŒºé—´çš„æœ€å€¼ã€‚
- **ç¤ºä¾‹**ï¼šå‡è®¾æœ‰ä¸€ä¸ªæ•°ç»„ `[1, 3, 5, 7, 2, 4, 6]`ï¼Œè¦å¤šæ¬¡æŸ¥è¯¢ä¸åŒåŒºé—´çš„æœ€å¤§å€¼ã€‚ä½¿ç”¨ ST è¡¨ï¼Œé¢„å¤„ç†æ—¶ä¼šè®¡ç®—å¹¶å­˜å‚¨å¦‚åŒºé—´ `[0, 0]`ã€`[0, 1]`ã€`[0, 3]`ã€`[1, 1]`ã€`[1, 3]` ç­‰é•¿åº¦ä¸º 2^*k* åŒºé—´çš„æœ€å¤§å€¼ã€‚å½“æŸ¥è¯¢åŒºé—´ `[1, 5]` çš„æœ€å¤§å€¼æ—¶ï¼Œå°±å¯ä»¥åˆ©ç”¨ä¹‹å‰é¢„å¤„ç†å­˜å‚¨çš„ç»“æœå¿«é€Ÿè®¡ç®—å¾—åˆ°ã€‚







#### STè¡¨	ç¨€ç–è¡¨

å¯¹äºé™æ€åŒºé—´æœ€å€¼æŸ¥è¯¢ï¼ˆRMQï¼‰é—®é¢˜

STåº”ç”¨**å€å¢ã€åŠ¨æ€è§„åˆ’ã€é¢„å¤„ç†**çš„æ€æƒ³ï¼Œå¯ä»¥å®ç° O(nlogâ¡n) é¢„å¤„ç†ã€ O(1) æŸ¥è¯¢



**å¼•å…¥**

å¦‚æœBF

```java
static int zz(int[] arr, int l, int r) {

    int zuiZhi = Integer.MAX_VALUE;
    for (int i = l; i <= r; ++i) {
        zuiZhi = Math.min(zuiZhi, arr[i]);
    }
    return zuiZhi;
}

//	å¦‚æœæ•°ç»„å¾ˆå¤§ï¼Œä¼šè¶…æ—¶ï¼›
//	å¦‚æœé‡å¤æŸ¥è¯¢ï¼Œä¼šé‡å¤è®¡ç®—
```

ä¸ºæ­¤å¯ä»¥æ ¹æ®åŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œé¢„å¤„ç†å­˜å‚¨[i, j]åŒºé—´çš„æœ€å€¼ï¼Œå…·ä½“å°±æ˜¯å­˜å‚¨[0,1] [0, 2] [0, 3] Â·Â·Â·Â·Â·Â·[0,n]Â·Â·Â·Â·Â·Â·ï¼Œæ‰€ä»¥å¦‚æœæ•°ç»„å¤ªå¤§ï¼Œç©ºé—´ä¼šç‚¸

ä¸ºæ­¤æ ¹æ®å€å¢æ€æƒ³ï¼Œå‡å°‘å­˜å‚¨

å€å¢åœ¨è¿™é‡Œå°±æ˜¯æŠŠæ•°ç»„å¯¹åŠåˆ†æˆ2ä¸ªå°æ•°ç»„ï¼Œè¿™æ ·çš„è¯ï¼Œå…¶å®å°±æ˜¯å­˜å‚¨é•¿åº¦ä¸º2$$^{j}$$çš„æ•°ç»„çš„æœ€å€¼ï¼Œç©ºé—´ä½¿ç”¨å¤§å¤§å‡å°‘

åˆç”±äºåŸæ•°ç»„åˆ†æˆå°æ•°ç»„ï¼Œå°æ•°ç»„éœ€è¦æ ‡è®°èµ·å§‹ä¸‹æ ‡å’Œé•¿åº¦ï¼Œæ‰€ä»¥ï¼ŒSTè¡¨æ˜¯äºŒç»´æ•°ç»„st[i] [j] ï¼Œè¡¨ç¤ºä¸‹æ ‡iå¼€å§‹é•¿åº¦2$$^{j}$$çš„åŒºé—´çš„æœ€å€¼

ï¼ˆjå…¶å®å°±æ˜¯i+2,i+4,i+8Â·Â·Â·Â·Â·Â·Â·Â·ï¼Œä¸è¿‡ä¸ºäº†æ–¹ä¾¿ä¸è¿™ä¹ˆå†™ï¼‰



ä¾‹å­

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250405104536263.png" alt="image-20250405104536263" style="zoom:50%;" /> 

é•¿åº¦ä¸º6çš„æ•°ç»„ï¼ŒæŸ¥è¯¢[0,5]å°±æ˜¯æŸ¥è¯¢[ä¸‹æ ‡0å¼€å§‹ï¼Œé•¿åº¦ä¸º4çš„æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯[0åˆ°3]]å’Œ[ä¸‹æ ‡4å¼€å§‹ï¼Œé•¿åº¦ä¸º1çš„æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯[4åˆ°5]]

æ‰€æœ‰åŒ…å«$$2^j $$ä¸ªæ•°å­—çš„åŒºé—´åˆ†ä¸ºæ›´å°çš„åŒ…å«$$[iï¼Œi+2^{j-1}]$$ä¸ªæ•°å­—çš„åŒºé—´ï¼ˆæœ€å°åŒºé—´åªæœ‰1ä¸ªæ•°ï¼‰



å¤§æ•°ç»„æœ€å€¼ç”±2ä¸ªå°æ•°ç»„æœ€å€¼çš„æ¯”è¾ƒ





**å»ºè¡¨**

ä½¿ç”¨äºŒç»´æ•°ç»„st[i] [j]è¡¨ç¤º ä½ç½® `i` å¼€å§‹ï¼Œé•¿åº¦ä¸º$$ 2^j $$çš„åŒºé—´çš„æœ€å°å€¼

å› ä¸ºæ•´ä¸ªç¨‹åºæ ¸å¿ƒçš„è®¡ç®—éƒ½å’Œlogã€2ç›¸å…³ï¼Œæ‰€ä»¥

`log2` ä¸€ç»´æ•°ç»„ï¼šå­˜å‚¨ä»¥ 2 ä¸ºåº• `i` çš„å¯¹æ•°çš„æ•´æ•°éƒ¨åˆ†ï¼Œç”¨äºåœ¨æŸ¥è¯¢æ—¶å¿«é€Ÿç¡®å®šåŒºé—´é•¿åº¦å¯¹åº”å°æ•°ç»„çš„å¹‚æ¬¡ã€‚

- å¯¹log2æ•°ç»„çš„åˆå§‹åŒ–ä¹Ÿä½¿ç”¨äº†åŠ¨æ€è§„åˆ’æ€æƒ³ï¼ŒåŠ¨æ€è§„åˆ’å…·ä½“å®ç°åˆæ˜¯æ ¹æ®å¯¹æ•°çš„ç‰¹æ€§ï¼Œæ‰€ä»¥log2çš„å­˜å‚¨ä¹Ÿé‡‡å–äº†å¯¹æ•°çš„ç‰¹æ€§ï¼Œå­˜å‚¨içš„å¯¹æ•°çš„æ•´æ•°éƒ¨åˆ†ã€‚è‡³äºä¸ºä»€ä¹ˆåªå­˜æ•´æ•°ï¼Œå› ä¸ºä¸è¦å°æ•°ä¹Ÿæ²¡å½±å“ã€‚è¿™ä¸ªæ•´æ•°å°±æ˜¯è¦æŸ¥åŒºé—´çš„ç»„æˆåŒºé—´çš„é•¿åº¦å¯¹åº”çš„æ¬¡å¹‚ï¼Œåˆ°æ—¶å€™æ ¹æ®æ¬¡å¹‚æ¨å‡ºåŒºé—´é•¿åº¦ã€‚

![image-20250403150354727](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250403150354727.png)



åˆå§‹åŒ– `st` è¡¨çš„ç¬¬1åˆ—ï¼Œå³ä½ç½®iå¼€å§‹çš„å•ä¸ªå…ƒç´ st[i] [0]



```java
public static class STTable {

    int[][] st;
    int[] log2;

    // åˆå§‹åŒ– ST è¡¨
    public STTable(int[] arr) {
        int len = arr.length;
        /*
		* åŸæ•°ç»„çš„ç»„æˆå°æ•°ç»„å¯¹åº”log Math.logè¿”å›çš„æ˜¯ä»¥eä¸ºåº•çš„å¯¹æ•°ï¼Œéœ€è¦é€šè¿‡æ¢åº•å…¬å¼ï¼Œæ¢æˆä»¥2ä¸ºåº•nçš„å¯¹æ•° å¯¹æ•°è¦å‘ä¸Šå–æ•´
		*/
        int logLen = (int) (Math.log(len) / Math.log(2)) + 1;

        // stæ•°ç»„ç¬¬äºŒç»´çš„å¤§å°æ˜¯ ä»¥2ä¸ºåº•nçš„å¯¹æ•°çš„æ•´æ•°éƒ¨åˆ†ï¼Œ+1å› ä¸ºnä¹Ÿè¦å­˜ä¸Šã€‚
        st = new int[len][logLen + 1];
        log2 = new int[len + 1];

        // åˆå§‹åŒ– ST è¡¨çš„ç¬¬ä¸€åˆ—
        // st[i][0]è¡¨ç¤ºé•¿åº¦ä¸º2^0=1çš„åŒºé—´çš„æœ€å°å€¼ï¼Œå³æ•°ç»„ä¸­å•ä¸ªå…ƒç´ çš„å€¼ï¼Œæ‰€ä»¥ç›´æ¥å°†æ•°ç»„å…ƒç´ èµ‹å€¼ç»™ st[i][0]
        for (int i = 0; i < len; ++i)
            st[i][0] = arr[i];

        // é€šè¿‡åŠ¨æ€è§„åˆ’çš„æ–¹å¼ï¼Œåˆ©ç”¨ log2[i] = log2[i / 2] + 1 è®¡ç®— log2 æ•°ç»„ï¼Œæ–¹ä¾¿åç»­æŸ¥è¯¢æ—¶å¿«é€Ÿè·å–åŒºé—´é•¿åº¦å¯¹åº”çš„å¹‚æ¬¡ã€‚
        for (int i = 2; i <= len; ++i)
            log2[i] = log2[i >> 1] + 1;

        // æ„å»º ST è¡¨
        // 2^j â‰¤ n
        for (int j = 1; (1 << j) <= len; ++j) {
            // æ¯æ¬¡åŠ çš„æ˜¯é•¿åº¦ï¼Œéœ€è¦-1æ‰æ˜¯ç´¢å¼•
            for (int i = 0; i + (1 << j) - 1 < len; ++i) {
                // è¡¨ç¤ºä» i å¼€å§‹ï¼Œé•¿åº¦ä¸º2^(jâˆ’1)çš„å­åŒºé—´çš„ç»“æŸä½ç½®çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå³ç¬¬äºŒä¸ªå­åŒºé—´èµ·å§‹ä½ç½®
                st[i][j] = Math.min(st[i][j - 1], st[i + (1 << (j - 1))][j - 1]);
            }
        }
    }
```

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250405164354678.png" alt="image-20250405164354678" style="zoom:50%;" /> 





ç„¶åé€šè¿‡åŠ¨æ€è§„åˆ’çš„æ–¹å¼æ„å»º ST è¡¨

```java
// æ„å»º ST è¡¨

//å¤–å±‚å¾ªç¯æšä¸¾é•¿åº¦ï¼Œå³2^1åˆ°2^logn
//jä»£è¡¨é•¿åº¦é•¿åº¦å¯¹åº”ä½æ•°ï¼Œæ‰€ä»¥ä¸ä»0å¼€å§‹ï¼Œæ•´ä¸ªä»£ç é•¿åº¦ç›¸å…³çš„ä¸œè¥¿éƒ½æ˜¯æ ¹æ®å¯¹æ•°ç‰¹æ€§è®¡ç®—çš„ï¼Œè¦æ³¨æ„è¿™ç‚¹
for (int j = 1; (1 << j) <= n; j++) {
//å†…å±‚å¾ªç¯æšä¸¾èµ·ç‚¹ï¼Œå³1åˆ°n-2^len+1
    //ä¸ºä»€ä¹ˆ-1ï¼Œå› ä¸º
//è‹¥èµ·å§‹ä¸‹æ ‡ i = 0ï¼Œé•¿åº¦ len = 3ï¼Œé‚£ä¹ˆè¿™ä¸ªåŒºé—´å°±æ˜¯ [0, 1, 2]ï¼Œç»“æŸä¸‹æ ‡ end = 0 + 3 - 1 = 2ã€‚
//è‹¥èµ·å§‹ä¸‹æ ‡ i = 2ï¼Œé•¿åº¦ len = 2ï¼Œé‚£ä¹ˆè¿™ä¸ªåŒºé—´å°±æ˜¯ [2, 3]ï¼Œç»“æŸä¸‹æ ‡ end = 2 + 2 - 1 = 3ã€‚
    for (int i = 0; i + (1 << j) - 1 < n; i++) {
        //è¡¨ç¤ºä» i å¼€å§‹é•¿åº¦ä¸º2^jçš„åŒºé—´çš„æœ€å°å€¼ï¼Œå¯ä»¥ç”±ä¸¤ä¸ªé•¿åº¦ä¸º 2^jâˆ’1çš„åŒºé—´çš„æœ€å°å€¼åˆå¹¶å¾—åˆ°
        st[i][j] = Math.min(st[i][j - 1], st[i + (1 << (j - 1))][j - 1]);
    }
}
```

æŸ¥è¡¨

<img src="D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250405105706105.png" alt="image-20250405105706105" style="zoom:50%;" /> 

ä»»æ„1ä¸ªæ•°éƒ½å¯ä»¥åˆ†æˆä¸åŒä»¥2ä¸ºåº•çš„æŒ‡æ•°ä¹‹å’Œ

```java
// æŸ¥è¯¢åŒºé—´ [l, r] çš„æœ€å°å€¼
public int query(int l, int r) {
    //	r - l + 1æ˜¯åŒºé—´å¯¹åº”é•¿åº¦
    //	è·å–åŒºé—´ [l, r]çš„é•¿åº¦ é‡Œé¢å­˜å‚¨ çš„å¹‚æ¬¡ kï¼ˆæ³¨æ„ï¼Œå› ä¸ºæ˜¯é€šè¿‡è·å–è¯¥åŒºé—´å¯¹åŠåˆ†çš„2ä¸ªå°åŒºé—´è®¡ç®—æœ€å€¼ï¼Œæ‰€ä»¥è¿™ä¸ªkå…¶å®æ˜¯è®¡ç®—2ä¸ªå°åŒºé—´çš„å¹‚æ¬¡ï¼Œå­˜å‚¨åœ¨ã€lrã€‘åŒºé—´é‡Œæ˜¯å› ä¸º2ä¸ªå°åŒºé—´å¹‚æ¬¡è¦é€šè¿‡æ›´å¤§ä¸€çº§åŒºé—´æ¥è·å–ï¼‰
    int k = log2[r - l + 1];
    //é€šè¿‡ä¸¤ä¸ªé•¿åº¦ä¸º 2^kçš„åŒºé—´è¦†ç›–æŸ¥è¯¢åŒºé—´ `[l, r]`
    return Math.min(st[l][k], st[r - (1 << k) + 1][k]);
}

public static void main(String[] args) {
    int[] arr = {4, 6, 1, 5, 7, 3};
    STTable stTable = new STTable(arr);

    // æŸ¥è¯¢åŒºé—´ [1, 3] çš„æœ€å°å€¼
    int minVal = stTable.query(1, 3);
    System.out.println("åŒºé—´ [1, 3] çš„æœ€å°å€¼æ˜¯: " + minVal);
}
```





```java
// æ±‡æ€»
public class STTable {
    private int[][] st;
    private int[] log2;

    // åˆå§‹åŒ– ST è¡¨
    public STTable(int[] arr) {
        int n = arr.length;
       	// nçš„å¯¹æ•°
        int logN = (int) (Math.log(n) / Math.log(2));
        st = new int[n][logN + 1];
        log2 = new int[n + 1];

        // é¢„å¤„ç† log2 æ•°ç»„
        for (int i = 2; i <= n; i++) {
            log2[i] = log2[i / 2] + 1;
        }

        // åˆå§‹åŒ– ST è¡¨çš„ç¬¬ä¸€åˆ—
        for (int i = 0; i < n; i++) {
            st[i][0] = arr[i];
        }

        // æ„å»º ST è¡¨
        for (int j = 1; (1 << j) <= n; j++) {
            for (int i = 0; i + (1 << j) - 1 < n; i++) {
                st[i][j] = Math.min(st[i][j - 1], st[i + (1 << (j - 1))][j - 1]);
            }	
        }
    }

    // æŸ¥è¯¢åŒºé—´ [l, r] çš„æœ€å°å€¼
    public int query(int l, int r) {
        int k = log2[r - l + 1];
        return Math.min(st[l][k], st[r - (1 << k) + 1][k]);
    }

	public static void main(String[] args) {
		int[] arr = { 4, 6, 1, 5, 7, 3 };
		STTable stTable = new STTable(arr);

		// æŸ¥è¯¢åŒºé—´ [1, 3] çš„æœ€å°å€¼
		int le = 2;
		int ri = 3;
		int minVal = stTable.query(le, ri);
		System.out.println("åŒºé—´ [" + le + ", " + ri + "] çš„æœ€å°å€¼æ˜¯: " + minVal);
	}
}    
```















### å›¾å½¢æ‰“å°

è§‚å¯Ÿå›¾å½¢æ€§è´¨

æ¯”å¦‚ä¸€ä¸ªç©ºå¿ƒä¸‰è§’

![image-20250630091050197](D:\01\æŠ€æœ¯\æ„Ÿè·\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250630091050197.png)

æœ‰å‡ ç§è§£æ³•

ï¼ˆ1ï¼‰é™¤æœ«è¡Œï¼Œä»…é¦–å°¾æ‰“å°ï¼Œæ¨¡æ‹Ÿæ•°ç»„é‚£æ ·çš„ä¸‹æ ‡æƒ…å†µ

ï¼ˆ2ï¼‰è¿™æ˜¯ä¸ªå¯¹ç§°å›¾å½¢

```java
// ä»£ç é›å½¢æœ‰ï¼Œä½†æ˜¯è¿˜æœ‰é—®é¢˜
public class Main {
    public static void main(String[] args) {
        System.out.println("è¯·è¾“å…¥å±‚æ•°");
        Scanner sc = new Scanner(System.in);
        int level = sc.nextInt();

            char character = '*';
            char characterSpace = ' ';
            int index = level >> 1;
            int tag1;
            int tag2;
            tag1 = tag2 = index;

            int i;
            while(tag2 <= level - 1) {
                i = 1;
                while (i <= level) {
                    if (i == tag2 || i == tag1) {
                        System.out.print(character);
                    } else {
                        System.out.print(characterSpace);
                    }
                    i++;
                }
                System.out.println();
                tag1 -= 1;
                tag2 += 1;

            }
            while (tag1 <= level) {
                System.out.print(character);
                tag1++;
            }
        }
}
```



ï¼ˆ3ï¼‰å›¾å½¢ï¼Œæœ‰å±‚æ•°ï¼ŒæŠŠå›¾å½¢ä»¥å±‚ä¸ºå•ä½çœ‹å¾…ï¼Œæ‰¾åˆ°ç©ºæ ¼ï¼Œ*å’Œå±‚æ•°çš„å…³ç³»å…¬å¼

```java
L1-002 æ‰“å°æ²™æ¼
    åˆ†æ•° 20
    ä½œè€… é™ˆè¶Š
    å•ä½ æµ™æ±Ÿå¤§å­¦
    æœ¬é¢˜è¦æ±‚ä½ å†™ä¸ªç¨‹åºæŠŠç»™å®šçš„ç¬¦å·æ‰“å°æˆæ²™æ¼çš„å½¢çŠ¶ã€‚ä¾‹å¦‚ç»™å®š17ä¸ªâ€œ*â€ï¼Œè¦æ±‚æŒ‰ä¸‹åˆ—æ ¼å¼æ‰“å°

    *****
    ***
    *
    ***
    *****
    æ‰€è°“â€œæ²™æ¼å½¢çŠ¶â€ï¼Œæ˜¯æŒ‡æ¯è¡Œè¾“å‡ºå¥‡æ•°ä¸ªç¬¦å·ï¼›å„è¡Œç¬¦å·ä¸­å¿ƒå¯¹é½ï¼›ç›¸é‚»ä¸¤è¡Œç¬¦å·æ•°å·®2ï¼›ç¬¦å·æ•°å…ˆä»å¤§åˆ°å°é¡ºåºé€’å‡åˆ°1ï¼Œå†ä»å°åˆ°å¤§é¡ºåºé€’å¢ï¼›é¦–å°¾ç¬¦å·æ•°ç›¸ç­‰ã€‚

    ç»™å®šä»»æ„Nä¸ªç¬¦å·ï¼Œä¸ä¸€å®šèƒ½æ­£å¥½ç»„æˆä¸€ä¸ªæ²™æ¼ã€‚è¦æ±‚æ‰“å°å‡ºçš„æ²™æ¼èƒ½ç”¨æ‰å°½å¯èƒ½å¤šçš„ç¬¦å·ã€‚

    è¾“å…¥æ ¼å¼:
è¾“å…¥åœ¨ä¸€è¡Œç»™å‡º1ä¸ªæ­£æ•´æ•°Nï¼ˆâ‰¤1000ï¼‰å’Œä¸€ä¸ªç¬¦å·ï¼Œä¸­é—´ä»¥ç©ºæ ¼åˆ†éš”ã€‚

    è¾“å‡ºæ ¼å¼:
é¦–å…ˆæ‰“å°å‡ºç”±ç»™å®šç¬¦å·ç»„æˆçš„æœ€å¤§çš„æ²™æ¼å½¢çŠ¶ï¼Œæœ€ååœ¨ä¸€è¡Œä¸­è¾“å‡ºå‰©ä¸‹æ²¡ç”¨æ‰çš„ç¬¦å·æ•°ã€‚

    è¾“å…¥æ ·ä¾‹:
19 *
    è¾“å‡ºæ ·ä¾‹:
*****
    ***
    *
    ***
    *****
    2
    ä»£ç é•¿åº¦é™åˆ¶
    16 KB
    æ—¶é—´é™åˆ¶
    400 ms
    å†…å­˜é™åˆ¶
    64 MB
    æ ˆé™åˆ¶
    8192 KB





import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        //è¾“å…¥
        int n = sc.nextInt();
        char character = sc.next().charAt(0);
        sc.close();

        int layer = 1;
        int total = 1;

        //å¾ªç¯ç»“æŸæ¡ä»¶æ˜¯æ€»ç¬¦å·æ•°<=n
        //æ¯æ¬¡å¾ªç¯éƒ½åˆ¤æ–­æ€»ç¬¦å·æ•°æ˜¯å¦<=n,å¹¶è¾“å‡ºå½“å‰å±‚
        while(total + 2 * (2 * (layer + 1) - 1)  <= n){
            //æ‰€ä»¥è¦è§£å†³2ä¸ªé—®é¢˜:å½“å‰å±‚ç¬¦å·æ•°çš„è®¡ç®—å…¬å¼ã€æ‰“å°å½“å‰å±‚
            layer++;
            total += 2 * (2 * layer - 1);
        }
        //ä»å¾ªç¯å‡ºæ¥åï¼Œlayerç¡®å®šäº†ï¼Œæ¥ç€ æ‰“å°

        //ä¸ŠåŠéƒ¨åˆ†
        //è¦æ­£å€’2æ–¹å‘æ‰“å°layer 2æ¬¡æ˜¯è®¡ç®—å±‚æ•°çš„å…¬å¼çš„åŸå› 
        //ä¸æ˜¯æˆ‘æƒ³çš„layer/2é‚£æ ·ä¸Šä¸‹2éƒ¨åˆ†å¯¹åŠåˆ†å±‚æ•°
        for(int i = layer; i>=1; i--){
            //å±‚æ•°è¶Šä½ï¼Œç©ºç¬¦å·è¶Šå¤š
            for(int j =0 ; j< layer - i ;j++)
                System.out.print(" ");
            for(int k =0 ; k< 2 * i - 1 ;k++)
                System.out.print(character);
            System.out.println();
        }

        //ä¸‹åŠéƒ¨åˆ†
        for (int i = 2; i <= layer; i++) {
            for (int j = 0; j < layer - i; j++) 
                System.out.print(" ");
            for (int k = 0; k < 2 * i - 1; k++) 
                System.out.print(character);
            System.out.println();
        }
        int remaining = n - total;
        System.out.println(remaining);

    }
}
```



"D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\Java.md"





### æ•°ç‹¬	ä¹å®«æ ¼

9*9çš„æ•°ç»„

- æ¯è¡Œ
- æ¯åˆ—
- æ¯3*3çš„å°æ•°ç»„

ä¸èƒ½æœ‰é‡å¤å…ƒç´ 







å‡è®¾æ•°å­—åªèƒ½æ˜¯ 1-9ï¼Œå¯ä»¥ç”¨1ä¸ªæ•´æ•°çš„äºŒè¿›åˆ¶ä½æ¥æ ‡è®°æ•°å­—æ˜¯å¦å‡ºç°

- æ•°å­— 1 å¯¹åº”äºŒè¿›åˆ¶çš„ç¬¬ 1 ä½ï¼ˆä»å³å¾€å·¦æ•°ï¼Œç¬¬ 1 ä½æ˜¯ 2^0=1ï¼‰

- æ•°å­— 2 å¯¹åº”ç¬¬ 2 ä½ï¼ˆ2^1=2ï¼‰

- â€¦â€¦

- æ•°å­— 9 å¯¹åº”ç¬¬ 9 ä½ï¼ˆ2^8=256ï¼‰

    

- æ•°å­— 1 å‡ºç°è¿‡ â†’ æ ‡è®°ä¸º `1`ï¼ˆäºŒè¿›åˆ¶ `000000001`ï¼‰
- æ•°å­— 1 å’Œ 2 éƒ½å‡ºç°è¿‡ â†’ æ ‡è®°ä¸º `1+2=3`ï¼ˆäºŒè¿›åˆ¶ `000000011`ï¼‰



ä¸€ç›´æ„Ÿè§‰ä»£ç æœ‰é—®é¢˜

```java
import java.io.*;
import java.util.*;

public class Main {

    static PrintWriter out = new PrintWriter(System.out);
    static Scanner sc = new Scanner(System.in);

    
    public static void main(String[] args) {
        // æœ‰ t ä¸ªæ•°ç‹¬éœ€è¦æ£€æŸ¥
        int t = sc.nextInt();
        while (t-- > 0) {
            // æ¯è¡Œ9ä¸ªï¼Œæ¯åˆ—9ä¸ªï¼Œæ¯ä¸ªå°æ•°ç»„ï¼ˆ3*3ï¼‰9ä¸ª
            int shu[] = new int[9 * 3]; 
            int f = 1; // å‡è®¾æ•°ç‹¬åˆæ³•ï¼ˆ1 ä»£è¡¨åˆæ³•ï¼Œ0 ä»£è¡¨ä¸åˆæ³•ï¼‰
            // i è¡Œ j åˆ—
            for (int i = 0; i < 9; i++) {
                for (int j = 0; j < 9; j++) {
                    // è¯»å–å½“å‰æ ¼å­çš„æ•°å­—ï¼ˆæ¯”å¦‚ x = 5ï¼‰
                    int x = sc.nextInt();
                    // æ£€æŸ¥æ•°å­—æ˜¯å¦åœ¨ 1~9 ä¹‹é—´ï¼Œå¦åˆ™ç›´æ¥åˆ¤é”™
                    if (x > 9 || x < 1) f = 0;

                    // ç¬¬ i è¡Œçš„æ•°å­—å‡ºç°æƒ…å†µï¼ˆi = 0~8ï¼‰
                    int mark = 1 << (x - 1);
                    if ((shu[i] & mark) != 0) f = 0; // å¦‚æœå½“å‰è¿™ä¸€è¡Œå‡ºç°äº†é‡å¤ï¼Œåˆ™ä¸ç¬¦åˆ
                    shu[i] |= mark; // å½“å‰è¿™ä¸€è¡ŒåŠ ä¸Šè¿™ä¸ªæ•°

                    // ç¬¬ j åˆ—çš„æ•°å­—å‡ºç°æƒ…å†µï¼ˆj = 0~8ï¼‰
                    int colIndex = 9 + j; 
                    if ((shu[colIndex] & mark) != 0) { f = 0; }
                    shu[colIndex] |= mark;

                    // ç¬¬ grid ä¸ªä¹å®«æ ¼çš„æ•°å­—å‡ºç°æƒ…å†µï¼ˆgrid = 0~8ï¼‰
                    // è®¡ç®—å½“å‰æ ¼å­å±äºå“ªä¸ªä¹å®«æ ¼ï¼š
                    // è¡Œ i å±äºç¬¬ (i/3) ä¸ªå¤§ç»„ï¼ˆi=0~2 å±äºç¬¬ 0 ç»„ï¼Œi=3~5 å±äºç¬¬ 1 ç»„ï¼Œi=6~8 å±äºç¬¬ 2 ç»„ï¼‰
                    // åˆ— j å±äºç¬¬ (j/3) ä¸ªå¤§ç»„ï¼ˆåŒç†ï¼‰
                    // ä¹å®«æ ¼ç´¢å¼•ï¼š18 + (i/3)*3 + (j/3)ï¼Œä¾‹å¦‚ i=0,j=0 â†’ 18+0+0=18ï¼ˆç¬¬ 1 ä¸ªä¹å®«æ ¼ï¼‰
                    int gridIndex = 18 + (i / 3) * 3 + (j / 3); 
                    if ((shu[gridIndex] & mark) != 0) { f = 0; }
                    shu[gridIndex] |= mark;
                }
            }
            out.println(f);
        }
        out.flush();
        out.close();
    }
//æ•°å­— x å¯¹åº”çš„äºŒè¿›åˆ¶ä½æ˜¯ x-1 è€Œé xï¼Œå› ä¸ºæ•°å­— 1 å¯¹åº”ç¬¬ 0 ä½ï¼ˆä» 0 å¼€å§‹è®¡æ•°
//åº”è¯¥ç”¨ |=ï¼ˆæŒ‰ä½æˆ–ï¼‰æ¥æ ‡è®°æ•°å­—å‡ºç°ï¼Œè€Œä¸æ˜¯ +=ï¼ˆåŠ æ³•ï¼‰ã€‚
//  |= èƒ½ç¡®ä¿äºŒè¿›åˆ¶ä½è¢«è®¾ç½®ä¸º 1 ä¸”ä¸å½±å“å…¶ä»–ä½ï¼Œè€Œ += ä¼šå¯¼è‡´æ•°å€¼é”™è¯¯ï¼ˆæ¯”å¦‚é‡å¤æ ‡è®°æ—¶æ•°å€¼å åŠ ï¼‰
}
```



```java
import java.io.*;
import java.util.*;

public class Main {

    static PrintWriter out = new PrintWriter(System.out);
    static Scanner sc = new Scanner(System.in);
    
    public static void main(String[] args) {
        // æœ‰ t ä¸ªæ•°ç‹¬éœ€è¦æ£€æŸ¥
        int t = sc.nextInt();
        while (t-- > 0) {
            // æ¯è¡Œ9ä¸ªï¼Œæ¯åˆ—9ä¸ªï¼Œæ¯ä¸ªå°æ•°ç»„ï¼ˆ3*3ï¼‰9ä¸ª
            int shu[] = new int[9 * 3]; 
            int f = 1; // å‡è®¾æ•°ç‹¬åˆæ³•ï¼ˆ1 ä»£è¡¨åˆæ³•ï¼Œ0 ä»£è¡¨ä¸åˆæ³•ï¼‰
            // i è¡Œ j åˆ—
            for (int i = 0; i < 9; i++) {
                for (int j = 0; j < 9; j++) {
                    // è¯»å–å½“å‰æ ¼å­çš„æ•°å­—ï¼ˆæ¯”å¦‚ x = 5ï¼‰
                    int x = sc.nextInt();
                    // æ£€æŸ¥æ•°å­—æ˜¯å¦åœ¨ 1~9 ä¹‹é—´ï¼Œå¦åˆ™ç›´æ¥åˆ¤é”™
                    if (x > 9 || x < 1) f = 0;

                    // ç¬¬ i è¡Œçš„æ•°å­—å‡ºç°æƒ…å†µï¼ˆi = 0~8ï¼‰
                    // æ•°å­— x å¯¹åº”çš„æ ‡è®°æ˜¯ 2 çš„ (x-1) æ¬¡æ–¹ï¼ˆå› ä¸ºæ•°å­— 1 å¯¹åº”ç¬¬ 0 ä½ï¼Œx=5 å¯¹åº” 2^4=16ï¼‰
                    int mark = 1 << (x - 1);
                    if ((shu[i] & mark) != 0) f = 0; // å¦‚æœå½“å‰è¿™ä¸€è¡Œå‡ºç°äº†é‡å¤ï¼Œåˆ™ä¸ç¬¦åˆ
                    shu[i] |= mark; // æ— è®ºæ˜¯å¦åˆæ³•ï¼Œå…ˆè®°å½•ï¼Œåé¢å¦‚æœåˆæ³•ä¼šç”¨åˆ°

                    // ç¬¬ j åˆ—çš„æ•°å­—å‡ºç°æƒ…å†µï¼ˆj = 0~8ï¼‰
                    //ç”±äºå‰9ä¸ªå…ƒç´ ç”¨äºå­˜å‚¨è¡Œ,æ‰€ä»¥åˆ—çš„ä¿¡æ¯ä»ç´¢å¼• 9 å¼€å§‹
                    if ((shu[9 + j] & mark) != 0) { f = 0; }
                    shu[9 + j] |= mark;

                    
                    //ç”±äºå‰ 18 ä¸ªå…ƒç´ ï¼ˆ0 - 17ï¼‰åˆ†åˆ«ç”¨äºå­˜å‚¨è¡Œå’Œåˆ—çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ä¹å®«æ ¼çš„ä¿¡æ¯ä»ç´¢å¼• 18 å¼€å§‹
                    /*i / 3ï¼ši æ˜¯è¡Œå·ï¼Œi / 3 èƒ½æŠŠæ•°ç‹¬çš„ 9 è¡Œåˆ’åˆ†ä¸º 3 ä¸ªå¤§ç»„ï¼ˆæ¯ä¸ªå¤§ç»„åŒ…å« 3 è¡Œï¼‰ã€‚ä¾‹å¦‚ï¼Œi ä» 0 åˆ° 2 å±äºç¬¬ 0 ç»„ï¼Œi ä» 3 åˆ° 5 å±äºç¬¬ 1 ç»„ï¼Œi ä» 6 åˆ° 8 å±äºç¬¬ 2 ç»„ã€‚
j / 3ï¼šj æ˜¯åˆ—å·ï¼Œj / 3 èƒ½æŠŠæ•°ç‹¬çš„ 9 åˆ—åˆ’åˆ†ä¸º 3 ä¸ªå¤§ç»„ï¼ˆæ¯ä¸ªå¤§ç»„åŒ…å« 3 åˆ—ï¼‰ã€‚ä¾‹å¦‚ï¼Œj ä» 0 åˆ° 2 å±äºç¬¬ 0 ç»„ï¼Œj ä» 3 åˆ° 5 å±äºç¬¬ 1 ç»„ï¼Œj ä» 6 åˆ° 8 å±äºç¬¬ 2 ç»„ã€‚
i / 3 * 3 + j / 3ï¼šè¿™éƒ¨åˆ†è®¡ç®—å‡ºå½“å‰æ ¼å­ (i, j) æ‰€å±çš„ä¹å®«æ ¼ç¼–å·ï¼ŒèŒƒå›´æ˜¯ä» 0 åˆ° 8ã€‚æŠŠè¿™ä¸ªç¼–å·åŠ ä¸Š 2 * 9ï¼Œå°±å¾—åˆ°äº†è¯¥ä¹å®«æ ¼åœ¨ shu æ•°ç»„ä¸­çš„ç´¢å¼•ã€‚*/
                    // ç¬¬ grid ä¸ªä¹å®«æ ¼çš„æ•°å­—å‡ºç°æƒ…å†µï¼ˆgrid = 0~8ï¼‰
                    // è®¡ç®—å½“å‰æ ¼å­å±äºå“ªä¸ªä¹å®«æ ¼ï¼š
                    // è¡Œ i å±äºç¬¬ (i/3) ä¸ªå¤§ç»„ï¼ˆi=0~2 å±äºç¬¬ 0 ç»„ï¼Œi=3~5 å±äºç¬¬ 1 ç»„ï¼Œi=6~8 å±äºç¬¬ 2 ç»„ï¼‰
                    // åˆ— j å±äºç¬¬ (j/3) ä¸ªå¤§ç»„ï¼ˆåŒç†ï¼‰
                    // ä¹å®«æ ¼ç´¢å¼•ï¼š18 + (i/3)*3 + (j/3)ï¼Œä¾‹å¦‚ i=0,j=0 â†’ 18+0+0=18ï¼ˆç¬¬ 1 ä¸ªä¹å®«æ ¼ï¼‰
                    int gridIndex = 18 + (i / 3) * 3 + (j / 3); 
                    if ((shu[gridIndex] & mark) != 0) { f = 0; }
                    shu[gridIndex] |= mark;
                }
            }
            out.println(f);
        }
        out.flush();
        out.close();
    }
//æ•°å­— x å¯¹åº”çš„äºŒè¿›åˆ¶ä½æ˜¯ x-1 è€Œé xï¼Œå› ä¸ºæ•°å­— 1 å¯¹åº”ç¬¬ 0 ä½ï¼ˆä» 0 å¼€å§‹è®¡æ•°
//åº”è¯¥ç”¨ |=ï¼ˆæŒ‰ä½æˆ–ï¼‰æ¥æ ‡è®°æ•°å­—å‡ºç°ï¼Œè€Œä¸æ˜¯ +=ï¼ˆåŠ æ³•ï¼‰ã€‚
//  |= èƒ½ç¡®ä¿äºŒè¿›åˆ¶ä½è¢«è®¾ç½®ä¸º 1 ä¸”ä¸å½±å“å…¶ä»–ä½ï¼Œè€Œ += ä¼šå¯¼è‡´æ•°å€¼é”™è¯¯ï¼ˆæ¯”å¦‚é‡å¤æ ‡è®°æ—¶æ•°å€¼å åŠ ï¼‰
}
```



```java
// é‡å¤éƒ¨åˆ†æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥æˆ‘å°è£…äº†

package TestField;

import java.io.*;
import java.util.*;

public class Main {

	static PrintWriter out = new PrintWriter(System.out);
	static Scanner sc = new Scanner(System.in);

	// æ¯è¡Œ9ä¸ªï¼Œæ¯åˆ—9ä¸ªï¼Œæ¯ä¸ªå°æ•°ç»„ï¼ˆ3*3ï¼‰9ä¸ª
	static int shu[] = new int[9 * 3];
	static int f = 1; // å‡è®¾æ•°ç‹¬åˆæ³•ï¼ˆ1 ä»£è¡¨åˆæ³•ï¼Œ0 ä»£è¡¨ä¸åˆæ³•ï¼‰

	static void fengzhuang(int i, int mark) {
		if ((shu[i] & mark) != 0)
			f = 0; // å¦‚æœå½“å‰è¿™ä¸€è¡Œå‡ºç°äº†é‡å¤ï¼Œåˆ™ä¸ç¬¦åˆ
		shu[i] |= mark; // å½“å‰è¿™ä¸€è¡ŒåŠ ä¸Šè¿™ä¸ªæ•°
	}

	public static void main(String[] args) {
		// æœ‰ t ä¸ªæ•°ç‹¬éœ€è¦æ£€æŸ¥
		int t = sc.nextInt();
		while (t-- > 0) {

			// i è¡Œ j åˆ—
			for (int i = 0; i < 9; i++) {
				for (int j = 0; j < 9; j++) {
					// è¯»å–å½“å‰æ ¼å­çš„æ•°å­—ï¼ˆæ¯”å¦‚ x = 5ï¼‰
					int x = sc.nextInt();
					// æ£€æŸ¥æ•°å­—æ˜¯å¦åœ¨ 1~9 ä¹‹é—´ï¼Œå¦åˆ™ç›´æ¥åˆ¤é”™
					if (x > 9 || x < 1)
						f = 0;

					// ç¬¬ i è¡Œçš„æ•°å­—å‡ºç°æƒ…å†µï¼ˆi = 0~8ï¼‰
					int mark = 1 << (x - 1);	
					fengzhuang(i, mark);

					// ç¬¬ j åˆ—çš„æ•°å­—å‡ºç°æƒ…å†µï¼ˆj = 0~8ï¼‰
					int colIndex = 9 + j;
					fengzhuang(colIndex, mark);

					// ç¬¬ grid ä¸ªä¹å®«æ ¼çš„æ•°å­—å‡ºç°æƒ…å†µï¼ˆgrid = 0~8ï¼‰
					// è®¡ç®—å½“å‰æ ¼å­å±äºå“ªä¸ªä¹å®«æ ¼ï¼š
					// è¡Œ i å±äºç¬¬ (i/3) ä¸ªå¤§ç»„ï¼ˆi=0~2 å±äºç¬¬ 0 ç»„ï¼Œi=3~5 å±äºç¬¬ 1 ç»„ï¼Œi=6~8 å±äºç¬¬ 2 ç»„ï¼‰
					// åˆ— j å±äºç¬¬ (j/3) ä¸ªå¤§ç»„ï¼ˆåŒç†ï¼‰
					// ä¹å®«æ ¼ç´¢å¼•ï¼š18 + (i/3)*3 + (j/3)ï¼Œä¾‹å¦‚ i=0,j=0 â†’ 18+0+0=18ï¼ˆç¬¬ 1 ä¸ªä¹å®«æ ¼ï¼‰
					int gridIndex = 18 + (i / 3) * 3 + (j / 3);
					fengzhuang(gridIndex, mark);
				}
			}
			out.println(f);
		}
		out.flush();
		out.close();
	}
//æ•°å­— x å¯¹åº”çš„äºŒè¿›åˆ¶ä½æ˜¯ x-1 è€Œé xï¼Œå› ä¸ºæ•°å­— 1 å¯¹åº”ç¬¬ 0 ä½ï¼ˆä» 0 å¼€å§‹è®¡æ•°
//åº”è¯¥ç”¨ |=ï¼ˆæŒ‰ä½æˆ–ï¼‰æ¥æ ‡è®°æ•°å­—å‡ºç°ï¼Œè€Œä¸æ˜¯ +=ï¼ˆåŠ æ³•ï¼‰ã€‚
//  |= èƒ½ç¡®ä¿äºŒè¿›åˆ¶ä½è¢«è®¾ç½®ä¸º 1 ä¸”ä¸å½±å“å…¶ä»–ä½ï¼Œè€Œ += ä¼šå¯¼è‡´æ•°å€¼é”™è¯¯ï¼ˆæ¯”å¦‚é‡å¤æ ‡è®°æ—¶æ•°å€¼å åŠ ï¼‰
}
```





### å•ä½æ¢ç®—

 Byteï¼ˆå­—èŠ‚ï¼‰çš„ç®€ç§°æ˜¯ **B**ï¼Œ **bitï¼ˆæ¯”ç‰¹ä½ï¼‰** çš„ç®€ç§°æ˜¯**b**

1 å­—èŠ‚ï¼ˆByteï¼‰ = 8 ä½ï¼ˆbitï¼‰

- bï¼ˆbitï¼‰æ˜¯æ¯”ç‰¹ï¼Œæœ€å°å•ä½ã€‚
- Bï¼ˆByteï¼‰æ˜¯å­—èŠ‚ï¼Œ1B=8bã€‚
- Kb æ˜¯åƒæ¯”ç‰¹ï¼Œ1Kb=1024bã€‚
- Mb æ˜¯å…†æ¯”ç‰¹ï¼Œ1Mb=1024Kbã€‚
- Gb æ˜¯å‰æ¯”ç‰¹ï¼Œ1Gb=1024Mbã€‚

æœ€å°æ˜¯ä½bitï¼Œå…¶æ¬¡æ˜¯å­—èŠ‚byte





### æ—¥æœŸ

Date

```java
import java.util.Date;

public class Main{
    public static void main(String[] args){
        
        // åˆ›å»ºæ—¥æœŸå¯¹è±¡ï¼ŒæŠŠå½“å‰çš„æ—¶é—´è½¬æˆæ—¥æœŸå¯¹è±¡
		System.out.println(new Date()); // Sat Sep 19 23:11:21 CST 2020
		
        // åˆ›å»ºæ—¥æœŸå¯¹è±¡ï¼ŒæŠŠå½“å‰çš„æ¯«ç§’å€¼è½¬æˆæ—¥æœŸå¯¹è±¡
		System.out.println(new Date(0L)); // Thu Jan 01 08:00:00 CST 1970

		Date date = new Date();
		System.out.println(date.getTime());
        // è¾“å‡ºæ¯«ç§’æ•°
    }
}
```



SimpleDateFormat

| æ ‡è¯†å­—æ¯ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰ | å«ä¹‰ |
| ---------------------- | ---- |
| y                      | å¹´   |
| M                      | æœˆ   |
| d                      | æ—¥   |
| H                      | æ—¶   |
| m                      | åˆ†   |
| s                      | ç§’   |

åªæœ‰ æœˆ å’Œ æ—¶ å¤§å†™

```java
package TestField;

import java.text.SimpleDateFormat;

public class Main {
    public static void main(String[] args) {
        // å¯¹åº”çš„æ—¥æœŸæ ¼å¼å¦‚ï¼š2018-01-16 15:06:38
    	SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
    }    
}

```

- `public String format(Date date)`ï¼šå°†Dateå¯¹è±¡æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚
- `public Date parse(String source)`ï¼šå°†å­—ç¬¦ä¸²è§£æä¸ºDateå¯¹è±¡ã€‚



```java
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Date;
/*
 æŠŠDateå¯¹è±¡è½¬æ¢æˆString
*/
public class Demo03DateFormatMethod {
    public static void main(String[] args) {
        Date date = new Date();
        // åˆ›å»ºæ—¥æœŸæ ¼å¼åŒ–å¯¹è±¡,åœ¨è·å–æ ¼å¼åŒ–å¯¹è±¡æ—¶å¯ä»¥æŒ‡å®šé£æ ¼
        SimpleDateFormat df = new SimpleDateFormat("yyyyå¹´MMæœˆddæ—¥");
        String str = df.format(date);
        System.out.println(str); // 2020å¹´09æœˆ19æ—¥
    }
}

```

```java
import java.text.DateFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
/*
 æŠŠStringè½¬æ¢æˆDateå¯¹è±¡
*/
public class Demo04DateFormatMethod {
    public static void main(String[] args) throws ParseException {
        SimpleDateFormat df = new SimpleDateFormat("yyyyå¹´MMæœˆddæ—¥");
        String str = "2018å¹´12æœˆ11æ—¥";
        Date date = df.parse(str);
        System.out.println(date); // Tue Dec 11 00:00:00 CST 2018
    }
}

```



## ç«èµ›ç§¯ç´¯



### é¢˜ç›®åˆ†æ





### é—®é¢˜

 

#### ***\*ä»¥å‰çš„ä¸œè¥¿æœ‰ç‚¹å¿˜äº†ï¼Œä¹Ÿç®—æ˜¯åŸºç¡€ä¸å¥½\****

 

å¾—æœ‰å°è±¡ï¼ŒçŸ¥é“ä»€ä¹ˆä¸œè¥¿å»å“ªæ‰¾ï¼Œæ‰‹å†Œæ¯”èµ›æ—¶å¯æŸ¥

D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\Java.md

![img](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\wpsD720.tmp.jpg) 

Stringã€StringBufferâ€¦â€¦

BigDecimal

 

 

#### ***\*ACMæ¨¡å¼\****

æ¨¡å—åŒ–æ€æƒ³å…»æˆä¹ æƒ¯

éµå®ˆæŒ‡å®šè¾“å…¥è¾“å‡ºæ ¼å¼

å®ç°çš„æ–¹æ³•åŒ…è£…æˆpinYin ( num ) 

è¾“å…¥è¾“å‡ºå’Œå°è£…æ–¹æ³•åˆ†å¼€

 

 

 

#### ***\*DEBUG\****

æ¯”å¦‚è¿™ä¸ªarr[numStr[i] - '0'];

 

 

 



### æŠ€å·§

 

 

#### **ä½œç­”æ–¹å¼**

ptaå’Œè“æ¡¥æ¯ä½œç­”æ–¹å¼ä¸€è‡´

```java
import java.util.Scanner;
// 1: æ— éœ€package
// 2: ç±»åå¿…é¡»Main, ä¸å¯ä¿®æ”¹
// 3ï¼šè¦å¯¼åŒ…

public class Main {
    public static void main(String[] args) {
        Scanner scan = new Scanner(System.in);
        //åœ¨æ­¤è¾“å…¥æ‚¨çš„ä»£ç ...
        scan.close();
    }
}
```

 

```c++
//	å¯ä»¥åªå†™mainï¼Œåœ¨mainé‡Œå®ç°æ–¹æ³•
#include <iostream>
using namespace std;

int main() {

    //å®ç°ä»£ç 
    return 0;
}






//æˆ–è€…mainå¤–å®šä¹‰æ–¹æ³•ï¼Œmainå†…è°ƒç”¨		æ¨èè¿™ç§
#include <iostream>
using namespace std;


void fun() {
    //æ‰§è¡Œä»£ç 
}

int main() {

    fun();
    return 0;
}
```

 

 

 



#### å°†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦è½¬æ¢ä¸ºå¯¹åº”çš„æ•°å­—

int digit = num.charAt(i) - '0';

 





#### è¿è¡Œè¶…æ—¶

2025å¹´2æœˆ21æ—¥ æˆ‘ç¬¬ä¸€æ¬¡é‡åˆ°`è¿è¡Œè¶…æ—¶`ï¼Œç”¨BufferReaderä»£æ›¿Scanneråé—®é¢˜è§£å†³

å¯¹äºç«èµ›ï¼Œä¸€ä¸ä¸€æ¯«éƒ½è¦æ³¨æ„ï¼Œåªè¦é¿å…äº†å‘ï¼Œèƒ½ç”¨æ›´é«˜æ•ˆçš„åŠæ³•å°±ç”¨





ç¬¬1ä¸ªæˆ‘å†™çš„	ç¬¬2ä¸ªaiå†™çš„

æµ‹è¯•ç‚¹æˆ‘æ²¡æ‹¿åˆ°æ‰€æœ‰åˆ†ï¼ŒåŸå› æ˜¯æˆ‘åªçœ‹åˆ°-600è¿™1ä¸ªæµ‹è¯•ç‚¹ï¼Œå¿½ç•¥äº†æ­£æ•°

æ‰€ä»¥ï¼Œä»£ç è¦å†™çš„é€šç”¨æ€§å¼ºï¼Œå…¨é¢ï¼Œè¿˜æœ‰åˆ«åªçœ‹åˆ°çœ¼å‰çš„æµ‹è¯•ç‚¹

```c++
#include <iostream>
#include <string>

using namespace std;

const static string pinYin[] = {"ling", "yi", "er", "san", "si", "wu", "liu", "qi", "ba", "jiu"};

void printPinYin(string numStr){

    if(numStr[0] == '-' )
        cout << "fu";
    for(int i = 1; i<numStr.length();i++){
        cout << " ";
        int digit = numStr[i] - '0';
        cout << pinYin[digit];
    }
    
}

int main(){

    string numStr;
    cin >> numStr;
    
    printPinYin(numStr);
    return 0;
}




#include <iostream>
#include <string>
using namespace std;

int main() {
    string numStr;
    cin >> numStr;

    // å­˜å‚¨æ•°å­—å¯¹åº”çš„æ‹¼éŸ³
    string pinyin[10] = {"ling", "yi", "er", "san", "si", "wu", "liu", "qi", "ba", "jiu"};

    // å¤„ç†è´Ÿæ•°æƒ…å†µ
    if (numStr[0] == '-') {
        cout << "fu";
        numStr = numStr.substr(1);
    }

    for (int i = 0; i < numStr.length(); i++) {
        if (i > 0) {
            cout << " ";
        }
        int digit = numStr[i] - '0';
        cout << pinyin[digit];
    }

    return 0;
}
```







```java
/* 
ä¸€ä¸ªå¤§è§„æ¨¡æ•°æ®é›†çš„æµ‹è¯•ç‚¹å§‹ç»ˆä¸é€šè¿‡ï¼Œé€šè¿‡å‡å°‘å­—ç¬¦ä¸²æ“ä½œï¼Œæå‰ç»“æŸä¸å¿…è¦å¤„ç†ï¼Œæ›´é«˜æ•ˆçš„apiç­‰æŠ€æœ¯è¿­ä»£ï¼Œæœ€ç»ˆé€šè¿‡ï¼Œè¿™äº›å°±æ˜¯å¯¹javaçŸ¥è¯†ç†Ÿæ‚‰ï¼Œå’Œä¸€äº›åŸºæœ¬æ“ä½œï¼Œä½†å…¶ä¸­æˆ‘è¦äº†è§£çš„æ˜¯è‡ªå®šä¹‰è¾“å…¥è¯»å–å™¨ï¼ˆä½¿ç”¨è‡ªå®šä¹‰çš„ InputReader ç±»æ¥å¤„ç†è¾“å…¥ï¼Œå®ƒç›´æ¥ä»è¾“å…¥æµä¸­è¯»å–å­—èŠ‚ï¼Œé¿å…äº† BufferedReaderã€StringTokenizer å’Œ split æ–¹æ³•å¸¦æ¥çš„é¢å¤–å¼€é”€ï¼Œè¿™ç§æ–¹å¼åœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶æ•ˆç‡æ›´é«˜ã€‚ï¼‰
*/


import java.io.BufferedInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.BitSet;

public class Main {
    static class InputReader {
        
        private InputStream stream;
        private byte[] buf = new byte[1024];
        private int curChar;
        private int numChars;
        
/*
streamï¼šç”¨äºå­˜å‚¨è¾“å…¥æµï¼Œé€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ï¼Œå€ŸåŠ©å®ƒæ¥è¯»å–æ•°æ®ã€‚
bufï¼šè¿™æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œå¤§å°ä¸º 1024ï¼Œä½œä¸ºç¼“å†²åŒºä½¿ç”¨ï¼Œç”¨äºä¸€æ¬¡æ€§ä»è¾“å…¥æµä¸­è¯»å–ä¸€å®šæ•°é‡çš„æ•°æ®ï¼Œä»è€Œå‡å°‘ä¸è¾“å…¥æµçš„äº¤äº’æ¬¡æ•°ï¼Œæå‡è¯»å–æ•ˆç‡ã€‚
curCharï¼šè¡¨ç¤ºå½“å‰åœ¨ç¼“å†²åŒº buf ä¸­è¯»å–çš„å­—èŠ‚ä½ç½®ã€‚
numCharsï¼šè®°å½•å½“å‰ç¼“å†²åŒº buf ä¸­æœ‰æ•ˆçš„å­—èŠ‚æ•°é‡
*/

        public InputReader(InputStream stream) {
            this.stream = stream;
        }
/*
è¯¥æ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ª InputStream ç±»å‹çš„å‚æ•° streamï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™ç±»çš„æˆå‘˜å˜é‡ streamï¼Œä»¥æ­¤å®Œæˆè¾“å…¥æµçš„åˆå§‹åŒ–ã€‚
*/

        private int read() {
            if (numChars == -1)
                throw new RuntimeException();
            if (curChar >= numChars) {
                curChar = 0;
                try {
                    numChars = stream.read(buf);
                } catch (IOException e) {
                    throw new RuntimeException(e);
                }
                if (numChars <= 0)
                    return -1;
            }
            return buf[curChar++];
        }


/*
æ­¤æ–¹æ³•çš„ä½œç”¨æ˜¯ä»ç¼“å†²åŒº buf ä¸­è¯»å–ä¸€ä¸ªå­—èŠ‚ã€‚
é¦–å…ˆæ£€æŸ¥ numChars æ˜¯å¦ä¸º -1ï¼Œè‹¥ä¸º -1 åˆ™è¡¨ç¤ºè¾“å…¥æµå·²ç»“æŸï¼Œæ­¤æ—¶æŠ›å‡º RuntimeException å¼‚å¸¸ã€‚
æ¥ç€æ£€æŸ¥ curChar æ˜¯å¦å¤§äºæˆ–ç­‰äº numCharsï¼Œè‹¥æ»¡è¶³æ¡ä»¶ï¼Œè¯´æ˜ç¼“å†²åŒºä¸­çš„æ•°æ®å·²å…¨éƒ¨è¯»å–å®Œæ¯•ï¼Œéœ€è¦ä»è¾“å…¥æµä¸­é‡æ–°è¯»å–æ•°æ®åˆ°ç¼“å†²åŒºã€‚å°† curChar é‡ç½®ä¸º 0ï¼Œè°ƒç”¨ stream.read(buf) æ–¹æ³•å°†æ•°æ®è¯»å–åˆ° buf ä¸­ï¼Œå¹¶å°†è¯»å–çš„å­—èŠ‚æ•°èµ‹å€¼ç»™ numCharsã€‚è‹¥è¯»å–çš„å­—èŠ‚æ•°å°äºç­‰äº 0ï¼Œæ„å‘³ç€è¾“å…¥æµå·²ç»“æŸï¼Œè¿”å› -1ã€‚
è‹¥ç¼“å†²åŒºä¸­è¿˜æœ‰æœªè¯»å–çš„æ•°æ®ï¼Œè¿”å› buf[curChar]ï¼Œå¹¶å°† curChar åŠ  1ã€‚
*/



        public int nextInt() {
            int c = read();
            while (isSpaceChar(c))
                c = read();
            int sgn = 1;
            if (c == '-') {
                sgn = -1;
                c = read();
            }
            int res = 0;
            do {
                if (c < '0' || c > '9')
                    throw new RuntimeException();
                res *= 10;
                res += c - '0';
                c = read();
            } while (!isSpaceChar(c));
            return res * sgn;
        }
/*
è¯¥æ–¹æ³•ç”¨äºä»è¾“å…¥æµä¸­è¯»å–ä¸€ä¸ªæ•´æ•°ã€‚
é¦–å…ˆè°ƒç”¨ read æ–¹æ³•è¯»å–ä¸€ä¸ªå­—èŠ‚ï¼Œç„¶åè·³è¿‡æ‰€æœ‰çš„ç©ºç™½å­—ç¬¦ï¼ˆå¦‚ç©ºæ ¼ã€æ¢è¡Œç¬¦ç­‰ï¼‰ï¼Œç›´åˆ°é‡åˆ°éç©ºç™½å­—ç¬¦ã€‚
æ£€æŸ¥è¯¥å­—ç¬¦æ˜¯å¦ä¸ºè´Ÿå· -ï¼Œè‹¥æ˜¯åˆ™å°†ç¬¦å·æ ‡å¿— sgn è®¾ä¸º -1ï¼Œå¹¶ç»§ç»­è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚
åˆå§‹åŒ–ç»“æœå˜é‡ res ä¸º 0ï¼Œæ¥ç€è¿›å…¥å¾ªç¯ï¼Œå°†è¯»å–åˆ°çš„æ•°å­—å­—ç¬¦è½¬æ¢ä¸ºå¯¹åº”çš„æ•´æ•°ï¼Œå¹¶ç´¯åŠ åˆ° res ä¸­ã€‚æ¯æ¬¡å¾ªç¯éƒ½å°† res ä¹˜ä»¥ 10ï¼Œç„¶ååŠ ä¸Šå½“å‰å­—ç¬¦å¯¹åº”çš„æ•°å­—ã€‚
å½“é‡åˆ°ç©ºç™½å­—ç¬¦æ—¶ï¼Œå¾ªç¯ç»“æŸï¼Œè¿”å› res * sgnã€‚
*/

        private boolean isSpaceChar(int c) {
            return c == ' ' || c == '\n' || c == '\r' || c == '\t' || c == -1;
        }
/*
è¯¥æ–¹æ³•ç”¨äºåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€æ¢è¡Œç¬¦ã€å›è½¦ç¬¦ã€åˆ¶è¡¨ç¬¦ä»¥åŠè¾“å…¥æµç»“æŸæ ‡å¿—ï¼ˆ-1ï¼‰ã€‚è‹¥ä¸ºç©ºç™½å­—ç¬¦åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚
*/
    }

    
    public static void main(String[] args) {
        InputReader in = new InputReader(new BufferedInputStream(System.in));
        int n = in.nextInt();

        BitSet hasFriends = new BitSet(100000);

        for (int i = 0; i < n; i++) {
            int k = in.nextInt();
            if (k > 1) {
                for (int j = 0; j < k; j++) {
                    hasFriends.set(in.nextInt());
                }
            } else {
                in.nextInt();
            }
        }

        int m = in.nextInt();
        StringBuilder result = new StringBuilder();
        boolean first = true;
        for (int i = 0; i < m; i++) {
            int id = in.nextInt();
            if (!hasFriends.get(id)) {
                if (!first) {
                    result.append(' ');
                }
                for (int j = 10000; j >= 1; j /= 10) {
                    result.append(id / j % 10);
                }
                first = false;
                hasFriends.set(id);
            }
        }

        if (result.length() == 0) {
            System.out.println("No one is handsome");
        } else {
            System.out.println(result);
        }
    }
}
```













#### **`ä»£ç æ¨¡æ¿`**



`ä¸»ç±»`

```java
//ä¸»ç±»


import java.util.Scanner;
// 1: æ— éœ€package
// 2: ç±»åå¿…é¡»Main, ä¸å¯ä¿®æ”¹
// 3ï¼šè¦å¯¼åŒ…

public class Main {
    public static void main(String[] args) {
        Scanner scan = new Scanner(System.in);
        //åœ¨æ­¤è¾“å…¥æ‚¨çš„ä»£ç ...
        scan.close();
    }
}
```





`è¾“å…¥è¾“å‡º`

```Java
package TestField;

import java.io.*;
import java.util.*;
import java.math.BigDecimal;

public class Main {

	static BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
	static PrintWriter out = new PrintWriter(new OutputStreamWriter(System.out));
	static String[] line = null;
	static String[] line2 = null;

	public static void main(String[] args) throws IOException {
		
		// è¾“å…¥å•ä¸ª
		line = in.readLine().split(" ");
		int a = Integer.parseInt(line[0]);
		
		out.println(a);
		out.flush(); // è¾“å‡º1æ¬¡å°±å¿…é¡»åˆ·æ–°ï¼Œå¦åˆ™æœ‰é—®é¢˜
		
		
		// ä¸€æ¬¡æ€§è¾“å…¥ä¸€ç»„ï¼Œä»¥ç©ºæ ¼åˆ†å‰²
//		line = in.readLine().split(" ");
//		for(int i = 0; i < 10; ++i) {
//			int x = Integer.parseInt(line[i]);
//			out.printf("%d", x);
//			out.flush();
//		}
		
		
		// è¿ç»­è¾“å…¥ï¼Œæ²¡ä»»ä½•é—®é¢˜ï¼Œåªæœ‰è¾“å‡ºçš„æ—¶å€™éœ€è¦åˆ·æ–°
		line = in.readLine().split(" ");
		line2 = in.readLine().split(" ");
		int a = Integer.parseInt(line[0]);
		int b = Integer.parseInt(line2[0]);
		out.println(a + b);
		out.flush();

//		
		// ä½¿ç”¨ç»“æŸåå…³é—­
		out.close();
		
		
	}

}
```





```java
//	è¾“å‡º
//	æ•°æ®é‡å¤§çš„æ—¶å€™ç”¨BufferedWriterè¾“å‡º

    
import java.io.BufferedWriter;
import java.io.OutputStreamWriter;
import java.util.Scanner;

public class Main {

	public static void main(String[] args) throws Exception {

		Scanner cin = new Scanner(System.in);
		BufferedWriter cout = new BufferedWriter(new OutputStreamWriter(System.out));

		int a1 = 66;
		char a2 = '6';
		String a3 = "66";
		cout.write(a1);
		cout.write("\n");
		cout.write(a2);
		cout.write("\n");
		cout.write(a3);
		cout.write("\n");
		cout.flush();
		cin.close();
	}
}

//è¾“å‡º
B
6
66

//	éœ€è¦æ³¨æ„çš„æ˜¯ write() ä¸èƒ½ç›´æ¥è¾“å‡ºintç±»å‹ï¼Œ å› ä¸ºwrite(int a) ä¼šè¾“å‡ºå…¶å¯¹åº”çš„ASCiiç çš„å­—ç¬¦ ,æ¯”å¦‚è¾“å‡º 65 ä¼šæ˜¾ç¤º Aã€‚éœ€è¦æ³¨æ„çš„æ˜¯ write() ä¸èƒ½ç›´æ¥è¾“å‡ºintç±»å‹ï¼Œ å› ä¸ºwrite(int a) ä¼šè¾“å‡ºå…¶å¯¹åº”çš„ASCiiç çš„å­—ç¬¦ ,æ¯”å¦‚è¾“å‡º 65 ä¼šæ˜¾ç¤º Aã€‚
//	æ‰€ä»¥å½“éœ€è¦è¾“å‡ºä¸€ä¸ªintç±»å‹çš„å˜é‡æ—¶ï¼Œ å¯ä»¥ç”¨Integer.toString(int a)æ–¹æ³• å°†å…¶å˜ä¸ºå­—ç¬¦ä¸²å½¢å¼è¾“å‡ºã€‚æˆ–è€…ä½¿ç”¨ + æ‹¼æ¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™æ · å‚æ•°æ•´ä½“å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²äº†ï¼Œæ¯”å¦‚åŠ ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚æ‰€ä»¥å½“éœ€è¦è¾“å‡ºä¸€ä¸ªintç±»å‹çš„å˜é‡æ—¶ï¼Œ å¯ä»¥ç”¨Integer.toString(int a)æ–¹æ³• å°†å…¶å˜ä¸ºå­—ç¬¦ä¸²å½¢å¼è¾“å‡ºã€‚æˆ–è€…ä½¿ç”¨ + æ‹¼æ¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™æ · å‚æ•°æ•´ä½“å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²äº†ï¼Œæ¯”å¦‚åŠ ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚

public class Main {
    public static void main(String[] args) throws Exception {
        Scanner cin = new Scanner(System.in);
        BufferedWriter cout = new BufferedWriter(new OutputStreamWriter(System.out));
        int a1 = 66;
        cout.write(a1+"\n");
        cout.write(Integer.toString(a1));
        cout.flush();
        cin.close();
    }
}

//è¾“å‡º
66
66

```



![image-20250222105414976](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250222105414976.png)







`æ•°ç»„æ¨¡æ¿`

â€‹	åŠ¨æ€æ•°ç»„åˆ†é…

```java
//	åŠ¨æ€æ•°ç»„åˆ†é…
String s[][] = new String[2][]; *//è¿™é‡Œçš„String å¯ä»¥æ¢æˆå…¶ä»–ç±»å‹*
    
```

â€‹	æ•°ç»„å¤åˆ¶

![image-20250222112944629](D:\01\æŠ€æœ¯\ç¬”è®°\mdæ–‡æ¡£\æ•°æ®ç»“æ„ä¸ç®—æ³•.assets\image-20250222112944629.png)

```java
import java.util.Arrays;

//	Arrays.copyOf(åŸæ•°ç»„ï¼Œæ–°æ•°ç»„é•¿åº¦)


å¦‚æœnewLengthå°äºæºæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™å°†æºæ•°ç»„çš„å‰é¢è‹¥å¹²ä¸ªå…ƒç´ å¤åˆ¶åˆ°ç›®æ ‡æ•°ç»„ã€‚
å¦‚æœnewLengthå¤§äºæºæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™å°†æºæ•°ç»„çš„æ‰€æœ‰å…ƒç´ å¤åˆ¶åˆ°ç›®æ ‡æ•°ç»„
```

â€‹	æ•°ç»„å¡«å……

```java
//	Arrays.fill();

Arrays.fill(arr,3);//ç»™æ‰€æœ‰å€¼èµ‹å€¼3
Arrays.fill(arr,2,4,6);//[2,4) ä¸‹æ ‡2ï¼ˆåŒ…æ‹¬ï¼‰åˆ°4ï¼ˆä¸åŒ…æ‹¬ï¼‰èµ‹å€¼ä¸º6
```



â€‹	æ•°ç»„æ’åº

```java
//	Arrays.sort(); //æ•°ç»„æ’åº

æ•°å­—æ•°ç»„é»˜è®¤ä»å°åˆ°å¤§
å­—æ¯æ•°ç»„é»˜è®¤å‡åº

ä¸¥æ ¼æŒ‰ç…§å­—æ¯è¡¨æ’åº

String[] strArray = new String[] { â€œzâ€, â€œaâ€, â€œCâ€ };
Arrays.sort(strArray, String.CASE_INSENSITIVE_ORDER);
//è¾“å‡ºï¼š [a, C, z]



```





`javaå¸¸ç”¨ç±»`

```java
BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        String A = br.readLine();
        String B = br.readLine();
BufferReader æ˜¯ç»™ Rederçš„ç¼“å†²åŒºï¼Œä»å†…å­˜è¯»å–æ›´å¿«
   

StringBuffer æ˜¯ å­—ç¬¦ä¸²ç¼“å†²åŒºï¼Œè®©å­—ç¬¦ä¸²æ›´å¼º
ä¸è¿‡ä¸€èˆ¬éƒ½æ˜¯ç”¨ StringBuilder sb = new StringBuilder();
```



```java
Math.pow()

//æ³¨æ„Mathçš„è¿”å›å€¼
```



```java
//	æšä¸¾

public class Main {

	enum Week {
		MONDAY, TUESDAY, WEDNESDAY
	}

	public static void main(String[] args) {

		Week week = Week.MONDAY;
		System.out.println(week);

	}
}




//	æšä¸¾å¯ä»¥æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•
    enum Planet {
    MERCURY(3.303e+23, 2.4397e6),
    VENUS(4.869e+24, 6.0518e6),
    EARTH(5.976e+24, 6.37814e6),
    MARS(6.421e+23, 3.3972e6);

        
//	æšä¸¾çš„æ„é€ å‡½æ•°å¿…é¡»æ˜¯ç§æœ‰çš„ï¼ˆé»˜è®¤ä¹Ÿæ˜¯ç§æœ‰ï¼‰ï¼Œä»¥é˜²æ­¢å¤–éƒ¨åˆ›å»ºæšä¸¾å®ä¾‹ã€‚
//	æšä¸¾å¯ä»¥å®ç°æ¥å£ï¼Œä½†ä¸èƒ½ç»§æ‰¿å…¶ä»–ç±»ï¼Œå› ä¸ºæšä¸¾éšå¼ç»§æ‰¿è‡ª java.lang.Enum ç±»ã€‚
    private final double mass; // è´¨é‡
    private final double radius; // åŠå¾„

    // æ„é€ å‡½æ•°
    Planet(double mass, double radius) {
        this.mass = mass;
        this.radius = radius;
    }

    // è·å–è´¨é‡çš„æ–¹æ³•
    public double getMass() {
        return mass;
    }

    // è·å–åŠå¾„çš„æ–¹æ³•
    public double getRadius() {
        return radius;
    }
}

public class PlanetExample {
    public static void main(String[] args) {
        Planet earth = Planet.EARTH;
        System.out.println("åœ°çƒçš„è´¨é‡æ˜¯ï¼š" + earth.getMass());
        System.out.println("åœ°çƒçš„åŠå¾„æ˜¯ï¼š" + earth.getRadius());
    }
}



// æšä¸¾çš„values() å’ŒvalueOf()æ–¹æ³•

enum Color {
    RED, GREEN, BLUE
}

public class ValuesExample {
    public static void main(String[] args) {
        Color[] colors = Color.values();
        for (Color color : colors) {
            System.out.println(color);
        }
    }
}




enum Day {
    MONDAY, TUESDAY, WEDNESDAY
}

public class ValueOfExample {
    public static void main(String[] args) {
        Day day = Day.valueOf("MONDAY");
        System.out.println(day);
    }
}
```



```java
import java.util.Scanner;

public class BinarySearch {

	public static int binarySearch(int[] arr, int target, int left, int right) {

		int len = arr.length;
		int le = left;
		int ri = right;

		while (left <= right) {
//		while (len >> 1 != 0) {

			int mid = left + (right - left) / 2;
//			int mid = len >>= 1;

			if (arr[mid] == target) {
				return mid;
			} else if (arr[mid] > target) {
				right = mid - 1;
//				binarySearch(arr, target, le, mid);
			} else {
				left = mid + 1;
//				binarySearch(arr, target, mid + 1, ri);
			}

		}

		System.out.println("æ²¡æœ‰");
		return -1;

	}

	public static void main(String[] args) {

		Scanner sc = new Scanner(System.in);
		int N = sc.nextInt();
		int target = sc.nextInt();
		int[] arr = new int[N];

		for (int i = 0; i < arr.length; ++i) {

			arr[i] = sc.nextInt();
		}

		int result = binarySearch(arr, target, 0, arr.length - 1);
		if (result != -1) {
			System.out.println("ç›®æ ‡å…ƒç´ çš„ç´¢å¼•æ˜¯: " + result);
		} else {
			System.out.println("æ²¡æœ‰æ‰¾åˆ°ç›®æ ‡å…ƒç´ ");
		}

//		binarySearch(arr, target, 0, arr.length);

	}
}







/* äºŒåˆ†æŸ¥æ‰¾ï¼ˆåŒé—­åŒºé—´ï¼‰ */
int binarySearch(int[] nums, int target) {
    // åˆå§‹åŒ–åŒé—­åŒºé—´ [0, n-1] ï¼Œå³ i, j åˆ†åˆ«æŒ‡å‘æ•°ç»„é¦–å…ƒç´ ã€å°¾å…ƒç´ 
    int i = 0, j = nums.length - 1;
    // å¾ªç¯ï¼Œå½“æœç´¢åŒºé—´ä¸ºç©ºæ—¶è·³å‡ºï¼ˆå½“ i > j æ—¶ä¸ºç©ºï¼‰
    while (i <= j) {
        int m = i + (j - i) / 2; // è®¡ç®—ä¸­ç‚¹ç´¢å¼• m
        if (nums[m] < target) // æ­¤æƒ…å†µè¯´æ˜ target åœ¨åŒºé—´ [m+1, j] ä¸­
            i = m + 1;
        else if (nums[m] > target) // æ­¤æƒ…å†µè¯´æ˜ target åœ¨åŒºé—´ [i, m-1] ä¸­
            j = m - 1;
        else // æ‰¾åˆ°ç›®æ ‡å…ƒç´ ï¼Œè¿”å›å…¶ç´¢å¼•
            return m;
    }
    // æœªæ‰¾åˆ°ç›®æ ‡å…ƒç´ ï¼Œè¿”å› -1
    return -1;
}
```







```java
L1-023 è¾“å‡ºGPLT
åˆ†æ•° 20
ä½œè€… é™ˆè¶Š
å•ä½ æµ™æ±Ÿå¤§å­¦
ç»™å®šä¸€ä¸ªé•¿åº¦ä¸è¶…è¿‡10000çš„ã€ä»…ç”±è‹±æ–‡å­—æ¯æ„æˆçš„å­—ç¬¦ä¸²ã€‚è¯·å°†å­—ç¬¦é‡æ–°è°ƒæ•´é¡ºåºï¼ŒæŒ‰GPLTGPLT....è¿™æ ·çš„é¡ºåºè¾“å‡ºï¼Œå¹¶å¿½ç•¥å…¶å®ƒå­—ç¬¦ã€‚å½“ç„¶ï¼Œå››ç§å­—ç¬¦ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰çš„ä¸ªæ•°ä¸ä¸€å®šæ˜¯ä¸€æ ·å¤šçš„ï¼Œè‹¥æŸç§å­—ç¬¦å·²ç»è¾“å‡ºå®Œï¼Œåˆ™ä½™ä¸‹çš„å­—ç¬¦ä»æŒ‰GPLTçš„é¡ºåºæ‰“å°ï¼Œç›´åˆ°æ‰€æœ‰å­—ç¬¦éƒ½è¢«è¾“å‡ºã€‚

è¾“å…¥æ ¼å¼ï¼š
è¾“å…¥åœ¨ä¸€è¡Œä¸­ç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸è¶…è¿‡10000çš„ã€ä»…ç”±è‹±æ–‡å­—æ¯æ„æˆçš„éç©ºå­—ç¬¦ä¸²ã€‚

è¾“å‡ºæ ¼å¼ï¼š
åœ¨ä¸€è¡Œä¸­æŒ‰é¢˜ç›®è¦æ±‚è¾“å‡ºæ’åºåçš„å­—ç¬¦ä¸²ã€‚é¢˜ç›®ä¿è¯è¾“å‡ºéç©ºã€‚

è¾“å…¥æ ·ä¾‹ï¼š
pcTclnGloRgLrtLhgljkLhGFauPewSKgt
è¾“å‡ºæ ·ä¾‹ï¼š
GPLTGPLTGLTGLGLL
ä»£ç é•¿åº¦é™åˆ¶
16 KB
æ—¶é—´é™åˆ¶
150 ms
å†…å­˜é™åˆ¶
64 MB
æ ˆé™åˆ¶
8192 KB

    
    
    

æˆ‘çš„æ€è·¯æ˜¯ï¼šç”¨æœ€ä¾¿æ·é«˜æ•ˆçš„æ‰¾åˆ°è¾“å…¥å­—ç¬¦ä¸²é‡Œè¦æ±‚å­—ç¬¦çš„æ•°é‡ï¼Œä¸ç”¨åŸå­—ç¬¦ä¸²çš„å†…å®¹ï¼Œç„¶åminï¼ˆGPLTï¼‰ï¼Œæ‰¾æœ€å°ï¼Œè¾“å‡ºï¼Œç„¶åå†æ‰¾æœ€å°ï¼Œå†è¾“å‡º
```











## æ¨¡æ¿ + å–„ç”¨API

### æ¨¡æ¿





#### æ¯”è¾ƒå™¨

```java
@Override
public int compare(Moon o1, Moon o2) {
    if(o1.percent > o2.percent) return -1;
    else if(o1.percent == o2.percent) return 0;
    return 1;
}

compare æ–¹æ³•æ˜¯ Comparator æ¥å£ä¸­å¿…é¡»å®ç°çš„æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•° o1 å’Œ o2ï¼Œåˆ†åˆ«ä»£è¡¨è¦æ¯”è¾ƒçš„ä¸¤ä¸ª Moon å¯¹è±¡ã€‚
è¯¥æ–¹æ³•éœ€è¦è¿”å›ä¸€ä¸ªæ•´æ•°å€¼ï¼Œè¿™ä¸ªæ•´æ•°å€¼çš„å«ä¹‰å¦‚ä¸‹ï¼š
è¿”å›å€¼å°äº 0ï¼šè¡¨ç¤º o1 åº”è¯¥æ’åœ¨ o2 å‰é¢ã€‚
è¿”å›å€¼ç­‰äº 0ï¼šè¡¨ç¤º o1 å’Œ o2 åœ¨æ’åºä¸Šæ˜¯ç›¸ç­‰çš„ï¼Œå®ƒä»¬çš„ç›¸å¯¹é¡ºåºå¯ä»¥ä¿æŒä¸å˜ã€‚
è¿”å›å€¼å¤§äº 0ï¼šè¡¨ç¤º o1 åº”è¯¥æ’åœ¨ o2 åé¢ã€‚
    
è¿”å›å€¼å†³å®šè¡¨è¾¾å¼è¿”å›å‰è€…è¿˜æ˜¯åè€…

æœ€ç»ˆè¿”å›ä»€ä¹ˆï¼Œæ˜¯ç”±è¡¨è¾¾å¼å’Œè¿”å›å€¼äºŒè€…å…±åŒå†³å®š
    
    è¿™ä¹Ÿè®©åŒä¸€æ’åºç»“æœæœ‰å¤šç§è¡¨ç°å½¢å¼
    æ¯”å¦‚    å®ç° ä»å¤§åˆ°å° æ’åº
	if(o1.percent > o2.percent) return -1;
	if(o1.percent < o2.percent) return  1;
	if(o2.percent < o1.percent) return  1;
	if(o2.percent > o1.percent) return -1;



//	ä¸Šé¢çš„ä»£ç æ˜¯æ¯”è¾ƒå™¨å†™æ³•ä¹‹ä¸€ï¼Œæœ‰æ¯”è¾ƒå¼å’Œè¿”å›å€¼2è€…å†³å®šæ’åºé€»è¾‘


// ç›´æ¥returnå·®å€¼ï¼Œè¡¨è¾¾å¼ä½œå·®
public int compare(other fo) {
    if (this.benefit == fo.benefit) 
        return this.send - fo.send;
    // è‹¥ç»“æœ <0ï¼Œè¯´æ˜this.seng < fo.sendï¼Œ this.sengæ’åœ¨fo.sendå‰é¢
}


// åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»çš„compareæ–¹æ³•
@Override
public int compareTo(Family other) {
    if (avgAreaThis != avgAreaOther) {
        return Double.compare(avgAreaOther, avgAreaThis);
    }
    return Integer.compare(id, other.id);
    
    
}



Comparable æ¥å£ï¼šComparable æ¥å£ä½äº java.lang åŒ…ä¸­ï¼Œå®ƒåªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³• compareTo(T o)ã€‚æ­¤æ¥å£çš„ä½œç”¨æ˜¯è®©ç±»æœ¬èº«å…·å¤‡æ¯”è¾ƒå’Œæ’åºçš„èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯ç±»çš„å®ä¾‹ä¹‹é—´èƒ½å¤Ÿç›¸äº’æ¯”è¾ƒå¤§å°ã€‚
Comparator æ¥å£ï¼šComparator æ¥å£å¤„äº java.util åŒ…ä¸­ï¼Œå®ƒæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³• compare(T o1, T o2)ã€‚è¯¥æ¥å£ç”¨äºå®šä¹‰ä¸€ä¸ªå¤–éƒ¨çš„æ¯”è¾ƒå™¨ï¼Œå¯åœ¨ä¸ä¿®æ”¹ç±»æœ¬èº«çš„æƒ…å†µä¸‹ï¼Œä¸ºç±»çš„å¯¹è±¡å®šä¹‰ä¸åŒçš„æ’åºè§„åˆ™ã€‚
    
```



#### å¿«é€ŸIO

è¯»é¢˜åˆ¤æ–­æ•°æ®é‡

å½“è¾“å…¥æ•°æ®é‡è¶…è¿‡ **1e5 çº§åˆ«**ï¼ˆå¦‚ 10 ä¸‡è¡Œã€10 ä¸‡ä¸ªæ•°ï¼‰

æ··åˆæ•´æ•°ã€æµ®ç‚¹æ•°ã€ç§‘å­¦è®¡æ•°æ³•æˆ–éæ ‡å‡†åˆ†éš”ç¬¦çš„è¾“å…¥çš„ç‰¹æ®Šå¤„ç†æ ¼å¼

ğŸ‘‡

ç”¨å¿«é€ŸIO



â€‹	ä¸ºä»€ä¹ˆå¿«é€ŸIOæœ‰æ•ˆ

ç¼“å†²æœºåˆ¶ï¼Œå‡å°‘åº•å±‚ç³»ç»Ÿçš„ IO æ“ä½œï¼ˆå¦‚ä»ç¡¬ç›˜æˆ–ç½‘ç»œè¯»å–æ•°æ®ï¼‰ã€‚

æœ€åé€šè¿‡`out.close()`æˆ–æ˜¾å¼è°ƒç”¨`flush()`ç»Ÿä¸€å†™å…¥ï¼Œå‡å°‘ IO æ¬¡æ•°ã€‚æ™®é€šIOæ¯æ¬¡è°ƒç”¨ä¼šè‡ªåŠ¨æ¢è¡Œå¹¶åˆ·æ–°ç¼“å†²åŒºï¼ˆç›¸å½“äº`System.out.flush()`ï¼‰ï¼Œé¢‘ç¹åˆ·æ–°ä¼šå¼ºåˆ¶å°†ç¼“å†²åŒºå†…å®¹å†™å…¥åº•å±‚è®¾å¤‡ï¼Œè€—æ—¶è¾ƒé«˜ã€‚

å­—ç¬¦ä¸²å¤„ç†é€»è¾‘	**`BufferedReader` + `StringTokenizer`**ï¼šç›´æ¥æŒ‰è¡Œè¯»å–å­—ç¬¦ä¸²ï¼Œå†é€šè¿‡`StringTokenizer`åˆ†å‰²

ç›´æ¥è¿”å›å­—ç¬¦ä¸²æˆ–é€šè¿‡å­—ç¬¦ä¸²è§£ææ•°å€¼ï¼Œé¿å…äº†ä¸å¿…è¦çš„å¯¹è±¡åˆ›å»ºå’Œè£…ç®±æ“ä½œã€‚å‡å°‘æ‹†ç®±è£…ç®±

å¯¹äº`BigInteger`ã€`BigDecimal`ç­‰å¤§æ•°ç±»å‹ç›´æ¥è¯»å–å­—ç¬¦ä¸²åè½¬æ¢





IOæ²¡æœ‰æ™®é€‚æ€§å¾ˆå¼ºçš„æ¨¡æ¿



å½“æ•°æ®æ ¼å¼ç®€å•ï¼ˆå¦‚æ¯è¡Œæ•°æ®ç”¨ç©ºæ ¼åˆ†éš”ï¼‰æ—¶ï¼ŒBufferedReader çš„è¾“å…¥æ•ˆç‡æ›´é«˜ã€‚StreamTokenizer çš„è‡ªåŠ¨è§£æé€»è¾‘åœ¨å¤„ç†å¤æ‚æ ¼å¼æ—¶æ›´æ–¹ä¾¿ï¼Œä½†å¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆ



1. StreamTokenizer

```java
// å¦‚æœä¸­é—´éœ€è¦è¾“å‡ºï¼Œé‚£å°±è¦flush();
.nextToken();
.sval
.nval
throws IOException
close();
è¿˜è¦æ³¨æ„è°ƒç”¨ï¼Œä¸æ˜¯. æ˜¯ç›´æ¥ç”¨

package TestField;

import java.io.*;
import java.math.BigDecimal;
import java.util.Arrays;

public class Main {

	static StreamTokenizer in = new StreamTokenizer(new BufferedReader(new InputStreamReader(System.in), 32768));
	static PrintWriter out = new PrintWriter(new OutputStreamWriter(System.out));

	static int nextInt() throws IOException {
		in.nextToken();
		return (int) in.nval;
	}

	static String next() throws IOException {
		in.nextToken();
		return in.sval;
	}

	static BigDecimal nextBigDecimal() throws IOException {
		in.nextToken();
		return new BigDecimal(in.nval);
	}

	public static void main(String[] args) throws IOException {

		int n = nextInt();
		out.print(n + " ");
		out.flush();
		String s = next();
		out.print(s + " ");
		out.flush();
		BigDecimal b = nextBigDecimal();
		out.print(b + " ");

		out.close();
	}
}
```



StreamTokenizer

æŠŠè¾“å…¥æµä¸­çš„æ–‡æœ¬æŒ‰ç…§ä¸€å®šè§„åˆ™åˆ†è§£æˆä¸€ä¸ªä¸ªæ ‡è®°ï¼Œæ ‡è®°å¯ä»¥æ˜¯å•è¯ã€æ•°å­—ã€ç¬¦å·ç­‰ã€‚å®ƒèƒ½å¤Ÿè¯†åˆ«ä¸åŒç±»å‹çš„æ ‡è®°ï¼Œåƒæ ‡è¯†ç¬¦ã€æ•°å­—ã€å¼•å·å¼•èµ·æ¥çš„å­—ç¬¦ä¸²ç­‰ï¼Œå¹¶ä¸”å¯ä»¥å¯¹ä¸åŒç±»å‹çš„æ ‡è®°è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚

```java
import java.io.*;
import java.util.InputMismatchException;

public class FastIO {
    static InputReader sc = new InputReader();
    static PrintWriter out = new PrintWriter(System.out);

    static class InputReader {
        private InputStream inputStream = System.in;
        private byte[] buf = new byte[100000];
        private int curChar;
        private int numChars;

        public int getchar() {
            if (numChars == -1) {
                throw new InputMismatchException();
            }
            if (curChar >= numChars) {
                curChar = 0;
                try {
                    numChars = inputStream.read(buf);
                } catch (IOException e) {
                    throw new InputMismatchException();
                }
                if (numChars <= 0) {
                    return -1;
                }
            }
            return buf[curChar++];
        }

        public int nextInt() {
            int a = 0, b = 1;
            int c = getchar();
            while (c < '0' || c > '9') {
                if (c == '-') {
                    b = -1;
                }
                c = getchar();
            }
            while (c >= '0' && c <= '9') {
                a = (a << 1) + (a << 3) + (c ^ 48);
                c = getchar();
            }
            return a * b;
        }
    }

    public static void main(String[] args) {
        // ç¤ºä¾‹ä½¿ç”¨
        int num = sc.nextInt();
        out.println(num);
        out.flush();
        out.close();
    }
}    
```











2.BufferedReader + PrintWriter

```java
package TestField;

import java.io.*;
import java.util.*;
import java.math.BigDecimal;

public class Main {

	static BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
	static PrintWriter out = new PrintWriter(new OutputStreamWriter(System.out));
	static String[] line = null;
	static String[] line2 = null;

	public static void main(String[] args) throws IOException {
		
		// è¾“å…¥å•ä¸ª
		line = in.readLine().split(" ");
		int a = Integer.parseInt(line[0]);
		
		out.println(a);
		out.flush(); // è¾“å‡º1æ¬¡å°±å¿…é¡»åˆ·æ–°ï¼Œå¦åˆ™æœ‰é—®é¢˜
		
		
		// ä¸€æ¬¡æ€§è¾“å…¥ä¸€ç»„ï¼Œä»¥ç©ºæ ¼åˆ†å‰²
//		line = in.readLine().split(" ");
//		for(int i = 0; i < 10; ++i) {
//			int x = Integer.parseInt(line[i]);
//			out.printf("%d", x);
//			out.flush();
//		}
		
		
		// è¿ç»­è¾“å…¥ï¼Œæ²¡ä»»ä½•é—®é¢˜ï¼Œåªæœ‰è¾“å‡ºçš„æ—¶å€™éœ€è¦åˆ·æ–°
		line = in.readLine().split(" ");
		line2 = in.readLine().split(" ");
		int a = Integer.parseInt(line[0]);
		int b = Integer.parseInt(line2[0]);
		out.println(a + b);
		out.flush();

//		
		// ä½¿ç”¨ç»“æŸåå…³é—­
		out.close();
		
		
	}

}

/*
BufferWriteræ˜ç¡®ä½¿ç”¨ç¼“å†²åŒº
PrintWriterå¦‚æœä½¿ç”¨new OutputStreamWriterï¼Œåˆ™æ˜¯æŒ‡å®šä½¿ç”¨ç¼“å†²åŒºï¼Œå°±å’Œbwè¿™ç‚¹ä¸€æ ·äº†
åŒæ—¶pwæä¾›æ–¹ä¾¿çš„è¾“å‡ºï¼Œå¦‚printlnï¼ˆï¼‰ç­‰
pwæ˜¯è‡ªåŠ¨åˆ·æ–°ï¼Œæ¯æ¬¡ä½¿ç”¨æ‰“å°æ–¹æ³•ï¼Œéƒ½ä¼šè‡ªåŠ¨flushï¼ˆï¼‰
æ‰€ä»¥è¿˜æ˜¯ç”¨pw
*/
```





#### lambdaè¡¨è¾¾å¼

lambda è¡¨è¾¾å¼å…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼ˆå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’è¿›æ–¹æ³•ä¸­ï¼‰

```java
import java.util.Arrays;

public class Main {
    static PrintWriter out = new PrintWriter(System.out);

    public static void main(String[] args) {
        String[] plants = {"Mercury", "venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune"};
        Arrays.sort(plants, (String first, String second) -> (first.length() - second.length()));
        for (String word : plants) {
            out.print(word + " ");
        }
        out.close();
    }
}



// åªæœ‰ä¸€æ¡è¯­å¥ï¼Œç”¨ï¼ˆï¼‰åŒ…è£¹ä¸”ä¸éœ€è¦è¿”å›å€¼

import java.io.PrintWriter;
import java.util.Arrays;

public class Main {
    static PrintWriter out = new PrintWriter(System.out);

    public static void main(String[] args) {
        String[] plants = {"Mercury", "venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune"};
        Arrays.sort(plants, (first, second) ->
        {
            // å½¢å‚ä¸å†™ç±»å‹ï¼Œå¯ä»¥ä»ä¸Šä¸‹æ–‡åˆ¤æ–­å‡º
            int result = first.length() - second.length();
            return result;
        });
        
        
        for (String word : plants) {
            out.print(word + " ");
        }
        out.close();
    }
}
```



















































### API





[Javaç®—æ³•é¢˜å¸¸ç”¨APIæ•´ç†æ€»ç»“_javaç®—æ³•é¢˜å¸¸ç”¨åˆ°çš„ä¸€äº›api-CSDNåšå®¢](https://blog.csdn.net/weixin_45488428/article/details/123352697)

| `gcd(BigInteger val)`      | è¿”å› this çš„ç»å¯¹å€¼ä¸ val çš„ç»å¯¹å€¼çš„æœ€å¤§å…¬çº¦æ•° |
| -------------------------- | --------------------------------------------- |
| `isProbablePrime(int val)` | è¿”å›ä¸€ä¸ªè¡¨ç¤º this æ˜¯å¦æ˜¯ç´ æ•°çš„å¸ƒå°”å€¼          |
| `nextProbablePrime()`      | è¿”å›ç¬¬ä¸€ä¸ªå¤§äº this çš„ç´ æ•°                    |







Collections æ˜¯å¯¹æ•°ç»„æ“ä½œçš„å·¥å…·ç±»

Arrays æ˜¯å¯¹é›†åˆæ“ä½œçš„å·¥å…·ç±»

è¿˜æ˜¯å½“åˆé‚£å¥è¯ï¼Œåå­—å«ä¹‰å°±æ˜¯APIçš„åŠŸèƒ½

è¿˜æœ‰

â€‹	æ¯”å¦‚Listï¼Œå®ƒæ˜¯åˆ—è¡¨ï¼Œå­˜å‚¨æœ‰åºå¯é‡å¤çš„å…ƒç´ 

â€‹	ArrayListæ˜¯å°±æ˜¯åŸºäºåŠ¨æ€æ•°ç»„å®ç°çš„åˆ—è¡¨

â€‹	LinkedListå°±æ˜¯åŸºäºåŒå‘é“¾è¡¨å®ç°çš„åˆ—è¡¨

â€‹	å…¶å®ƒçš„éƒ½è¿™ä¹ˆç†è§£

`Collection`

1. List	æœ‰åºï¼ˆæ’å…¥é¡ºåºï¼‰å…è®¸é‡å¤
    1. ArrayList
    2. LinkedList(åŒå‘é“¾è¡¨å®ç°list)
    3. Vector
        1. Stack
    
2. Queue  æœ‰åºï¼ˆæ’å…¥é¡ºåºã€ä¼˜å…ˆçº§ï¼‰å…è®¸é‡å¤
    1. LinkedListï¼ˆqueueå®ç°listï¼‰
    
    2. PriorityQueue  åŸºäºä¼˜å…ˆçº§æ’åºçš„é˜Ÿåˆ—ï¼ˆé»˜è®¤å°é¡¶å †ï¼‰  
    
        new PriorityQueue<(Comparator.reverseOrder());ï¼ˆå¤§é¡¶å †ï¼‰
    
        new PriorityQueue<>((a, b) -> b - a);
    
    3. Deque  åŒç«¯é˜Ÿåˆ—
    
3. Set         æœ‰åºã€å”¯ä¸€
    1. HashSet  æ— åºã€å”¯ä¸€
    2. TreeSet
    3. LinkedHashSet
    4. SortedSet
    
4. Map       æœ‰åºï¼ˆé”®æ’åºï¼‰ã€é”®å”¯ä¸€
    1. HashMap    æ— åºã€é”®å”¯ä¸€
    2. TreeMap
    3. LinkedHashMap


ä»¥ä¸Šé™„åŠ äº†å¯¹å…ƒç´ çš„é¡ºåºå’Œå”¯ä¸€æ€§çš„è€ƒè™‘

ä»¥ä¸‹æ˜¯å…·ä½“åœºæ™¯å¯¹æ•°æ®ç»“æ„çš„é€‰å–



### `å¼€å¤´:æˆ‘ä¹Ÿå±äºAPI`

### **ä¸€ã€æ ¹æ®æ•°æ®ç‰¹æ€§é€‰æ‹©**



è€ƒè™‘  	å¯¹åº”ã€å”¯ä¸€ã€æœ‰åº

#### **1. éœ€è¦æœ‰åºæ€§**

- **ä¿æŒæ’å…¥é¡ºåº**ï¼š`ArrayList`ã€`LinkedList`ã€`LinkedHashSet`ã€`LinkedHashMap`
    ï¼ˆå¦‚ï¼šéœ€è¦ä¿ç•™è¾“å…¥é¡ºåºè¾“å‡ºæ—¶ï¼‰
- **è‡ªç„¶æ’åºæˆ–è‡ªå®šä¹‰æ’åº**ï¼š`TreeSet`ã€`TreeMap`
    ï¼ˆå¦‚ï¼šéœ€è¦æŒ‰å­—å…¸åºã€æ•°å€¼å¤§å°æ’åºæ—¶ï¼‰
- **ä¼˜å…ˆçº§æ’åº**ï¼š`PriorityQueue`
    ï¼ˆå¦‚ï¼šéœ€è¦æ¯æ¬¡å–å‡ºæœ€å¤§ / æœ€å°å…ƒç´ æ—¶ï¼‰
- **éšå³ä½ç½®**  `Hash å®ç°çš„`

#### **2. éœ€è¦å”¯ä¸€æ€§**

- **å¿«é€Ÿå»é‡**ï¼š`HashSet`ã€`HashMap`ï¼ˆé”®å”¯ä¸€ï¼‰
    ï¼ˆå¦‚ï¼šç»Ÿè®¡ä¸åŒå…ƒç´ æ•°é‡æ—¶ï¼‰
- **æœ‰åºå»é‡**ï¼š`TreeSet`ã€`LinkedHashSet`
    ï¼ˆå¦‚ï¼šè¾“å‡ºå»é‡åçš„æœ‰åºåˆ—è¡¨æ—¶ï¼‰

#### **3. éœ€è¦é”®å€¼å¯¹å­˜å‚¨**

- **æ— åºé”®å€¼å¯¹**ï¼š`HashMap`
    ï¼ˆå¦‚ï¼šç»Ÿè®¡å•è¯å‡ºç°æ¬¡æ•°æ—¶ï¼‰
- **æœ‰åºé”®å€¼å¯¹**ï¼š`TreeMap`ï¼ˆæŒ‰é”®æ’åºï¼‰ã€`LinkedHashMap`ï¼ˆæŒ‰æ’å…¥é¡ºåºï¼‰
    ï¼ˆå¦‚ï¼šéœ€è¦è¾“å‡ºæŒ‰é”®æ’åºçš„ç»Ÿè®¡ç»“æœæ—¶ï¼‰

### **äºŒã€æ ¹æ®æ“ä½œç±»å‹é€‰æ‹©**

#### **1. é¢‘ç¹å¢åˆ æ“ä½œ**

- **é“¾è¡¨ç»“æ„**ï¼š`LinkedList`
    ï¼ˆå¦‚ï¼šéœ€è¦åœ¨é“¾è¡¨ä¸­é—´æ’å…¥ / åˆ é™¤èŠ‚ç‚¹æ—¶ï¼‰
- **é˜Ÿåˆ— / æ ˆæ“ä½œ**ï¼š`LinkedList`ï¼ˆå®ç° Queue/Deque æ¥å£ï¼‰ã€`Stack`
    ï¼ˆå¦‚ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢ BFS ç”¨ Queueï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢ DFS ç”¨ Stackï¼‰

#### **2. é¢‘ç¹éšæœºè®¿é—®**

- **æ•°ç»„ç»“æ„**ï¼š`ArrayList`
    ï¼ˆå¦‚ï¼šéœ€è¦é€šè¿‡ç´¢å¼•å¿«é€Ÿè®¿é—®å…ƒç´ æ—¶ï¼‰

#### **3. éœ€è¦é«˜æ•ˆæŸ¥æ‰¾**

- **å“ˆå¸Œè¡¨**ï¼š`HashSet`ã€`HashMap`
    ï¼ˆå¦‚ï¼šåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦ O (1)ï¼‰
- **æœ‰åºæŸ¥æ‰¾**ï¼š`TreeSet`ã€`TreeMap`
    ï¼ˆå¦‚ï¼šæŸ¥æ‰¾æŸä¸ªèŒƒå›´çš„å…ƒç´ æ—¶ï¼Œå¯åˆ©ç”¨æœ‰åºæ€§ä¼˜åŒ–ï¼‰

### **ä¸‰ã€å…¸å‹ç®—æ³•é¢˜åœºæ™¯**

#### **1. æ•°ç»„å»é‡å¹¶ä¿æŒé¡ºåº**

- æ’å…¥é¡ºåº + å”¯ä¸€æ€§

    ï¼š

    ```
    LinkedHashSet
    ```

    java

    

    

    

    

    

    ```java
    List<Integer> list = new ArrayList<>(new LinkedHashSet<>(array));
    ```

#### **2. ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆTop K é—®é¢˜ï¼‰**

- æœ€å°å † / æœ€å¤§å †

    ï¼š

    ```
    PriorityQueue
    ```

    java

    

    

    

    

    

    ```java
    // æœ€å¤§å †ï¼ˆé™åºï¼‰
    PriorityQueue<Integer> maxHeap = new PriorityQueue<>((a, b) -> b - a);
    ```

#### **3. å›¾çš„éå†ï¼ˆBFS/DFSï¼‰**

- BFSï¼ˆé˜Ÿåˆ—ï¼‰

    ï¼š

    ```
    LinkedList
    ```

    ï¼ˆå®ç° Queue æ¥å£ï¼‰

    java

    

    

    

    

    

    ```java
    Queue<TreeNode> queue = new LinkedList<>();
    ```

- DFSï¼ˆæ ˆï¼‰

    ï¼š

    ```
    LinkedList
    ```

    ï¼ˆæ¨¡æ‹Ÿæ ˆï¼‰æˆ–

    ```
    Stack
    ```

    java

    

    

    

    

    

    ```java
    Stack<TreeNode> stack = new LinkedList<>(); // æˆ–ç›´æ¥ new Stack<>()
    ```

#### **4. ç»Ÿè®¡å­—ç¬¦é¢‘ç‡å¹¶æ’åº**

- æ— åºç»Ÿè®¡

    ï¼š

    ```
    HashMap
    ```

    - ç»Ÿè®¡åç”¨`TreeMap`æ’åº

    java

    

    

    

    

    

    ```java
    Map<Character, Integer> freq = new HashMap<>();
    Map<Character, Integer> sortedFreq = new TreeMap<>(freq); // æŒ‰é”®æ’åº
    ```

#### **5. å¿«é€Ÿåˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å¤å…ƒç´ **

- å“ˆå¸Œè¡¨

    ï¼š

    ```
    HashSet
    ```

    java

    

    

    

    

    

    ```java
    boolean containsDuplicate(int[] nums) {
        return nums.length != new HashSet<>(Arrays.asList(nums)).size();
    }
    ```

### **å››ã€æ€»ç»“å¯¹æ¯”è¡¨**

| åœºæ™¯                  | æ¨èé›†åˆç±»                | æ—¶é—´å¤æ‚åº¦    | å…¸å‹ç®—æ³•é¢˜ç¤ºä¾‹            |
| --------------------- | ------------------------- | ------------- | ------------------------- |
| **æ’å…¥é¡ºåº + é‡å¤**   | `ArrayList`               | O(1) add      | æ•°ç»„è½¬åˆ—è¡¨                |
| **æ’å…¥é¡ºåº + å”¯ä¸€**   | `LinkedHashSet`           | O(1) add      | å»é‡å¹¶ä¿æŒé¡ºåº            |
| **è‡ªç„¶æ’åº + å”¯ä¸€**   | `TreeSet`                 | O(log n) add  | æ‰¾å‡ºæ•°æ®æµä¸­çš„ç¬¬ K å¤§å…ƒç´  |
| **é”®å€¼å¯¹ + å¿«é€ŸæŸ¥æ‰¾** | `HashMap`                 | O(1) get      | ä¸¤æ•°ä¹‹å’Œ                  |
| **é”®å€¼å¯¹ + æœ‰åºè¾“å‡º** | `TreeMap`/`LinkedHashMap` | O(log n)/O(1) | æŒ‰é¢‘ç‡æ’åºå…ƒç´             |
| **ä¼˜å…ˆé˜Ÿåˆ—**          | `PriorityQueue`           | O(log n) poll | åˆå¹¶ K ä¸ªæœ‰åºé“¾è¡¨         |

### **äº”ã€é¿å‘æŒ‡å—**

1. **é¿å…è¯¯ç”¨é›†åˆç‰¹æ€§**
    - ä¸è¦ç”¨`HashSet`å­˜å‚¨éœ€è¦é¡ºåºçš„å…ƒç´ ï¼Œé™¤éé¢˜ç›®ä¸å…³å¿ƒé¡ºåºã€‚
    - ä¸è¦ç”¨`ArrayList`é¢‘ç¹åˆ é™¤ä¸­é—´å…ƒç´ ï¼ˆæ—¶é—´å¤æ‚åº¦ O (n)ï¼‰ã€‚
2. **æ³¨æ„é»˜è®¤æ’åºè§„åˆ™**
    - `TreeSet`/`TreeMap`é»˜è®¤æŒ‰è‡ªç„¶é¡ºåºæ’åºï¼ˆéœ€å®ç°`Comparable`ï¼‰ã€‚
    - è‹¥éœ€è‡ªå®šä¹‰æ’åºï¼Œå¿…é¡»æä¾›`Comparator`ã€‚
3. **ä¼˜å…ˆé€‰æ‹©æ¥å£ç¼–ç¨‹**
    - å£°æ˜å˜é‡æ—¶ç”¨æ¥å£ï¼ˆå¦‚`List<String> list = new ArrayList<>()`ï¼‰ï¼Œä¾¿äºåç»­æ›¿æ¢å®ç°ç±»ã€‚

### `ç»“å°¾ï¼šæˆ‘ä¹Ÿå±äºAPI`

è¿™ä¸ªæ˜¯å¸¸ç”¨æ–¹æ³•

[åŠ›æ‰£ã€ç‰›å®¢åˆ·é¢˜ javaå„ç±»å¸¸ç”¨æ–¹æ³•æ•´ç† ç®—æ³•_javaåŠ›æ‰£å¸¸è§é›†åˆ-CSDNåšå®¢](https://blog.csdn.net/fan960919/article/details/119898892)



Object

1. Integerâ€¦â€¦
2. String
3. StringBuffer
4. Array
5. Arrays









































































